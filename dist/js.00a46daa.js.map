{"version":3,"sources":["../node_modules/aos/dist/aos.js","../node_modules/animejs/lib/anime.es.js","../node_modules/three/build/three.module.js","../node_modules/gsap/TweenLite.js","../node_modules/gsap/TweenMaxBase.js","../node_modules/gsap/CSSPlugin.js","../node_modules/gsap/AttrPlugin.js","../node_modules/gsap/RoundPropsPlugin.js","../node_modules/gsap/DirectionalRotationPlugin.js","../node_modules/gsap/TimelineLite.js","../node_modules/gsap/TimelineMax.js","../node_modules/gsap/BezierPlugin.js","../node_modules/gsap/EasePack.js","../node_modules/gsap/TweenMax.js","../src/hover-effect.js","js/index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","text","indexOf","applyArguments","func","args","apply","is","arr","a","Array","isArray","obj","Object","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","split","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","x","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","forEach","name","keys","easeIn","parseEasings","ease","selectString","nodes","document","querySelectorAll","e","filterArray","callback","len","length","thisArg","arguments","result","push","flattenArray","reduce","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","parseInt","hslToRgba","hslValue","h","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","target","id","total","getAttribute","el","prop","convertPxToUnit","value","unit","valueUnit","baseline","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","style","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","set","getTransformValue","defaultVal","get","list","getOriginalTargetValue","getRelativeValue","to","from","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","getPath","path","percent","property","getPathProgress","point","offset","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","k","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","last","setTargetsValue","animatables","animType","createAnimation","lastTween","type","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","activeInstances","pausedInstances","raf","engine","play","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","tick","instanceIndex","splice","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","anime","running","addEventListener","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","window","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","reverse","restart","removeTargetsFromAnimations","removeTargets","c","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","index","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","add","instanceParams","tlIndex","insParams","tlDuration","version","remove","convertPx","random","EPSILON","undefined","isInteger","isFinite","sign","Function","defineProperty","assign","TypeError","output","source","nextKey","EventDispatcher","listener","_listeners","listeners","hasEventListener","removeEventListener","listenerArray","dispatchEvent","event","array","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","_Math","DEG2RAD","RAD2DEG","generateUUID","lut","d0","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Vector2","defineProperties","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","constructor","copy","console","warn","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","manhattanLength","normalize","angle","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","fromBufferAttribute","getX","getY","rotateAround","center","Matrix4","error","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","z","extractRotation","Vector3","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","d","f","order","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","zero","one","compose","lookAt","eye","up","crossVectors","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","count","getZ","applyMatrix4","setXYZ","determinant","transpose","tmp","setPosition","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","makeShear","quaternion","_x","_y","_z","_w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","sy","sz","decompose","vector","matrix","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","left","right","top","bottom","near","far","makeOrthographic","Quaternion","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","x1","y1","z1","w1","dir","sqrSin","tDir","onChangeCallback","isQuaternion","setFromEuler","c1","c2","c3","s1","s2","s3","setFromAxisAngle","halfAngle","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","EPS","vFrom","vTo","angleTo","acos","rotateTowards","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","isVector3","setZ","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","matrixWorld","transformDirection","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","Matrix3","isMatrix3","setFromMatrix4","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","rotation","cx","cy","rotate","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","createElementNS","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","create","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","dispose","transformUv","uv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLRenderTargetCube","activeCubeFace","activeMipMapLevel","isWebGLRenderTargetCube","DataTexture","data","isDataTexture","Box3","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","expandByVector","expandByScalar","scope","traverse","node","geometry","isGeometry","vertices","isBufferGeometry","attributes","updateMatrixWorld","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","closestPoint","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","v0","f0","f1","f2","testAxis","extents","triangleNormal","satForAxes","axes","j","triangle","distanceToPoint","clampedPoint","getBoundingSphere","Sphere","intersect","union","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","denominator","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","normalMatrix","referencePoint","Frustum","p3","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","boundingSphere","computeBoundingSphere","intersectsSprite","sprite","negRadius","distance","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","merge","ColorKeywords","Color","setRGB","setHex","setStyle","setHSL","handleAlpha","color","components","charAt","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","SRGBToLinear","copyLinearToSRGB","LinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","hslA","hslB","UniformsLib","diffuse","opacity","uvTransform","alphaMap","specularmap","specularMap","envmap","envMap","flipEnvMap","reflectivity","refractionRatio","maxMipLevel","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","gradientmap","gradientMap","fog","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","directionalLights","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","vertexShader","fragmentShader","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","matcap","dashed","dashSize","totalSize","depth","background","t2D","cube","tCube","tFlip","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","clearCoat","clearCoatRoughness","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","WeakMap","createBuffer","bufferType","usage","dynamic","buffer","bindBuffer","bufferData","onUploadCallback","Float64Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Int8Array","Uint8Array","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","updateRange","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","Face3","materialIndex","vertexNormals","vertexColors","Euler","_order","DefaultOrder","RotationOrders","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","toggle","disable","layers","object3DId","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","updateWorldMatrix","isCamera","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","material","uuids","extractFromCache","recursive","parse","geometryId","Geometry","colors","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","vertex","face","jl","computeBoundingBox","fromBufferGeometry","indices","positions","normals","uvs","uvs2","uv2","addFace","groups","group","computeFaceNormals","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","precision","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","kl","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","BufferAttribute","itemSize","normalized","isBufferAttribute","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","arrayMax","bufferGeometryId","BufferGeometry","morphAttributes","drawRange","getIndex","setIndex","addAttribute","removeAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","pA","pB","pC","normalizeNormals","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","toNonIndexed","geometry2","array2","morphAttribute","BoxGeometry","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","materialId","Material","blending","side","flatShading","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","isMaterial","onBeforeCompile","setValues","newValue","isRoot","emissiveIntensity","normalMapType","combine","sizeAttenuation","linewidth","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","srcPlanes","dstPlanes","ShaderMaterial","defines","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Ray","origin","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","barycoord","uv1","uv3","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","vab","vac","vbc","vap","vbp","vcp","d4","vc","d5","d6","vb","va","MeshBasicMaterial","isMeshBasicMaterial","Mesh","drawMode","updateMorphTargets","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","String","inverseMatrix","tempA","tempB","tempC","uvA","uvB","uvC","intersectionPoint","intersectionPointWorld","checkIntersection","raycaster","checkBufferGeometryIntersection","intersection","intersects","groupMaterial","faceIndex","fvA","fvB","fvC","isMultiMaterial","faceMaterial","morphInfluences","influence","uvs_f","WebGLBackground","renderer","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","render","renderList","scene","forceClear","setClear","autoClear","clear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","capabilities","mode","setMode","drawArrays","renderInstances","extension","isWebGL2","maxInstancedCount","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","getWireframeAttribute","geometryIndex","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture3d","emptyCubeTexture","UniformContainer","seq","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocTextureUnit","setValue1f","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2f","uniform2fv","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4f","uniform4fv","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","getSingularSetter","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","updateCache","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","RePathPart","addUniform","container","uniformObject","parseUniform","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","addLineNumbers","join","WebGLShader","shader","createShader","shaderSource","compileShader","getShaderParameter","getShaderInfoLog","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","objectSpaceNormalMap","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","parseIncludes","pattern","include","unrollLoops","snippet","unroll","WebGLProgram","code","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","programLog","getProgramInfoLog","trim","vertexLog","fragmentLog","runnable","haveDiagnostics","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","shadows","nClipPlanes","nClipIntersection","shaderID","isSkinnedMesh","currentRenderTarget","getRenderTarget","gammaOutput","gammaInput","envMapMode","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","pop","WebGLProperties","painterSortStable","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","getNextRenderItem","renderItem","WebGLRenderLists","lists","cameras","UniformsCache","light","halfWidth","halfHeight","WebGLLights","stateID","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","shadowsLength","ambient","vector3","matrix42","setup","intensity","isAmbientLight","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","WebGLShadowMap","_renderer","_objects","_frustum","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_lightPositionWorld","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","cubeDirections","cubeUps","cube2DViewPorts","useMorphing","useSkinning","depthMaterial","distanceMaterial","autoUpdate","_gl","_state","setTest","setScissorTest","faceCount","shadowCamera","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMatrix","setRenderTarget","vpDimensions","renderObject","getDepthMaterial","lightPositionWorld","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","variantIndex","keyA","keyB","materialsForVariant","cachedMaterial","renderBufferDirect","WebGLState","utils","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","compressedTextureFormats","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","setBlending","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","getCompressedTextureFormats","formats","useProgram","blendFuncSeparate","blendFunc","blendEquationSeparate","convert","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","activeTexture","webglSlot","webglType","webglTexture","boundTexture","compressedTexImage2D","texImage3D","WebGLTextures","_videoTextures","clampToMaxSize","maxSize","makePowerOfTwo","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTarget","deallocateRenderTarget","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","slot","updateVideoTexture","__version","uploadTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","isPowerOfTwoImage","glInternalFormat","setTextureParameters","mipmap","setTextureCubeDynamic","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isTargetPowerOfTwo","createFramebuffer","updateRenderTargetMipmap","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","Group","isGroup","Camera","projectionMatrixInverse","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","ArrayCamera","isArrayCamera","cameraLPos","cameraRPos","setProjectionFromUnion","cameraL","cameraR","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","WebVRManager","device","frameData","poseTarget","controllers","standingMatrix","standingMatrixInverse","framebufferScaleFactor","frameOfReferenceType","VRFrameData","onVRDisplayPresentChange","tempQuaternion","tempPosition","bounds","cameraVR","isPresenting","currentSize","currentPixelRatio","eyeParameters","getEyeParameters","renderWidth","renderHeight","getPixelRatio","setDrawingBufferSize","animation","triggers","findGamepad","gamepads","navigator","getGamepads","gamepad","startsWith","updateControllers","controller","pose","hasPosition","orientation","buttonId","buttons","pressed","getController","getDevice","setDevice","setFramebufferScaleFactor","setFrameOfReferenceType","setPoseTarget","getCamera","userHeight","depthNear","depthFar","getFrameData","stageParameters","sittingToStandingTransform","poseObject","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","WebXRManager","session","frameOfReference","inputSources","XRDevice","setCompatibleXRDevice","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","setSession","baseLayer","XRWebGLLayer","requestFrameOfReference","then","getInputSources","updateCamera","onAnimationFrameCallback","getDevicePose","views","getViewport","getViewMatrix","inputPose","getInputPose","targetRay","transformMatrix","pointerMatrix","THREE","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_usedTextureUnits","_width","_height","_pixelRatio","_viewport","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_vector3","getTargetPixelRatio","contextAttributes","onContextLost","onContextRestore","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","vr","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","getCurrentViewport","setScissor","boolean","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","isLight","initMaterial","projectObject","opaqueObjects","transparentObjects","overrideMaterial","renderObjects","isImmediateRenderObject","camera2","materialProperties","lightsHash","lightsStateHash","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","isFog","density","textureUnit","warned","setTexture","readRenderTargetPixels","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","Sprite","float32Array","intersectPoint","worldScale","mvPosition","alignedPosition","rotatedPosition","viewWorldMatrix","transformVertex","vertexPosition","LOD","levels","addLevel","getObjectForDistance","matrixPosition","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","Skeleton","boneInverses","bone","isBone","offsetMatrix","identityMatrix","getBoneByName","Bone","linecap","linejoin","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","LineSegments","LineLoop","Points","threshold","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","ol","edge","edges","ParametricGeometry","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","detail","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","appplyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","prev","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","nextZ","prevZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","verticesRow","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","Interpolant","parameterPositions","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","validate_interval","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","track","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","shift","timeOffset","timeScale","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","tracks","resetDuration","getTrackTypeForValueTypeName","typeName","parseKeyframeTrack","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","DefaultLoadingManager","loading","FileLoader","manager","load","setTimeout","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","status","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setPath","setResponseType","setWithCredentials","setMimeType","AnimationLoader","loader","CompressedTextureLoader","_parser","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","crossOrigin","onImageLoad","onImageError","setCrossOrigin","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","tangent","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","resolution","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","SpotLightShadow","SpotLight","power","PointLight","OrthographicCamera","isOrthographicCamera","zoomW","zoomH","scaleW","scaleH","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","BufferGeometryLoader","typedArray","TYPED_ARRAYS","drawcalls","offsets","ObjectLoader","resourcePath","setResourcePath","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","Loader","Handlers","handlers","regex","onLoadStart","onLoadProgress","onLoadComplete","initMaterials","texturePath","createMaterial","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","StereoCamera","eyeSep","eyeRight","eyeLeft","eyeSepOnProjection","ymax","xmin","xmax","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","Clock","autoStart","oldTime","elapsedTime","performance","Date","getElapsedTime","getDelta","newTime","AudioListener","gain","createGain","connect","destination","timeDelta","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","clock","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","detune","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setBuffer","createBufferSource","onended","onEnded","setValueAtTime","getFilters","setFilters","setDetune","getDetune","setPlaybackRate","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","PositionalAudio","panner","createPanner","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","RESERVED_CHARS_RE","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","reservedRe","RegExp","wordChar","wordCharOrDot","directoryRe","nodeRe","objectRe","propertyRe","trackRe","supportedObjectNames","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedBufferGeometry","InstancedInterleavedBuffer","InstancedBufferAttribute","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","Box2","Line3","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","VertexNormalsHelper","nNormals","objGeometry","objPos","objNorm","SpotLightHelper","cone","coneLength","coneWidth","getBoneList","boneList","SkeletonHelper","boneMatrix","matrixWorldInv","PointLightHelper","sphereSize","RectAreaLightHelper","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","BoxHelper","Box3Helper","PlaneHelper","positions2","lineGeometry","coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","copyIndicesArray","addIndex","addDrawCall","clearDrawCalls","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","shadowMapCullFace","renderReverseSided","renderSingleSided","standing","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","Projector","projectVector","unprojectVector","pickingRay","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","_gsScope","module","exports","global","TweenLite","_exports","_doc","_globals","GreenSockGlobals","_namespace","ns","gs","_tinyNum","_slice","_emptyFunc","_isArray","_ticker","_tickerActive","_defLookup","Definition","dependencies","sc","gsClass","_classes","check","missing","cur","cl","_gsDefine","_class","globals","_baseParams","Ease","extraParams","_func","_type","_power","_params","_easeMap","_easeReg","register","names","types","na","ta","getRatio","_calcEnd","pw","Linear","swing","Quad","easeInOut","_eventTarget","useParam","priority","wake","pr","_reqAnimFrame","_cancelAnimFrame","_getTime","getTime","_lastUpdate","useRAF","_self","_useRAF","_lagThreshold","_adjustedLag","_tickWord","_fps","_req","_gap","_nextTime","_tick","overlap","dispatch","lagSmoothing","adjustedLag","sleep","clearTimeout","seamless","visibilityState","Ticker","events","Animation","vars","_duration","_totalDuration","_delay","_timeScale","_active","immediateRender","_reversed","_rootTimeline","useFrames","_rootFramesTimeline","_time","ticker","_dirty","_gc","_initted","_paused","_totalTime","_rawPrevTime","_next","_last","_onUpdate","_timeline","_checkTimeout","unref","suppressEvents","atTime","resume","totalTime","includeDelay","totalDuration","invalidate","_enabled","isActive","rawTime","ignoreTimeline","_remove","_kill","kill","_uncache","includeSelf","_swapSelfInParams","_callback","callbackScope","eventCallback","smoothChildTiming","uncapped","_pauseTime","_lazyTweens","_lazyRender","totalProgress","ratio","_sortChildren","includeRepeats","pauseTime","raw","SimpleTimeline","autoRemoveChildren","_first","_recent","insert","align","prevTween","st","_prev","skipDisable","selector","isSelector","jquery","overwrite","targ","_overwrite","_overwriteLookup","defaultOverwrite","_targets","_propLookup","_siblings","_register","_applyOverwrite","_isSelector","_autoCSS","_reservedProps","_plugins","_firstPT","_overwrittenProps","_startAt","_notifyPluginsOfEnabled","_lazy","defaultEase","_ease","autoSleep","$","jQuery","getElementById","_lazyLookup","_numbersExp","_relExp","_setRatio","_tween","_target","fp","_blobRound","_blobDif","charIndex","startNums","endNums","num","nonNumbers","currentNum","_applyPT","setRatio","_addPropTween","overwriteProp","mod","funcParam","stringFilter","getterName","isRelative","pg","defaultStringFilter","_internals","lazyTweens","blobDif","_tweenLookup","tweenLookup","_tweenLookupNum","reservedProps","onComplete","onCompleteParams","onCompleteScope","runBackwards","onUpdateParams","onUpdateScope","onStartParams","onStartScope","onReverseComplete","onReverseCompleteParams","onReverseCompleteScope","onRepeat","onRepeatParams","onRepeatScope","easeParams","yoyo","repeatDelay","autoCSS","lazy","onOverwrite","yoyoEase","none","all","auto","concurrent","allOnStart","preexisting","_nextGCFrame","lazyRender","_updateRoot","scrub","_gsTweenID","_onOverwrite","overwrittenTween","overwritingTween","killedProps","r1","r2","props","siblings","changed","curTween","overlaps","oCount","zeroDur","globalStart","_checkOverlap","reference","ts","_init","op","dur","immediate","initPlugins","startVars","config","_easeType","_easePower","_initProps","_onPluginEvent","propLookup","overwrittenProps","plugin","_onInitTween","_priority","_overwriteProps","_onInitAllProps","_onDisable","_onEnable","prevRawPrevTime","isComplete","rawPrevTime","simultaneousOverwrite","firstPT","killProps","record","killed","_tempKill","fromTo","fromVars","toVars","delayedCall","getTweensOf","onlyActive","killTweensOf","killDelayedCallsTo","TweenPlugin","_propName","_super","API","_addTween","lookup","_mod","_roundProps","first","activate","plugins","overwriteProps","initAll","Plugin","_gsQueue","nonGlobals","com","greensock","core","Power0","Power1","Power2","Power3","Power4","_applyCycle","alt","cycle","_distribute","each","isFromKeyword","distances","originX","originY","TweenMax","_cycle","_yoyo","_repeat","_repeatDelay","TweenLiteInternals","_blankArray","distribute","_yoyoEase","updateTo","curRatio","inv","endValue","totalDur","prevTotalTime","prevCycle","cycleDuration","staggerTo","allTo","onCompleteAll","onCompleteAllParams","onCompleteAllScope","staggerFunc","fromCycle","staggerFrom","allFrom","staggerFromTo","allFromTo","isTweening","_getChildrenOf","includeTimelines","cnt","getAllTweens","killAll","delayedCalls","timelines","allTrue","isDC","killChildTweensOf","curParent","_changePause","pauseAll","resumeAll","globalTimeScale","cycleDur","TweenMaxBase","CSSPlugin","_hasPriority","_suffixMap","_cs","_specialProps","defaultTransformPerspective","defaultSkewType","defaultSmoothOrigin","suffixMap","fontSize","padding","margin","perspective","lineHeight","_numExp","_relNumExp","_valuesExp","_valuesExpWithCommas","_NaNExp","_suffixExp","_opacityExp","_opacityValExp","_alphaFilterExp","_rgbhslExp","_capsExp","_camelExp","_urlExp","_camelFunc","_horizExp","_ieGetMatrixExp","_ieSetMatrixExp","_commasOutsideParenExp","_complexExp","_DEG2RAD","_RAD2DEG","_forcePT","_dummyElement","_createElement","_tempDiv","_tempImg","_agent","userAgent","_autoRound","_reqSafariFix","_isSafari","_isFirefox","_isSafariLT6","_ieVers","_supportsOpacity","$1","cssText","_getIEOpacity","currentStyle","_log","_index","_prefixCSS","_prefix","_checkPropPrefix","_computedStyleScope","defaultView","_getComputedStyle","_getStyle","dflt","rv","_convertToPixels","convertToPixels","sfx","recurse","horiz","neg","precise","pix","clientWidth","clientHeight","_gsCache","cacheWidths","_calculateOffset","calculateOffset","_getAllStyles","tr","_transformPropCSS","_transformProp","_getTransform","skewX","_supports3D","rotationX","rotationY","_cssDif","forceLookup","difs","mpt","MiniPropTween","firstMPT","_dimensions","_margins","_getDimension","getCTM","_isSVG","getBBox","offsetHeight","_parsePosition","recObj","oxp","oyp","oxr","oyr","ox","oy","_parseChange","_parseVal","_parseAngle","directionalEnd","cap","dif","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","fuchsia","olive","yellow","orange","gray","purple","green","red","pink","cyan","_hue","m2","_parseColor","parseColor","toHSL","wasHSL","_formatColors","_colorExp","temp","colorStringFilter","combined","_getFormatter","clr","collapsible","multi","dColor","dVals","pfx","delim","numVals","dSfx","formatter","vals","_getEdgeParser","cssp","_setPluginRatio","proxy","autoRotate","xs0","xs1","_parseToProxy","shallow","bpt","_transform","oldForce","xp","rxp","CSSPropTween","_addNonTweeningNumericPT","_parseComplex","parseComplex","clrs","ba","ea","autoRound","xi","ni","bv","ev","bnums","enums","bn","hasAlpha","cv","useHSL","appendXtra","xfirst","pad","SpecialProp","defaultValue","keyword","allowFunc","_registerComplexSpecialProp","defaults","_registerPluginProp","pluginName","pluginClass","_cssRegister","kwd","bi","ei","registerSpecialProp","onInitTween","useSVGTransformAttr","_transformProps","_transformOriginProp","Transform","force3D","defaultForce3D","_SVGElement","_useSVGTransformAttr","_createSVG","setAttributeNS","_docElement","documentElement","_forceSVGTransformAttr","chrome","_parseSVGOrigin","local","decoratee","absolute","smoothOrigin","skipRecord","tm","_gsTransform","_getMatrix","xOrigin","yOrigin","xOriginOld","yOriginOld","hasAttribute","_identity2DMatrix","yOffset","_getBBoxHack","swapIfPossible","ownerSVGElement","oldParent","oldSibling","nextSibling","oldCSS","bbox","display","_originalGetBBox","insertBefore","_getBBox","force2D","rnd","isDefault","dec","offsetParent","_removeProp","baseVal","consolidate","getTransform","rec","invX","zOrigin","t4","skewType","_setIETransformRatio","ang","xPercent","yPercent","mult","marg","ieOffsetX","ieOffsetY","_setTransformRatio","set3DTransformRatio","setTransformRatio","isSVG","skewY","comma","parsingProp","_lastParsedTransform","scaleFunc","originalGSTransform","endRotations","transformOriginString","parseTransform","orig","has3D","hasChange","dr","rotationZ","transformOrigin","svgOrigin","transformPerspective","directionalRotation","shortRotation","shortRotationX","shortRotationY","_transformType","ea1","es2","bs2","es","en","esfx","bsfx","rel","hn","vn","em","backgroundPositionX","backgroundPositionY","pct","clipTop","clipRight","clipBottom","clipLeft","bw","_setIEOpacityRatio","skip","xn1","isAutoAlpha","removeProperty","_setClassNameRatio","_gsClassPT","difData","cnpt","cnptLookup","_classNamePT","_setClearPropsRatio","transformParse","clearTransform","_vars","zIndex","tpt","threeD","_addLazySet","className","WebkitBackfaceVisibility","_linkCSSP","sp","isStr","strictUnits","xs2","xn2","xs3","xn3","xs4","xn4","xs5","_enableTransforms","lazySet","autoAlpha","visibility","_getChildStyles","childNodes","cascadeTo","AttrPlugin","RoundPropsPlugin","_getRoundFunc","_roundLinkedList","rp","roundProps","rpt","_add","DirectionalRotationPlugin","finals","useRadians","TimelineLite","_labels","_copy","_pauseCallback","pauseCallback","_defaultImmediateRender","defaultFalse","ir","_forcingPlayhead","_hasPause","Engine","exportRoot","ignoreDelayedCalls","hasNegativeStart","curTime","beforeRawTime","_parseTimeOrLabel","addLabel","removeLabel","append","offsetOrLabel","insertMultiple","appendMultiple","label","addPause","getLabelTime","timeOrLabel","appendIfAbsent","ignore","clippedDuration","recent","gotoAndPlay","gotoAndStop","prevStart","prevTimeScale","prevPaused","internalForce","pauseTween","_hasPausedChild","getChildren","nested","ignoreBeforeTime","disabled","_contains","shiftChildren","adjustLabels","labels","_calculatingDuration","usesFrames","wrapRepeats","TimelineMax","_easeNone","addCallback","removeCallback","removePause","tweenTo","tweenFromTo","fromPosition","toPosition","_locked","backwards","recTotalTime","recCycle","recRawPrevTime","recTime","getActive","getLabelAfter","getLabelsArray","getLabelBefore","currentLabel","_r1","_r2","_r3","_corProps","Segment","da","ca","_correlate","cubicToQuadratic","q3","q4","mab","mbc","mcd","mabc","mbcd","m8","_calculateControlPoints","curviness","quad","correlate","ii","cp1","seg","mm","cp2","_parseAnchors","prepend","bezierThrough","quadratic","_parseBezierData","inc","soft","_addCubicLengths","bez","_parseLengthData","curLS","BezierPlugin","_props","_timeRes","timeResolution","second","orientToBezier","isFunc","_autoRotate","_beziers","_segCount","ld","_length","_lengths","_segments","_l1","_li","_s1","_si","_l2","_curSeg","_s2","_prec","_initialRotations","_startRatio","notStart","curIndex","curSeg","ar","conv","quadraticToCubic","pluginValues","_2PI","_HALF_PI","_create","_wrap","EaseOut","EaseIn","EaseInOut","aliases","easeOut","EasePoint","gap","_createBack","overshoot","_p1","_p2","SlowMo","linearRatio","yoyoMode","_p","_p3","SteppedEase","ExpoScaleEase","RoughEase","_createElastic","immediateStart","randomize","template","strength","bump","pnt","invert","def","find","Expo","_autoActivated","opts","firstDefined","dispImage","displacementImage","image1","image2","imagesRatio","intensity1","intensity2","commonAngle","angle1","angle2","speedIn","speedOut","userHover","hover","disp","video2","texture1","texture2","imageAspect","dispFactor","dpr","devicePixelRatio","transitionIn","transitionOut","previous","AOS","checkBox","querySelector","links","linkarr","checked","stroke","strokeDashoffset","fill","hoverEffect","require","bundleURL","getBundleURLCached","getBundleURL","err","stack","getBaseURL","bundle","updateLink","link","newLink","cloneNode","onload","href","cssTimeout","reloadCSS","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","deps"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.AOS=t()}(this,function(){\"use strict\";var e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},t=\"Expected a function\",n=NaN,o=\"[object Symbol]\",i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,u=\"object\"==typeof e&&e&&e.Object===Object&&e,d=\"object\"==typeof self&&self&&self.Object===Object&&self,l=u||d||Function(\"return this\")(),f=Object.prototype.toString,m=Math.max,p=Math.min,b=function(){return l.Date.now()};function v(e,n,o){var i,a,r,c,s,u,d=0,l=!1,f=!1,v=!0;if(\"function\"!=typeof e)throw new TypeError(t);function y(t){var n=i,o=a;return i=a=void 0,d=t,c=e.apply(o,n)}function h(e){var t=e-u;return void 0===u||t>=n||t<0||f&&e-d>=r}function k(){var e=b();if(h(e))return x(e);s=setTimeout(k,function(e){var t=n-(e-u);return f?p(t,r-(e-d)):t}(e))}function x(e){return s=void 0,v&&i?y(e):(i=a=void 0,c)}function O(){var e=b(),t=h(e);if(i=arguments,a=this,u=e,t){if(void 0===s)return function(e){return d=e,s=setTimeout(k,n),l?y(e):c}(u);if(f)return s=setTimeout(k,n),y(u)}return void 0===s&&(s=setTimeout(k,n)),c}return n=w(n)||0,g(o)&&(l=!!o.leading,r=(f=\"maxWait\"in o)?m(w(o.maxWait)||0,n):r,v=\"trailing\"in o?!!o.trailing:v),O.cancel=function(){void 0!==s&&clearTimeout(s),d=0,i=u=a=s=void 0},O.flush=function(){return void 0===s?c:x(b())},O}function g(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function w(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&f.call(e)==o}(e))return n;if(g(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(i,\"\");var u=r.test(e);return u||c.test(e)?s(e.slice(2),u?2:8):a.test(e)?n:+e}var y=function(e,n,o){var i=!0,a=!0;if(\"function\"!=typeof e)throw new TypeError(t);return g(o)&&(i=\"leading\"in o?!!o.leading:i,a=\"trailing\"in o?!!o.trailing:a),v(e,n,{leading:i,maxWait:n,trailing:a})},h=\"Expected a function\",k=NaN,x=\"[object Symbol]\",O=/^\\s+|\\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,N=/^0o[0-7]+$/i,z=parseInt,C=\"object\"==typeof e&&e&&e.Object===Object&&e,A=\"object\"==typeof self&&self&&self.Object===Object&&self,q=C||A||Function(\"return this\")(),L=Object.prototype.toString,T=Math.max,M=Math.min,S=function(){return q.Date.now()};function D(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function H(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&L.call(e)==x}(e))return k;if(D(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(O,\"\");var n=E.test(e);return n||N.test(e)?z(e.slice(2),n?2:8):j.test(e)?k:+e}var $=function(e,t,n){var o,i,a,r,c,s,u=0,d=!1,l=!1,f=!0;if(\"function\"!=typeof e)throw new TypeError(h);function m(t){var n=o,a=i;return o=i=void 0,u=t,r=e.apply(a,n)}function p(e){var n=e-s;return void 0===s||n>=t||n<0||l&&e-u>=a}function b(){var e=S();if(p(e))return v(e);c=setTimeout(b,function(e){var n=t-(e-s);return l?M(n,a-(e-u)):n}(e))}function v(e){return c=void 0,f&&o?m(e):(o=i=void 0,r)}function g(){var e=S(),n=p(e);if(o=arguments,i=this,s=e,n){if(void 0===c)return function(e){return u=e,c=setTimeout(b,t),d?m(e):r}(s);if(l)return c=setTimeout(b,t),m(s)}return void 0===c&&(c=setTimeout(b,t)),r}return t=H(t)||0,D(n)&&(d=!!n.leading,a=(l=\"maxWait\"in n)?T(H(n.maxWait)||0,t):a,f=\"trailing\"in n?!!n.trailing:f),g.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=s=i=c=void 0},g.flush=function(){return void 0===c?r:v(S())},g},W=function(){};function P(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(function e(t){var n=void 0,o=void 0;for(n=0;n<t.length;n+=1){if((o=t[n]).dataset&&o.dataset.aos)return!0;if(o.children&&e(o.children))return!0}return!1}(t.concat(n)))return W()})}function Y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}var _={isSupported:function(){return!!Y()},ready:function(e,t){var n=window.document,o=new(Y())(P);W=t,o.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}},B=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,G=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,J=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Q=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i;function R(){return navigator.userAgent||navigator.vendor||window.opera||\"\"}var U=new(function(){function e(){B(this,e)}return F(e,[{key:\"phone\",value:function(){var e=R();return!(!K.test(e)&&!G.test(e.substr(0,4)))}},{key:\"mobile\",value:function(){var e=R();return!(!J.test(e)&&!Q.test(e.substr(0,4)))}},{key:\"tablet\",value:function(){return this.mobile()&&!this.phone()}},{key:\"ie11\",value:function(){return\"-ms-scroll-limit\"in document.documentElement.style&&\"-ms-ime-align\"in document.documentElement.style}}]),e}()),V=function(e,t){var n=void 0;return U.ie11()?(n=document.createEvent(\"CustomEvent\")).initCustomEvent(e,!0,!0,{detail:t}):n=new CustomEvent(e,{detail:t}),document.dispatchEvent(n)},X=function(e){return e.forEach(function(e,t){return function(e,t){var n=e.options,o=e.position,i=e.node,a=(e.data,function(){e.animated&&(function(e,t){t&&t.forEach(function(t){return e.classList.remove(t)})}(i,n.animatedClassNames),V(\"aos:out\",i),e.options.id&&V(\"aos:in:\"+e.options.id,i),e.animated=!1)});n.mirror&&t>=o.out&&!n.once?a():t>=o.in?e.animated||(function(e,t){t&&t.forEach(function(t){return e.classList.add(t)})}(i,n.animatedClassNames),V(\"aos:in\",i),e.options.id&&V(\"aos:in:\"+e.options.id,i),e.animated=!0):e.animated&&!n.once&&a()}(e,window.pageYOffset)})},Z=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-(\"BODY\"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-(\"BODY\"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}},ee=function(e,t,n){var o=e.getAttribute(\"data-aos-\"+t);if(void 0!==o){if(\"true\"===o)return!0;if(\"false\"===o)return!1}return o||n},te=function(e,t){return e.forEach(function(e,n){var o=ee(e.node,\"mirror\",t.mirror),i=ee(e.node,\"once\",t.once),a=ee(e.node,\"id\"),r=t.useClassNames&&e.node.getAttribute(\"data-aos\"),c=[t.animatedClassName].concat(r?r.split(\" \"):[]).filter(function(e){return\"string\"==typeof e});t.initClassName&&e.node.classList.add(t.initClassName),e.position={in:function(e,t,n){var o=window.innerHeight,i=ee(e,\"anchor\"),a=ee(e,\"anchor-placement\"),r=Number(ee(e,\"offset\",a?0:t)),c=a||n,s=e;i&&document.querySelectorAll(i)&&(s=document.querySelectorAll(i)[0]);var u=Z(s).top-o;switch(c){case\"top-bottom\":break;case\"center-bottom\":u+=s.offsetHeight/2;break;case\"bottom-bottom\":u+=s.offsetHeight;break;case\"top-center\":u+=o/2;break;case\"center-center\":u+=o/2+s.offsetHeight/2;break;case\"bottom-center\":u+=o/2+s.offsetHeight;break;case\"top-top\":u+=o;break;case\"bottom-top\":u+=o+s.offsetHeight;break;case\"center-top\":u+=o+s.offsetHeight/2}return u+r}(e.node,t.offset,t.anchorPlacement),out:o&&function(e,t){window.innerHeight;var n=ee(e,\"anchor\"),o=ee(e,\"offset\",t),i=e;return n&&document.querySelectorAll(n)&&(i=document.querySelectorAll(n)[0]),Z(i).top+i.offsetHeight-o}(e.node,t.offset)},e.options={once:i,mirror:o,animatedClassNames:c,id:a}}),e},ne=function(){var e=document.querySelectorAll(\"[data-aos]\");return Array.prototype.map.call(e,function(e){return{node:e}})},oe=[],ie=!1,ae={offset:120,delay:0,easing:\"ease\",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:\"top-bottom\",startEvent:\"DOMContentLoaded\",animatedClassName:\"aos-animate\",initClassName:\"aos-init\",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},re=function(){return document.all&&!window.atob},ce=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ie=!0),ie&&(oe=te(oe,ae),X(oe),window.addEventListener(\"scroll\",y(function(){X(oe,ae.once)},ae.throttleDelay)))},se=function(){if(oe=ne(),de(ae.disable)||re())return ue();ce()},ue=function(){oe.forEach(function(e,t){e.node.removeAttribute(\"data-aos\"),e.node.removeAttribute(\"data-aos-easing\"),e.node.removeAttribute(\"data-aos-duration\"),e.node.removeAttribute(\"data-aos-delay\"),ae.initClassName&&e.node.classList.remove(ae.initClassName),ae.animatedClassName&&e.node.classList.remove(ae.animatedClassName)})},de=function(e){return!0===e||\"mobile\"===e&&U.mobile()||\"phone\"===e&&U.phone()||\"tablet\"===e&&U.tablet()||\"function\"==typeof e&&!0===e()};return{init:function(e){return ae=I(ae,e),oe=ne(),ae.disableMutationObserver||_.isSupported()||(console.info('\\n      aos: MutationObserver is not supported on this browser,\\n      code mutations observing has been disabled.\\n      You may have to call \"refreshHard()\" by yourself.\\n    '),ae.disableMutationObserver=!0),ae.disableMutationObserver||_.ready(\"[data-aos]\",se),de(ae.disable)||re()?ue():(document.querySelector(\"body\").setAttribute(\"data-aos-easing\",ae.easing),document.querySelector(\"body\").setAttribute(\"data-aos-duration\",ae.duration),document.querySelector(\"body\").setAttribute(\"data-aos-delay\",ae.delay),-1===[\"DOMContentLoaded\",\"load\"].indexOf(ae.startEvent)?document.addEventListener(ae.startEvent,function(){ce(!0)}):window.addEventListener(\"load\",function(){ce(!0)}),\"DOMContentLoaded\"===ae.startEvent&&[\"complete\",\"interactive\"].indexOf(document.readyState)>-1&&ce(!0),window.addEventListener(\"resize\",$(ce,ae.debounceDelay,!0)),window.addEventListener(\"orientationchange\",$(ce,ae.debounceDelay,!0)),oe)},refresh:ce,refreshHard:se}});\n","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '99';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t        te[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t        te[ 1 ] = ( xy + wz ) * sx;\n\t        te[ 2 ] = ( xz - wy ) * sx;\n\t        te[ 3 ] = 0;\n\n\t        te[ 4 ] = ( xy - wz ) * sy;\n\t        te[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t        te[ 6 ] = ( yz + wx ) * sy;\n\t        te[ 7 ] = 0;\n\n\t        te[ 8 ] = ( xz + wy ) * sz;\n\t        te[ 9 ] = ( yz - wx ) * sz;\n\t        te[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t        te[ 11 ] = 0;\n\n\t        te[ 12 ] = position.x;\n\t        te[ 13 ] = position.y;\n\t        te[ 14 ] = position.z;\n\t        te[ 15 ] = 1;\n\n\t        return this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\treturn this.applyMatrix4( matrix.getInverse( camera.projectionMatrix ) ).applyMatrix4( camera.matrixWorld );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\tthis.activeMipMapLevel = 0;\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: ( function () {\n\n\t\t// triangle centered vertices\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\t// triangle edge vectors\n\t\tvar f0 = new Vector3();\n\t\tvar f1 = new Vector3();\n\t\tvar f2 = new Vector3();\n\n\t\tvar testAxis = new Vector3();\n\n\t\tvar center = new Vector3();\n\t\tvar extents = new Vector3();\n\n\t\tvar triangleNormal = new Vector3();\n\n\t\tfunction satForAxes( axes ) {\n\n\t\t\tvar i, j;\n\n\t\t\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t\t\ttestAxis.fromArray( axes, i );\n\t\t\t\t// project the aabb onto the seperating axis\n\t\t\t\tvar r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\n\t\t\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\t\t\tvar p0 = v0.dot( testAxis );\n\t\t\t\tvar p1 = v1.dot( testAxis );\n\t\t\t\tvar p2 = v2.dot( testAxis );\n\t\t\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\t\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn function intersectsTriangle( triangle ) {\n\n\t\t\tif ( this.isEmpty() ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// compute box center and extents\n\t\t\tthis.getCenter( center );\n\t\t\textents.subVectors( this.max, center );\n\n\t\t\t// translate triangle to aabb origin\n\t\t\tv0.subVectors( triangle.a, center );\n\t\t\tv1.subVectors( triangle.b, center );\n\t\t\tv2.subVectors( triangle.c, center );\n\n\t\t\t// compute edge vectors for triangle\n\t\t\tf0.subVectors( v1, v0 );\n\t\t\tf1.subVectors( v2, v1 );\n\t\t\tf2.subVectors( v0, v2 );\n\n\t\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\t\tvar axes = [\n\t\t\t\t0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\n\t\t\t\tf0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\n\t\t\t\t- f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\n\t\t\t];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// test 3 face normals from the aabb\n\t\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\t\t\ttriangleNormal.crossVectors( f0, f1 );\n\t\t\taxes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\n\t\t\treturn satForAxes( axes );\n\n\t\t};\n\n\t} )(),\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t\ttarget = new Sphere();\n\n\t\t\t}\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) return this;\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn target.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\t// corner at max distance\n\n\t\t\t\tp.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif ( plane.distanceToPoint( p ) < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\";\n\nvar bsdfs = \"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#ifndef STANDARD\\n\\t\\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_maps = \"#ifdef USE_NORMALMAP\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t#ifdef FLIP_SIDED\\n\\t\\t\\tnormal = - normal;\\n\\t\\t#endif\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tnormal = normalize( normalMatrix * normal );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tuniform mat3 normalMatrix;\\n\\t#else\\n\\t\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t\\tmapN.xy *= normalScale;\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\treturn normalize( tsn * mapN );\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function () {\n\n\t\tfunction SRGBToLinear( c ) {\n\n\t\t\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n\t\t}\n\n\t\treturn function copySRGBToLinear( color ) {\n\n\t\t\tthis.r = SRGBToLinear( color.r );\n\t\t\tthis.g = SRGBToLinear( color.g );\n\t\t\tthis.b = SRGBToLinear( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopyLinearToSRGB: function () {\n\n\t\tfunction LinearToSRGB( c ) {\n\n\t\t\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n\t\t}\n\n\t\treturn function copyLinearToSRGB( color ) {\n\n\t\t\tthis.r = LinearToSRGB( color.r );\n\t\t\tthis.g = LinearToSRGB( color.g );\n\t\t\tthis.b = LinearToSRGB( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function () {\n\n\t\tvar hsl = {};\n\n\t\treturn function ( h, s, l ) {\n\n\t\t\tthis.getHSL( hsl );\n\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function () {\n\n\t\tvar hslA = { h: 0, s: 0, l: 0 };\n\t\tvar hslB = { h: 0, s: 0, l: 0 };\n\n\t\treturn function lerpHSL( color, alpha ) {\n\n\t\t\tthis.getHSL( hslA );\n\t\t\tcolor.getHSL( hslB );\n\n\t\t\tvar h = _Math.lerp( hslA.h, hslB.h, alpha );\n\t\t\tvar s = _Math.lerp( hslA.s, hslB.s, alpha );\n\t\t\tvar l = _Math.lerp( hslA.l, hslB.l, alpha );\n\n\t\t\tthis.setHSL( h, s, l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? 35048 : 35044;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, 35044 );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tvar q1 = new Quaternion();\n\t\tvar m1 = new Matrix4();\n\t\tvar target = new Vector3();\n\t\tvar position = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\ttarget.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\ttarget.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tvar parent = this.parent;\n\n\t\t\tthis.updateWorldMatrix( true, false );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tif ( this.isCamera ) {\n\n\t\t\t\tm1.lookAt( position, target, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( target, position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t\tif ( parent ) {\n\n\t\t\t\tm1.extractRotation( parent.matrixWorld );\n\t\t\t\tq1.setFromRotationMatrix( m1 );\n\t\t\t\tthis.quaternion.premultiply( q1.inverse() );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\t\ttarget = new Quaternion();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, target, scale );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, target );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, target ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, target );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, target );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function getNormal( a, b, c, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\ttarget.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\ttarget.cross( v0 );\n\n\t\t\tvar targetLengthSq = target.lengthSq();\n\t\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn target.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function getBarycoord( point, a, b, c, target ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn target.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tTriangle.getBarycoord( point, a, b, c, v1 );\n\n\t\t\treturn ( v1.x >= 0 ) && ( v1.y >= 0 ) && ( ( v1.x + v1.y ) <= 1 );\n\n\t\t};\n\n\t}(),\n\n\tgetUV: function () {\n\n\t\tvar barycoord = new Vector3();\n\n\t\treturn function getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\t\tthis.getBarycoord( point, p1, p2, p3, barycoord );\n\n\t\t\ttarget.set( 0, 0 );\n\t\t\ttarget.addScaledVector( uv1, barycoord.x );\n\t\t\ttarget.addScaledVector( uv2, barycoord.y );\n\t\t\ttarget.addScaledVector( uv3, barycoord.z );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getArea() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, result ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, result );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar vab = new Vector3();\n\t\tvar vac = new Vector3();\n\t\tvar vbc = new Vector3();\n\t\tvar vap = new Vector3();\n\t\tvar vbp = new Vector3();\n\t\tvar vcp = new Vector3();\n\n\t\treturn function closestPointToPoint( p, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar a = this.a, b = this.b, c = this.c;\n\t\t\tvar v, w;\n\n\t\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\tvab.subVectors( b, a );\n\t\t\tvac.subVectors( c, a );\n\t\t\tvap.subVectors( p, a );\n\t\t\tvar d1 = vab.dot( vap );\n\t\t\tvar d2 = vac.dot( vap );\n\t\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy( a );\n\n\t\t\t}\n\n\t\t\tvbp.subVectors( p, b );\n\t\t\tvar d3 = vab.dot( vbp );\n\t\t\tvar d4 = vac.dot( vbp );\n\t\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy( b );\n\n\t\t\t}\n\n\t\t\tvar vc = d1 * d4 - d3 * d2;\n\t\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\t\treturn target.copy( a ).addScaledVector( vab, v );\n\n\t\t\t}\n\n\t\t\tvcp.subVectors( p, c );\n\t\t\tvar d5 = vab.dot( vcp );\n\t\t\tvar d6 = vac.dot( vcp );\n\t\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy( c );\n\n\t\t\t}\n\n\t\t\tvar vb = d5 * d2 - d1 * d6;\n\t\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\t\treturn target.copy( a ).addScaledVector( vac, w );\n\n\t\t\t}\n\n\t\t\tvar va = d3 * d6 - d5 * d4;\n\t\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t\tvbc.subVectors( c, b );\n\t\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\t\treturn target.copy( b ).addScaledVector( vbc, w ); // edge region of BC\n\n\t\t\t}\n\n\t\t\t// face region\n\t\t\tvar denom = 1 / ( va + vb + vc );\n\t\t\t// u = va * denom\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy( a ).addScaledVector( vab, v ).addScaledVector( vac, w );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( m = 0, ml = morphTargets.length; m < ml; m ++ ) {\n\n\t\t\t\t\tname = morphTargets[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) return null;\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar intersection = checkIntersection( object, material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t\tvar face = new Face3( a, b, c );\n\t\t\t\tTriangle.getNormal( vA, vB, vC, face.normal );\n\n\t\t\t\tintersection.face = face;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) return;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar groups = geometry.groups;\n\t\t\t\tvar drawRange = geometry.drawRange;\n\t\t\t\tvar i, j, il, jl;\n\t\t\t\tvar group, groupMaterial;\n\t\t\t\tvar start, end;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = i;\n\t\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\t// Store the current background texture and its `version`\n\t// so we can recompile the material accordingly.\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLRenderTargetCube ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: true,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\t\t\tboxMesh.material.uniforms.tCube.value = texture;\n\t\t\tboxMesh.material.uniforms.tFlip.value = ( background.isWebGLRenderTargetCube ) ? 1 : - 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t     currentBackgroundVersion !== texture.version ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.removeAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\t   currentBackgroundVersion !== background.version ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE' ]( mode, start, count, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tvar attribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) return attribute;\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE' ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\tcase 6:\n\t\t\t\trender.triangles += instanceCount * ( count - 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = renderer.allocTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValue1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue3iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue4iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1f; // FLOAT\n\t\tcase 0x8b50: return setValue2fv; // _VEC2\n\t\tcase 0x8b51: return setValue3fv; // _VEC3\n\t\tcase 0x8b52: return setValue4fv; // _VEC4\n\n\t\tcase 0x8b5a: return setValue2fm; // _MAT2\n\t\tcase 0x8b5b: return setValue3fm; // _MAT3\n\t\tcase 0x8b5c: return setValue4fm; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8B5F: return setValueT3D1; // SAMPLER_3D\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform1fv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\nfunction setValue1iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform1iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 2 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform2fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 3 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform3fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform4fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 9 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 16 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1fv; // FLOAT\n\t\tcase 0x8b50: return setValueV2a; // _VEC2\n\t\tcase 0x8b51: return setValueV3a; // _VEC3\n\t\tcase 0x8b52: return setValueV4a; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2a; // _MAT2\n\t\tcase 0x8b5b: return setValueM3a; // _MAT3\n\t\tcase 0x8b5c: return setValueM4a; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tUniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, renderer ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], renderer );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n\tUniformContainer.call( this );\n\n\tthis.renderer = renderer;\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, this.renderer );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, renderer );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( gl.getShaderParameter( shader, 35713 ) === false ) {\n\n\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t}\n\n\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === 35633 ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || ( parameters.normalMap && ! parameters.objectSpaceNormalMap ) || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( material.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\tvar runnable = true;\n\tvar haveDiagnostics = true;\n\n\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\trunnable = false;\n\n\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t} else if ( programLog !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\thaveDiagnostics = false;\n\n\t}\n\n\tif ( haveDiagnostics ) {\n\n\t\tthis.diagnostics = {\n\n\t\t\trunnable: runnable,\n\t\t\tmaterial: material,\n\n\t\t\tprogramLog: programLog,\n\n\t\t\tvertexShader: {\n\n\t\t\t\tlog: vertexLog,\n\t\t\t\tprefix: prefixVertex\n\n\t\t\t},\n\n\t\t\tfragmentShader: {\n\n\t\t\t\tlog: fragmentLog,\n\t\t\t\tprefix: prefixFragment\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.name = shader.name;\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\tarray.push( renderer.gammaFactor );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program && b.program && a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists[ scene.id ];\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ scene.id ] = {};\n\t\t\tlists[ scene.id ][ camera.id ] = list;\n\n\t\t} else {\n\n\t\t\tlist = cameras[ camera.id ];\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras[ camera.id ] = list;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar count = 0;\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tid: count ++,\n\n\t\thash: {\n\t\t\tstateID: - 1,\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\t\t\tshadowsLength: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\tstate.hash.stateID = state.id;\n\t\tstate.hash.directionalLength = directionalLength;\n\t\tstate.hash.pointLength = pointLength;\n\t\tstate.hash.spotLength = spotLength;\n\t\tstate.hash.rectAreaLength = rectAreaLength;\n\t\tstate.hash.hemiLength = hemiLength;\n\t\tstate.hash.shadowsLength = shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = {};\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates[ scene.id ] === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates[ scene.id ] = {};\n\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t} else {\n\n\t\t\tif ( renderStates[ scene.id ][ camera.id ] === undefined ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates[ scene.id ][ camera.id ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\t// TODO Clean up (needed in case of contextlost)\n\t\tvar _gl = _renderer.context;\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.disable( 3042 );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils, capabilities ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( 34467 );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar _videoTextures = {};\n\tvar _canvas;\n\n\t//\n\n\tfunction clampToMaxSize( image, maxSize ) {\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tif ( 'data' in image ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// Warning: Scaling through the canvas will only work with images that use\n\t\t\t// premultiplied alpha.\n\n\t\t\tvar scale = maxSize / Math.max( image.width, image.height );\n\n\t\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\tcanvas.width = Math.floor( image.width * scale );\n\t\t\tcanvas.height = Math.floor( image.height * scale );\n\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height );\n\n\t\t\treturn canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction makePowerOfTwo( image ) {\n\n\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = _Math.floorPowerOfTwo( image.width );\n\t\t\t_canvas.height = _Math.floorPowerOfTwo( image.height );\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, _canvas.width, _canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + _canvas.width + 'x' + _canvas.height );\n\n\t\t\treturn _canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( capabilities.isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, isPowerOfTwo ) {\n\n\t\treturn texture.generateMipmaps && isPowerOfTwo &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( glFormat, glType ) {\n\n\t\tif ( ! capabilities.isWebGL2 ) return glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) return 33326;\n\t\t\tif ( glType === 5131 ) return 33325;\n\t\t\tif ( glType === 5121 ) return 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) return 34837;\n\t\t\tif ( glType === 5131 ) return 34843;\n\t\t\tif ( glType === 5121 ) return 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) return 34836;\n\t\t\tif ( glType === 5131 ) return 34842;\n\t\t\tif ( glType === 5121 ) return 32856;\n\n\t\t}\n\n\t\treturn glFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\tdelete _videoTextures[ texture.id ];\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\t// remove all webgl properties\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__image__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tisPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\t\tsetTextureParameters( 34067, texture, isPowerOfTwoImage );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\n\n\t\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__image__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, isPowerOfTwoImage ) {\n\n\t\tvar extension;\n\n\t\tif ( isPowerOfTwoImage ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, 10243, utils.convert( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, 10240, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType;\n\n\t\tif ( texture.isDataTexture3D ) {\n\n\t\t\ttextureType = 32879;\n\n\t\t} else {\n\n\t\t\ttextureType = 3553;\n\n\t\t}\n\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\t\tstate.activeTexture( 33984 + slot );\n\n\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\n\n\t\tif ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\n\n\t\t\timage = makePowerOfTwo( image );\n\n\t\t}\n\n\t\tvar isPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, isPowerOfTwoImage );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! capabilities.isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\n\n\t\t\tgenerateMipmap( 3553, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\t// FIXME: We don't support !depth !stencil\n\t\t\t_gl.renderbufferStorage( 36161, 32854, renderTarget.width, renderTarget.height );\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, isTargetPowerOfTwo );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, isTargetPowerOfTwo );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isTargetPowerOfTwo ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar id = texture.id;\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures[ id ] !== frame ) {\n\n\t\t\t_videoTextures[ id ] = frame;\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return 10497;\n\t\tif ( p === ClampToEdgeWrapping ) return 33071;\n\t\tif ( p === MirroredRepeatWrapping ) return 33648;\n\n\t\tif ( p === NearestFilter ) return 9728;\n\t\tif ( p === NearestMipMapNearestFilter ) return 9984;\n\t\tif ( p === NearestMipMapLinearFilter ) return 9986;\n\n\t\tif ( p === LinearFilter ) return 9729;\n\t\tif ( p === LinearMipMapNearestFilter ) return 9985;\n\t\tif ( p === LinearMipMapLinearFilter ) return 9987;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === AddEquation ) return 32774;\n\t\tif ( p === SubtractEquation ) return 32778;\n\t\tif ( p === ReverseSubtractEquation ) return 32779;\n\n\t\tif ( p === ZeroFactor ) return 0;\n\t\tif ( p === OneFactor ) return 1;\n\t\tif ( p === SrcColorFactor ) return 768;\n\t\tif ( p === OneMinusSrcColorFactor ) return 769;\n\t\tif ( p === SrcAlphaFactor ) return 770;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return 771;\n\t\tif ( p === DstAlphaFactor ) return 772;\n\t\tif ( p === OneMinusDstAlphaFactor ) return 773;\n\n\t\tif ( p === DstColorFactor ) return 774;\n\t\tif ( p === OneMinusDstColorFactor ) return 775;\n\t\tif ( p === SrcAlphaSaturateFactor ) return 776;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn p;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tif ( p === MinEquation ) return 32775;\n\t\t\t\tif ( p === MaxEquation ) return 32776;\n\n\t\t\t}\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author jsantell / https://www.jsantell.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar cameraLPos = new Vector3();\nvar cameraRPos = new Vector3();\n\n/**\n * Assumes 2 cameras that are parallel and share an X-axis, and that\n * the cameras' projection and world matrices have already been set.\n * And that near and far planes are identical for both cameras.\n * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n */\nfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\tvar projL = cameraL.projectionMatrix.elements;\n\tvar projR = cameraR.projectionMatrix.elements;\n\n\t// VR systems will have identical far and near planes, and\n\t// most likely identical top and bottom frustum extents.\n\t// Use the left camera for these values.\n\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\tvar left = near * leftFov;\n\tvar right = near * rightFov;\n\n\t// Calculate the new camera's position offset from the\n\t// left camera. xOffset should be roughly half `ipd`.\n\tvar zOffset = ipd / ( - leftFov + rightFov );\n\tvar xOffset = zOffset * - leftFov;\n\n\t// TODO: Better way to apply this offset?\n\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\tcamera.translateX( xOffset );\n\tcamera.translateZ( zOffset );\n\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t// Find the union of the frustum values of the cameras and scale\n\t// the values so that the near plane's position does not change in world space,\n\t// although must now be relative to the new union camera.\n\tvar near2 = near + zOffset;\n\tvar far2 = far + zOffset;\n\tvar left2 = left - xOffset;\n\tvar right2 = right + ( ipd - xOffset );\n\tvar top2 = topFov * far / far2 * near2;\n\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tvar poseTarget = null;\n\n\tvar controllers = [];\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReferenceType = 'stage';\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\tvar tempQuaternion = new Quaternion();\n\tvar tempPosition = new Vector3();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tfunction isPresenting() {\n\n\t\treturn device !== null && device.isPresenting === true;\n\n\t}\n\n\tvar currentSize, currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\tvar renderWidth = eyeParameters.renderWidth * framebufferScaleFactor;\n\t\t\tvar renderHeight = eyeParameters.renderHeight * framebufferScaleFactor;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\tcurrentSize = renderer.getSize();\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n\t\t\tanimation.start();\n\n\t\t} else {\n\n\t\t\tif ( scope.enabled ) {\n\n\t\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar triggers = [];\n\n\tfunction findGamepad( id ) {\n\n\t\tvar gamepads = navigator.getGamepads && navigator.getGamepads();\n\n\t\tfor ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\n\n\t\t\tvar gamepad = gamepads[ i ];\n\n\t\t\tif ( gamepad && ( gamepad.id === 'Daydream Controller' ||\n\t\t\t\tgamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\n\t\t\t\tgamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\n\t\t\t\tgamepad.id.startsWith( 'Spatial Controller' ) ) ) {\n\n\t\t\t\tif ( j === id ) return gamepad;\n\n\t\t\t\tj ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateControllers() {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar gamepad = findGamepad( i );\n\n\t\t\tif ( gamepad !== undefined && gamepad.pose !== undefined ) {\n\n\t\t\t\tif ( gamepad.pose === null ) return;\n\n\t\t\t\t//  Pose\n\n\t\t\t\tvar pose = gamepad.pose;\n\n\t\t\t\tif ( pose.hasPosition === false ) controller.position.set( 0.2, - 0.6, - 0.05 );\n\n\t\t\t\tif ( pose.position !== null ) controller.position.fromArray( pose.position );\n\t\t\t\tif ( pose.orientation !== null ) controller.quaternion.fromArray( pose.orientation );\n\t\t\t\tcontroller.matrix.compose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrix.premultiply( standingMatrix );\n\t\t\t\tcontroller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrixWorldNeedsUpdate = true;\n\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t//  Trigger\n\n\t\t\t\tvar buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\n\n\t\t\t\tif ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\n\n\t\t\t\t\ttriggers[ i ] = gamepad.buttons[ buttonId ].pressed;\n\n\t\t\t\t\tif ( triggers[ i ] === true ) {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectstart' } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectend' } );\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'select' } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcontroller.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t\tanimation.setContext( value );\n\n\t};\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setPoseTarget = function ( object ) {\n\n\t\tif ( object !== undefined ) poseTarget = object;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tvar userHeight = frameOfReferenceType === 'stage' ? 1.6 : 0;\n\n\t\tif ( device === null ) {\n\n\t\t\tcamera.position.set( 0, userHeight, 0 );\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tvar stageParameters = device.stageParameters;\n\n\t\t\tif ( stageParameters ) {\n\n\t\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\n\t\t\t} else {\n\n\t\t\t\tstandingMatrix.makeTranslation( 0, userHeight, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar pose = frameData.pose;\n\t\tvar poseObject = poseTarget !== null ? poseTarget : camera;\n\n\t\t// We want to manipulate poseObject by its position and quaternion components since users may rely on them.\n\t\tposeObject.matrix.copy( standingMatrix );\n\t\tposeObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\ttempQuaternion.fromArray( pose.orientation );\n\t\t\tposeObject.quaternion.multiply( tempQuaternion );\n\n\t\t}\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\ttempQuaternion.setFromRotationMatrix( standingMatrix );\n\t\t\ttempPosition.fromArray( pose.position );\n\t\t\ttempPosition.applyQuaternion( tempQuaternion );\n\t\t\tposeObject.position.add( tempPosition );\n\n\t\t}\n\n\t\tposeObject.updateMatrixWorld();\n\n\t\tif ( device.isPresenting === false ) return camera;\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\t// TODO (mrdoob) Double check this code\n\n\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = poseObject.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tif ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n\t\t\t\tcameraL.bounds.fromArray( layer.leftBounds );\n\n\t\t\t}\n\n\t\t\tif ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n\t\t\t\tcameraR.bounds.fromArray( layer.rightBounds );\n\n\t\t\t}\n\n\t\t}\n\n\t\tupdateControllers();\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar animation = new WebGLAnimation();\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tanimation.setAnimationLoop( callback );\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( isPresenting() ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer ) {\n\n\tvar gl = renderer.context;\n\n\tvar device = null;\n\tvar session = null;\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReference = null;\n\tvar frameOfReferenceType = 'stage';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSources = [];\n\n\tfunction isPresenting() {\n\n\t\treturn session !== null && frameOfReference !== null;\n\n\t}\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\t\tif ( value instanceof XRDevice ) gl.setCompatibleXRDevice( value );\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = controllers[ inputSources.indexOf( event.inputSource ) ];\n\t\tif ( controller ) controller.dispatchEvent( { type: event.type } );\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\trenderer.setFramebuffer( null );\n\t\tanimation.stop();\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tsession.baseLayer = new XRWebGLLayer( session, gl, { framebufferScaleFactor: framebufferScaleFactor } );\n\t\t\tsession.requestFrameOfReference( frameOfReferenceType ).then( function ( value ) {\n\n\t\t\t\tframeOfReference = value;\n\n\t\t\t\trenderer.setFramebuffer( session.baseLayer.framebuffer );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t} );\n\n\t\t\t//\n\n\t\t\tinputSources = session.getInputSources();\n\n\t\t\tsession.addEventListener( 'inputsourceschange', function () {\n\n\t\t\t\tinputSources = session.getInputSources();\n\t\t\t\tconsole.log( inputSources );\n\n\t\t\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\tvar controller = controllers[ i ];\n\t\t\t\t\tcontroller.userData.inputSource = inputSources[ i ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar parent = camera.parent;\n\t\t\tvar cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tvar children = camera.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\treturn cameraVR;\n\n\t\t}\n\n\t\treturn camera;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getDevicePose( frameOfReference );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar layer = session.baseLayer;\n\t\t\tvar views = frame.views;\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = layer.getViewport( view );\n\t\t\t\tvar viewMatrix = pose.getViewMatrix( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tvar inputPose = frame.getInputPose( inputSource, frameOfReference );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\tif ( 'targetRay' in inputPose ) {\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.targetRay.transformMatrix;\n\n\t\t\t\t\t} else if ( 'pointerMatrix' in inputPose ) {\n\n\t\t\t\t\t\t// DEPRECATED\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.pointerMatrix;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.matrix.decompose( controller.position, controller.rotation, controller.scale );\n\t\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcontroller.visible = false;\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n\t// DEPRECATED\n\n\tthis.getStandingMatrix = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\n\t\treturn new THREE.Matrix4();\n\n\t};\n\n\tthis.submitFrame = function () {};\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default';\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_usedTextureUnits = 0,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( ! capabilities.isWebGL2 ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, utils, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( geometries, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = null;\n\n\tif ( typeof navigator !== 'undefined' ) {\n\n\t\tvr = ( 'xr' in navigator ) ? new WebXRManager( _this ) : new WebVRManager( _this );\n\n\t}\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( vr.isPresenting() ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width * _pixelRatio,\n\t\t\theight: _height * _pixelRatio\n\t\t};\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function () {\n\n\t\treturn _currentViewport;\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewport.set( x, _height - y - height, width, height );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_scissor.set( x, _height - y - height, width, height );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\tvr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tvar frontFaceCW = ( object.isMesh && object.normalMatrix.determinant() < 0 );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = Infinity;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( 4 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( 5 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( 6 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry & ! capabilities.isWebGL2 ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( vr.isPresenting() ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\tvr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = null;\n\n\t\t}\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\tif ( renderTarget ) {\n\n\t\t\ttextures.updateRenderTargetMipmap( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tcurrentRenderList.push( object, geometry, material, _vector3.z, null );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tif ( 'viewport' in camera2 ) { // XR\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar bounds = camera2.bounds;\n\n\t\t\t\t\t\t\tvar x = bounds.x * _width;\n\t\t\t\t\t\t\tvar y = bounds.y * _height;\n\t\t\t\t\t\t\tvar width = bounds.z * _width;\n\t\t\t\t\t\t\tvar height = bounds.w * _height;\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) {\n\n\t\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader, _this );\n\n\t\t\t// Computing code again as onBeforeCompile may have changed the shaders\n\t\t\tcode = programCache.getProgramCode( material, parameters );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\t\tif ( lightsHash === undefined ) {\n\n\t\t\tmaterialProperties.lightsHash = lightsHash = {};\n\n\t\t}\n\n\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\t\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value = material.color;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value = material.specular;\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t// Textures\n\n\tfunction allocTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tthis.allocTextureUnit = allocTextureUnit;\n\n\t// this.setTexture2D = setTexture2D;\n\tthis.setTexture2D = ( function () {\n\n\t\tvar warned = false;\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture2D( texture, slot ) {\n\n\t\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture3D = ( function () {\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture3D( texture, slot ) {\n\n\t\t\ttextures.setTexture3D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTexture( texture, slot ) {\n\n\t\t\tif ( ! warned ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n\t\t\t\twarned = true;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTextureCube = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTextureCube( texture, slot ) {\n\n\t\t\t// backwards compatibility: peel texture.texture\n\t\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t\t// TODO: unify these code paths\n\t\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t\t// this function alone should take care of cube textures\n\t\t\t\ttextures.setTextureCube( texture, slot );\n\n\t\t\t} else {\n\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\n\t\t\t\ttextures.setTextureCubeDynamic( texture, slot );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\t//\n\n\tthis.setFramebuffer = function ( value ) {\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tvar width = texture.image.width;\n\t\tvar height = texture.image.height;\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\tthis.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level || 0, glFormat, position.x, position.y, width, height, 0 );\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\tthis.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nFogExp2.prototype.clone = function () {\n\n\treturn new FogExp2( this.color, this.density );\n\n};\n\nFogExp2.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'FogExp2',\n\t\tcolor: this.color.getHex(),\n\t\tdensity: this.density\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n\treturn new Fog( this.color, this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'Fog',\n\t\tcolor: this.color.getHex(),\n\t\tnear: this.near,\n\t\tfar: this.far\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar geometry;\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( geometry === undefined ) {\n\n\t\tgeometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\tgeometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\tgeometry.addAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\tgeometry.addAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: ( function () {\n\n\t\tvar intersectPoint = new Vector3();\n\t\tvar worldScale = new Vector3();\n\t\tvar mvPosition = new Vector3();\n\n\t\tvar alignedPosition = new Vector2();\n\t\tvar rotatedPosition = new Vector2();\n\t\tvar viewWorldMatrix = new Matrix4();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t\t\t// compute position in camera space\n\t\t\talignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t\t\t// to check if rotation is not zero\n\t\t\tif ( sin !== undefined ) {\n\n\t\t\t\trotatedPosition.x = ( cos * alignedPosition.x ) - ( sin * alignedPosition.y );\n\t\t\t\trotatedPosition.y = ( sin * alignedPosition.x ) + ( cos * alignedPosition.y );\n\n\t\t\t} else {\n\n\t\t\t\trotatedPosition.copy( alignedPosition );\n\n\t\t\t}\n\n\n\t\t\tvertexPosition.copy( mvPosition );\n\t\t\tvertexPosition.x += rotatedPosition.x;\n\t\t\tvertexPosition.y += rotatedPosition.y;\n\n\t\t\t// transform to world space\n\t\t\tvertexPosition.applyMatrix4( viewWorldMatrix );\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tworldScale.setFromMatrixScale( this.matrixWorld );\n\t\t\tviewWorldMatrix.getInverse( this.modelViewMatrix ).premultiply( this.matrixWorld );\n\t\t\tmvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\t\tvar rotation = this.material.rotation;\n\t\t\tvar sin, cos;\n\t\t\tif ( rotation !== 0 ) {\n\n\t\t\t\tcos = Math.cos( rotation );\n\t\t\t\tsin = Math.sin( rotation );\n\n\t\t\t}\n\n\t\t\tvar center = this.center;\n\n\t\t\ttransformVertex( vA.set( - 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vB.set( 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vC.set( 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\n\t\t\tuvA.set( 0, 0 );\n\t\t\tuvB.set( 1, 0 );\n\t\t\tuvC.set( 1, 1 );\n\n\t\t\t// check first triangle\n\t\t\tvar intersect = raycaster.ray.intersectTriangle( vA, vB, vC, false, intersectPoint );\n\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\t// check second triangle\n\t\t\t\ttransformVertex( vB.set( - 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\t\tuvB.set( 0, 1 );\n\n\t\t\t\tintersect = raycaster.ray.intersectTriangle( vA, vC, vB, false, intersectPoint );\n\t\t\t\tif ( intersect === null ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\tuv: Triangle.getUV( intersectPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() ),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\n\t\t\t} );\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar matrixPosition = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t};\n\n\t}() ),\n\n\tupdate: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar levels = this.levels;\n\n\t\t\tif ( levels.length > 1 ) {\n\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: ( function () {\n\n\t\tvar offsetMatrix = new Matrix4();\n\t\tvar identityMatrix = new Matrix4();\n\n\t\treturn function update() {\n\n\t\t\tvar bones = this.bones;\n\t\t\tvar boneInverses = this.boneInverses;\n\t\t\tvar boneMatrices = this.boneMatrices;\n\t\t\tvar boneTexture = this.boneTexture;\n\n\t\t\t// flatten bone matrices to array\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\t// compute the offset between the current and the original transform\n\n\t\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t\toffsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t\t}\n\n\t\t\tif ( boneTexture !== undefined ) {\n\n\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t}\n\n\t\t};\n\n\t} )(),\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i ] += start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() ),\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += precision;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [];\n\n\t\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t\tstart.copy( vertices[ i ] );\n\t\t\t\t\tend.copy( vertices[ i + 1 ] );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() )\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\t\t\tvar intersectPoint = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tray.closestPointToPoint( point, intersectPoint );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tappplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction appplyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.2)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\n\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\n\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start, again;\n\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\n\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear, prev, next;\n\n\t// iterate through ears, slicing them one by one\n\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertice leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\n\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\t// first look for points inside the triangle in increasing z-order\n\n\tvar p = ear.nextZ;\n\n\twhile ( p && p.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.nextZ;\n\n\t}\n\n\t// then look for points in decreasing z-order\n\n\tp = ear.prevZ;\n\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\n\t\tp = p.prevZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\n\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tvar a = p.prev, b = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\n\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\n\tvar a = start;\n\n\tdo {\n\n\t\tvar b = a.next.next;\n\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\n\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [], i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\n\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\n\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\n\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\n\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\n\nfunction getLeftmost( start ) {\n\n\tvar p = start, leftmost = start;\n\n\tdo {\n\n\t\tif ( p.x < leftmost.x ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\n\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\tlocallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\n\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\n\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\n\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, q1 ) && equals( p2, q2 ) ) ||\n\t\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t\t\t area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\n\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\t\t\tintersects( p, p.next, a, b ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\n\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\n\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) ) {\n\n\t\t\tinside = ! inside;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\n\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertice index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertice nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = thetaStart + thetaLength;\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.set( vertex.x, vertex.y, vertex.z ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t// also check if holes are in the opposite direction\n\n\t\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearCoat = 0.0;\n\tthis.clearCoatRoughness = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearCoat = source.clearCoat;\n\tthis.clearCoatRoughness = source.clearCoatRoughness;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\t\treturn this;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AnimationLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\tonLoad( animations );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearMipMapLinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction ImageLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction TextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdate: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n\t\tif ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\treturn material;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\t// Merges multi-byte utf-8 characters.\n\t\treturn decodeURIComponent( escape( s ) );\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\tgeometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === undefined ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( value ) {\n\n\t\tthis.resourcePath = value;\n\t\treturn this;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tif ( 'THREE' in window && 'LegacyJSONLoader' in THREE ) {\n\n\t\t\t\t\t\t\tvar geometryLoader = new THREE.LegacyJSONLoader();\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.resourcePath ).geometry;\n\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials[ data.uuid ] = loader.parse( data );\n\t\t\t\t\tcache[ data.uuid ] = materials[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipMapNearestFilter: NearestMipMapNearestFilter,\n\tNearestMipMapLinearFilter: NearestMipMapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipMapNearestFilter: LinearMipMapNearestFilter,\n\tLinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tthis.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t},\n\n\tsetCrossOrigin: function ( /* value */ ) {\n\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) return;\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {}\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\nObject.assign( Loader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tonLoadStart: function () {},\n\n\tonLoadProgress: function () {},\n\n\tonLoadComplete: function () {},\n\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tcreateMaterial: ( function () {\n\n\t\tvar BlendingMode = {\n\t\t\tNoBlending: NoBlending,\n\t\t\tNormalBlending: NormalBlending,\n\t\t\tAdditiveBlending: AdditiveBlending,\n\t\t\tSubtractiveBlending: SubtractiveBlending,\n\t\t\tMultiplyBlending: MultiplyBlending,\n\t\t\tCustomBlending: CustomBlending\n\t\t};\n\n\t\tvar color = new Color();\n\t\tvar textureLoader = new TextureLoader();\n\t\tvar materialLoader = new MaterialLoader();\n\n\t\treturn function createMaterial( m, texturePath, crossOrigin ) {\n\n\t\t\t// convert from old material format\n\n\t\t\tvar textures = {};\n\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\tvar loader = Loader.Handlers.get( fullPath );\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( loader !== null ) {\n\n\t\t\t\t\ttexture = loader.load( fullPath );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\n\t\t\t\t}\n\n\t\t\t\tif ( repeat !== undefined ) {\n\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( offset !== undefined ) {\n\n\t\t\t\t\ttexture.offset.fromArray( offset );\n\n\t\t\t\t}\n\n\t\t\t\tif ( wrap !== undefined ) {\n\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( anisotropy !== undefined ) {\n\n\t\t\t\t\ttexture.anisotropy = anisotropy;\n\n\t\t\t\t}\n\n\t\t\t\tvar uuid = _Math.generateUUID();\n\n\t\t\t\ttextures[ uuid ] = texture;\n\n\t\t\t\treturn uuid;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar json = {\n\t\t\t\tuuid: _Math.generateUUID(),\n\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t};\n\n\t\t\tfor ( var name in m ) {\n\n\t\t\t\tvar value = m[ name ];\n\n\t\t\t\tswitch ( name ) {\n\n\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\tjson.blending = BlendingMode[ value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorAmbient':\n\t\t\t\t\tcase 'mapAmbient':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissive':\n\t\t\t\t\t\tjson.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissiveRepeat':\n\t\t\t\t\tcase 'mapEmissiveOffset':\n\t\t\t\t\tcase 'mapEmissiveWrap':\n\t\t\t\t\tcase 'mapEmissiveAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\tjson.normalScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalness':\n\t\t\t\t\t\tjson.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalnessRepeat':\n\t\t\t\t\tcase 'mapMetalnessOffset':\n\t\t\t\t\tcase 'mapMetalnessWrap':\n\t\t\t\t\tcase 'mapMetalnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughness':\n\t\t\t\t\t\tjson.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughnessRepeat':\n\t\t\t\t\tcase 'mapRoughnessOffset':\n\t\t\t\t\tcase 'mapRoughnessWrap':\n\t\t\t\t\tcase 'mapRoughnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\tjson.side = BackSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\tjson.side = DoubleSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\tcase 'colorWrite':\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\tcase 'reflectivity':\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = VertexColors;\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = FaceColors;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\n\t\t\tmaterialLoader.setTextures( textures );\n\n\t\t\treturn materialLoader.parse( json );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( context === undefined ) {\n\n\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\tcontext = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: ( function () {\n\n\t\tvar instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n\t\tvar eyeRight = new Matrix4();\n\t\tvar eyeLeft = new Matrix4();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tinstance = this;\n\t\t\t\tfocus = camera.focus;\n\t\t\t\tfov = camera.fov;\n\t\t\t\taspect = camera.aspect * this.aspect;\n\t\t\t\tnear = camera.near;\n\t\t\t\tfar = camera.far;\n\t\t\t\tzoom = camera.zoom;\n\n\t\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\t\teyeSep = this.eyeSep / 2;\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\n\t\t\t\tvar ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n\t\t\t\tvar xmin, xmax;\n\n\t\t\t\t// translate xOffset\n\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\n\n\t\t\t\t// for left eye\n\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t\t// for right eye\n\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar fov = 90, aspect = 1;\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderTarget.activeCubeFace = 0;\n\t\trenderer.render( scene, cameraPX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 1;\n\t\trenderer.render( scene, cameraNX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 2;\n\t\trenderer.render( scene, cameraPY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 3;\n\t\trenderer.render( scene, cameraNY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 4;\n\t\trenderer.render( scene, cameraPZ, renderTarget );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderTarget.activeCubeFace = 5;\n\t\trenderer.render( scene, cameraNZ, renderTarget );\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderTarget.activeCubeFace = i;\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\t\tvar clock = new Clock();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\n\t\t\tthis.timeDelta = clock.getDelta();\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( listener.positionX ) {\n\n\t\t\t\t// code path for Chrome (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\t\tlistener.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tlistener.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tlistener.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tlistener.forwardX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tlistener.forwardY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tlistener.forwardZ.linearRampToValueAtTime( orientation.z, endTime );\n\t\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.detune.value = this.detune;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.playbackRate.setValueAtTime( this.playbackRate, this.startTime );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar panner = this.panner;\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( panner.positionX ) {\n\n\t\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\t\tpanner.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tpanner.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tpanner.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tpanner.orientationX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tpanner.orientationY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tpanner.orientationZ.linearRampToValueAtTime( orientation.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tpanner.setPosition( position.x, position.y, position.z );\n\t\t\t\tpanner.setOrientation( orientation.x, orientation.y, orientation.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param  {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: ( function () {\n\n\t\tvar reservedRe = new RegExp( '[' + RESERVED_CHARS_RE + ']', 'g' );\n\n\t\treturn function sanitizeNodeName( name ) {\n\n\t\t\treturn name.replace( /\\s/g, '_' ).replace( reservedRe, '' );\n\n\t\t};\n\n\t}() ),\n\n\tparseTrackName: function () {\n\n\t\t// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n\t\t// only latin characters, and the unicode \\p{L} is not yet supported. So\n\t\t// instead, we exclude reserved characters and match everything else.\n\t\tvar wordChar = '[^' + RESERVED_CHARS_RE + ']';\n\t\tvar wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n\t\t// Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t\t// be matched to parse the rest of the track name.\n\t\tvar directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', wordChar );\n\n\t\t// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\t\tvar nodeRe = /(WCOD+)?/.source.replace( 'WCOD', wordCharOrDot );\n\n\t\t// Object on target node, and accessor. May not contain reserved\n\t\t// characters. Accessor may contain any character except closing bracket.\n\t\tvar objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', wordChar );\n\n\t\t// Property and accessor. May not contain reserved characters. Accessor may\n\t\t// contain any non-bracket characters.\n\t\tvar propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', wordChar );\n\n\t\tvar trackRe = new RegExp( ''\n\t\t\t+ '^'\n\t\t\t+ directoryRe\n\t\t\t+ nodeRe\n\t\t\t+ objectRe\n\t\t\t+ propertyRe\n\t\t\t+ '$'\n\t\t);\n\n\t\tvar supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n\t\treturn function parseTrackName( trackName ) {\n\n\t\t\tvar matches = trackRe.exec( trackName );\n\n\t\t\tif ( ! matches ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\tvar results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[ 2 ],\n\t\t\t\tobjectName: matches[ 3 ],\n\t\t\t\tobjectIndex: matches[ 4 ],\n\t\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\t\tpropertyIndex: matches[ 6 ]\n\t\t\t};\n\n\t\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\t\t\t\tif ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\t\tresults.objectName = objectName;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\treturn results;\n\n\t\t};\n\n\t}(),\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else break handle_stop;\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\tthis.time = time;\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.time = time;\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tremove_empty_map: {\n\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axiz.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( _Math.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function () {\n\n\t\tvar startP = new Vector3();\n\t\tvar startEnd = new Vector3();\n\n\t\treturn function closestPointToPointParameter( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\t\tvar vertices = objGeometry.vertices;\n\n\t\t\tvar faces = objGeometry.faces;\n\n\t\t\tvar idx = 0;\n\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tvar face = faces[ i ];\n\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\t\tvar objPos = objGeometry.attributes.position;\n\n\t\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\t\tvar idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\treturn function update() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t};\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function () {\n\n\tvar vector = new Vector3();\n\n\tvar boneMatrix = new Matrix4();\n\tvar matrixWorldInv = new Matrix4();\n\n\treturn function updateMatrixWorld( force ) {\n\n\t\tvar bones = this.bones;\n\n\t\tvar geometry = this.geometry;\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tmatrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tvar bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j, vector.x, vector.y, vector.z );\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.addAttribute( 'position', new BufferAttribute( new Float32Array( 5 * 3 ), 3 ) );\n\n\tthis.line = new Line( geometry, material );\n\tthis.add( this.line );\n\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Object3D.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nRectAreaLightHelper.prototype.update = function () {\n\n\t// calculate new dimensions of the helper\n\n\tvar hx = this.light.width * 0.5;\n\tvar hy = this.light.height * 0.5;\n\n\tvar position = this.line.geometry.attributes.position;\n\tvar array = position.array;\n\n\t// update vertices\n\n\tarray[ 0 ] = hx; array[ 1 ] = - hy; array[ 2 ] = 0;\n\tarray[ 3 ] = hx; array[ 4 ] = hy; array[ 5 ] = 0;\n\tarray[ 6 ] = - hx; array[ 7 ] = hy; array[ 8 ] = 0;\n\tarray[ 9 ] = - hx; array[ 10 ] = - hy; array[ 11 ] = 0;\n\tarray[ 12 ] = hx; array[ 13 ] = - hy; array[ 14 ] = 0;\n\n\tposition.needsUpdate = true;\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.line.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.line.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\tvar color1 = new Color();\n\tvar color2 = new Color();\n\n\treturn function update() {\n\n\t\tvar mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\tcolor1.copy( this.light.color );\n\t\t\tcolor2.copy( this.light.groundColor );\n\n\t\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tvar color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar normal = face.normal;\n\n\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t.divideScalar( 3 )\n\t\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar v3 = new Vector3();\n\n\treturn function update() {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( v2 );\n\t\tthis.targetLine.scale.z = v3.length();\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry, pointMap;\n\n\tvar vector = new Vector3();\n\tvar camera = new Camera();\n\n\tfunction setPoint( point, x, y, z ) {\n\n\t\tvector.set( x, y, z ).unproject( camera );\n\n\t\tvar points = pointMap[ point ];\n\n\t\tif ( points !== undefined ) {\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tposition.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn function update() {\n\n\t\tgeometry = this.geometry;\n\t\tpointMap = this.pointMap;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', 0, 0, - 1 );\n\t\tsetPoint( 't', 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', - w, - h, - 1 );\n\t\tsetPoint( 'n2', w, - h, - 1 );\n\t\tsetPoint( 'n3', - w, h, - 1 );\n\t\tsetPoint( 'n4', w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', - w, - h, 1 );\n\t\tsetPoint( 'f2', w, - h, 1 );\n\t\tsetPoint( 'f3', - w, h, 1 );\n\t\tsetPoint( 'f4', w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', - w, 0, 1 );\n\t\tsetPoint( 'cf2', w, 0, 1 );\n\t\tsetPoint( 'cf3', 0, - h, 1 );\n\t\tsetPoint( 'cf4', 0, h, 1 );\n\n\t\tsetPoint( 'cn1', - w, 0, - 1 );\n\t\tsetPoint( 'cn2', w, 0, - 1 );\n\t\tsetPoint( 'cn3', 0, - h, - 1 );\n\t\tsetPoint( 'cn4', 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new Box3();\n\n\treturn function update( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tbox.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry, coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new THREE.Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new THREE.Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( lineGeometry === undefined ) {\n\n\t\tlineGeometry = new BufferGeometry();\n\t\tlineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\tconeGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n\tvar axis = new Vector3();\n\tvar radians;\n\n\treturn function setDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.copy( color );\n\tthis.cone.material.color.copy( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tvar v1;\n\n\t\treturn function getPosition() {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\n\n\t\t};\n\n\t}(),\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebVRManager.prototype, {\n\n\tstanding: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .standing has been removed.' );\n\n\t\t}\n\t},\n\tuserHeight: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .userHeight has been removed.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction Projector() {\n\n\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\n\tthis.projectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n\t\tvector.project( camera );\n\n\t};\n\n\tthis.unprojectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n\t\tvector.unproject( camera );\n\n\t};\n\n\tthis.pickingRay = function () {\n\n\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\n\t};\n\n}\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\n\n}\n\nexport { WebGLRenderTargetCube, WebGLRenderTarget, WebGLRenderer, ShaderLib, UniformsLib, UniformsUtils, ShaderChunk, FogExp2, Fog, Scene, Sprite, LOD, SkinnedMesh, Skeleton, Bone, Mesh, LineSegments, LineLoop, Line, Points, Group, VideoTexture, DataTexture, DataTexture3D, CompressedTexture, CubeTexture, CanvasTexture, DepthTexture, Texture, AnimationLoader, CompressedTextureLoader, DataTextureLoader, CubeTextureLoader, TextureLoader, ObjectLoader, MaterialLoader, BufferGeometryLoader, DefaultLoadingManager, LoadingManager, ImageLoader, ImageBitmapLoader, FontLoader, FileLoader, Loader, LoaderUtils, Cache, AudioLoader, SpotLightShadow, SpotLight, PointLight, RectAreaLight, HemisphereLight, DirectionalLightShadow, DirectionalLight, AmbientLight, LightShadow, Light, StereoCamera, PerspectiveCamera, OrthographicCamera, CubeCamera, ArrayCamera, Camera, AudioListener, PositionalAudio, AudioContext, AudioAnalyser, Audio, VectorKeyframeTrack, StringKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, ColorKeyframeTrack, BooleanKeyframeTrack, PropertyMixer, PropertyBinding, KeyframeTrack, AnimationUtils, AnimationObjectGroup, AnimationMixer, AnimationClip, Uniform, InstancedBufferGeometry, BufferGeometry, Geometry, InterleavedBufferAttribute, InstancedInterleavedBuffer, InterleavedBuffer, InstancedBufferAttribute, Face3, Object3D, Raycaster, Layers, EventDispatcher, Clock, QuaternionLinearInterpolant, LinearInterpolant, DiscreteInterpolant, CubicInterpolant, Interpolant, Triangle, _Math as Math, Spherical, Cylindrical, Plane, Frustum, Sphere, Ray, Matrix4, Matrix3, Box3, Box2, Line3, Euler, Vector4, Vector3, Vector2, Quaternion, Color, ImmediateRenderObject, VertexNormalsHelper, SpotLightHelper, SkeletonHelper, PointLightHelper, RectAreaLightHelper, HemisphereLightHelper, GridHelper, PolarGridHelper, FaceNormalsHelper, DirectionalLightHelper, CameraHelper, BoxHelper, Box3Helper, PlaneHelper, ArrowHelper, AxesHelper, Shape, Path, ShapePath, Font, CurvePath, Curve, ImageUtils, ShapeUtils, WebGLUtils, WireframeGeometry, ParametricGeometry, ParametricBufferGeometry, TetrahedronGeometry, TetrahedronBufferGeometry, OctahedronGeometry, OctahedronBufferGeometry, IcosahedronGeometry, IcosahedronBufferGeometry, DodecahedronGeometry, DodecahedronBufferGeometry, PolyhedronGeometry, PolyhedronBufferGeometry, TubeGeometry, TubeBufferGeometry, TorusKnotGeometry, TorusKnotBufferGeometry, TorusGeometry, TorusBufferGeometry, TextGeometry, TextBufferGeometry, SphereGeometry, SphereBufferGeometry, RingGeometry, RingBufferGeometry, PlaneGeometry, PlaneBufferGeometry, LatheGeometry, LatheBufferGeometry, ShapeGeometry, ShapeBufferGeometry, ExtrudeGeometry, ExtrudeBufferGeometry, EdgesGeometry, ConeGeometry, ConeBufferGeometry, CylinderGeometry, CylinderBufferGeometry, CircleGeometry, CircleBufferGeometry, BoxGeometry, BoxBufferGeometry, ShadowMaterial, SpriteMaterial, RawShaderMaterial, ShaderMaterial, PointsMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshPhongMaterial, MeshToonMaterial, MeshNormalMaterial, MeshLambertMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshBasicMaterial, MeshMatcapMaterial, LineDashedMaterial, LineBasicMaterial, Material, Float64BufferAttribute, Float32BufferAttribute, Uint32BufferAttribute, Int32BufferAttribute, Uint16BufferAttribute, Int16BufferAttribute, Uint8ClampedBufferAttribute, Uint8BufferAttribute, Int8BufferAttribute, BufferAttribute, ArcCurve, CatmullRomCurve3, CubicBezierCurve, CubicBezierCurve3, EllipseCurve, LineCurve, LineCurve3, QuadraticBezierCurve, QuadraticBezierCurve3, SplineCurve, REVISION, MOUSE, CullFaceNone, CullFaceBack, CullFaceFront, CullFaceFrontBack, FrontFaceDirectionCW, FrontFaceDirectionCCW, BasicShadowMap, PCFShadowMap, PCFSoftShadowMap, FrontSide, BackSide, DoubleSide, FlatShading, SmoothShading, NoColors, FaceColors, VertexColors, NoBlending, NormalBlending, AdditiveBlending, SubtractiveBlending, MultiplyBlending, CustomBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth, MultiplyOperation, MixOperation, AddOperation, NoToneMapping, LinearToneMapping, ReinhardToneMapping, Uncharted2ToneMapping, CineonToneMapping, ACESFilmicToneMapping, UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter, UnsignedByteType, ByteType, ShortType, UnsignedShortType, IntType, UnsignedIntType, FloatType, HalfFloatType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedInt248Type, AlphaFormat, RGBFormat, RGBAFormat, LuminanceFormat, LuminanceAlphaFormat, RGBEFormat, DepthFormat, DepthStencilFormat, RedFormat, RGB_S3TC_DXT1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_PVRTC_2BPPV1_Format, RGB_ETC1_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_10x10_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, LoopOnce, LoopRepeat, LoopPingPong, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, ZeroCurvatureEnding, ZeroSlopeEnding, WrapAroundEnding, TrianglesDrawMode, TriangleStripDrawMode, TriangleFanDrawMode, LinearEncoding, sRGBEncoding, GammaEncoding, RGBEEncoding, LogLuvEncoding, RGBM7Encoding, RGBM16Encoding, RGBDEncoding, BasicDepthPacking, RGBADepthPacking, TangentSpaceNormalMap, ObjectSpaceNormalMap, BoxGeometry as CubeGeometry, Face4, LineStrip, LinePieces, MeshFaceMaterial, MultiMaterial, PointCloud, Particle, ParticleSystem, PointCloudMaterial, ParticleBasicMaterial, ParticleSystemMaterial, Vertex, DynamicBufferAttribute, Int8Attribute, Uint8Attribute, Uint8ClampedAttribute, Int16Attribute, Uint16Attribute, Int32Attribute, Uint32Attribute, Float32Attribute, Float64Attribute, ClosedSplineCurve3, SplineCurve3, Spline, AxisHelper, BoundingBoxHelper, EdgesHelper, WireframeHelper, XHRLoader, BinaryTextureLoader, GeometryUtils, Projector, CanvasRenderer, JSONLoader, SceneUtils, LensFlare };\n","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n *\n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n\n/* ES6 changes:\n\t- declare and export _gsScope at top.\n\t- set var TweenLite = the result of the main function\n\t- export default TweenLite at the bottom\n\t- return TweenLite at the bottom of the main function\n\t- pass in _gsScope as the first parameter of the main function (which is actually at the bottom)\n\t- remove the \"export to multiple environments\" in Definition().\n */\nexport var _gsScope = (typeof(window) !== \"undefined\") ? window : (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || {};\n\nexport var TweenLite = (function(window) {\n\n\t\t\"use strict\";\n\t\tvar _exports = {},\n\t\t\t_doc = window.document,\n\t\t\t_globals = window.GreenSockGlobals = window.GreenSockGlobals || window;\n\t\tif (_globals.TweenLite) {\n\t\t\treturn _globals.TweenLite; //in case the core set of classes is already loaded, don't instantiate twice.\n\t\t}\n\t\tvar _namespace = function(ns) {\n\t\t\t\tvar a = ns.split(\".\"),\n\t\t\t\t\tp = _globals, i;\n\t\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\t\tp[a[i]] = p = p[a[i]] || {};\n\t\t\t\t}\n\t\t\t\treturn p;\n\t\t\t},\n\t\t\tgs = _namespace(\"com.greensock\"),\n\t\t\t_tinyNum = 0.00000001,\n\t\t\t_slice = function(a) { //don't use Array.prototype.slice.call(target, 0) because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\n\t\t\t\tvar b = [],\n\t\t\t\t\tl = a.length,\n\t\t\t\t\ti;\n\t\t\t\tfor (i = 0; i !== l; b.push(a[i++])) {}\n\t\t\t\treturn b;\n\t\t\t},\n\t\t\t_emptyFunc = function() {},\n\t\t\t_isArray = (function() { //works around issues in iframe environments where the Array global isn't shared, thus if the object originates in a different window/iframe, \"(obj instanceof Array)\" will evaluate false. We added some speed optimizations to avoid Object.prototype.toString.call() unless it's absolutely necessary because it's VERY slow (like 20x slower)\n\t\t\t\tvar toString = Object.prototype.toString,\n\t\t\t\t\tarray = toString.call([]);\n\t\t\t\treturn function(obj) {\n\t\t\t\t\treturn obj != null && (obj instanceof Array || (typeof(obj) === \"object\" && !!obj.push && toString.call(obj) === array));\n\t\t\t\t};\n\t\t\t}()),\n\t\t\ta, i, p, _ticker, _tickerActive,\n\t\t\t_defLookup = {},\n\n\t\t\t/**\n\t\t\t * @constructor\n\t\t\t * Defines a GreenSock class, optionally with an array of dependencies that must be instantiated first and passed into the definition.\n\t\t\t * This allows users to load GreenSock JS files in any order even if they have interdependencies (like CSSPlugin extends TweenPlugin which is\n\t\t\t * inside TweenLite.js, but if CSSPlugin is loaded first, it should wait to run its code until TweenLite.js loads and instantiates TweenPlugin\n\t\t\t * and then pass TweenPlugin to CSSPlugin's definition). This is all done automatically and internally.\n\t\t\t *\n\t\t\t * Every definition will be added to a \"com.greensock\" global object (typically window, but if a window.GreenSockGlobals object is found,\n\t\t\t * it will go there as of v1.7). For example, TweenLite will be found at window.com.greensock.TweenLite and since it's a global class that should be available anywhere,\n\t\t\t * it is ALSO referenced at window.TweenLite. However some classes aren't considered global, like the base com.greensock.core.Animation class, so\n\t\t\t * those will only be at the package like window.com.greensock.core.Animation. Again, if you define a GreenSockGlobals object on the window, everything\n\t\t\t * gets tucked neatly inside there instead of on the window directly. This allows you to do advanced things like load multiple versions of GreenSock\n\t\t\t * files and put them into distinct objects (imagine a banner ad uses a newer version but the main site uses an older one). In that case, you could\n\t\t\t * sandbox the banner one like:\n\t\t\t *\n\t\t\t * <script>\n\t\t\t *     var gs = window.GreenSockGlobals = {}; //the newer version we're about to load could now be referenced in a \"gs\" object, like gs.TweenLite.to(...). Use whatever alias you want as long as it's unique, \"gs\" or \"banner\" or whatever.\n\t\t\t * </script>\n\t\t\t * <script src=\"js/greensock/v1.7/TweenMax.js\"></script>\n\t\t\t * <script>\n\t\t\t *     window.GreenSockGlobals = window._gsQueue = window._gsDefine = null; //reset it back to null (along with the special _gsQueue variable) so that the next load of TweenMax affects the window and we can reference things directly like TweenLite.to(...)\n\t\t\t * </script>\n\t\t\t * <script src=\"js/greensock/v1.6/TweenMax.js\"></script>\n\t\t\t * <script>\n\t\t\t *     gs.TweenLite.to(...); //would use v1.7\n\t\t\t *     TweenLite.to(...); //would use v1.6\n\t\t\t * </script>\n\t\t\t *\n\t\t\t * @param {!string} ns The namespace of the class definition, leaving off \"com.greensock.\" as that's assumed. For example, \"TweenLite\" or \"plugins.CSSPlugin\" or \"easing.Back\".\n\t\t\t * @param {!Array.<string>} dependencies An array of dependencies (described as their namespaces minus \"com.greensock.\" prefix). For example [\"TweenLite\",\"plugins.TweenPlugin\",\"core.Animation\"]\n\t\t\t * @param {!function():Object} func The function that should be called and passed the resolved dependencies which will return the actual class for this definition.\n\t\t\t * @param {boolean=} global If true, the class will be added to the global scope (typically window unless you define a window.GreenSockGlobals object)\n\t\t\t */\n\t\t\tDefinition = function(ns, dependencies, func, global) {\n\t\t\t\tthis.sc = (_defLookup[ns]) ? _defLookup[ns].sc : []; //subclasses\n\t\t\t\t_defLookup[ns] = this;\n\t\t\t\tthis.gsClass = null;\n\t\t\t\tthis.func = func;\n\t\t\t\tvar _classes = [];\n\t\t\t\tthis.check = function(init) {\n\t\t\t\t\tvar i = dependencies.length,\n\t\t\t\t\t\tmissing = i,\n\t\t\t\t\t\tcur, a, n, cl;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif ((cur = _defLookup[dependencies[i]] || new Definition(dependencies[i], [])).gsClass) {\n\t\t\t\t\t\t\t_classes[i] = cur.gsClass;\n\t\t\t\t\t\t\tmissing--;\n\t\t\t\t\t\t} else if (init) {\n\t\t\t\t\t\t\tcur.sc.push(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (missing === 0 && func) {\n\t\t\t\t\t\ta = (\"com.greensock.\" + ns).split(\".\");\n\t\t\t\t\t\tn = a.pop();\n\t\t\t\t\t\tcl = _namespace(a.join(\".\"))[n] = this.gsClass = func.apply(func, _classes);\n\n\t\t\t\t\t\t//exports to multiple environments\n\t\t\t\t\t\tif (global) {\n\t\t\t\t\t\t\t_globals[n] = _exports[n] = cl; //provides a way to avoid global namespace pollution. By default, the main classes like TweenLite, Power1, Strong, etc. are added to window unless a GreenSockGlobals is defined. So if you want to have things added to a custom object instead, just do something like window.GreenSockGlobals = {} before loading any GreenSock files. You can even set up an alias like window.GreenSockGlobals = windows.gs = {} so that you can access everything like gs.TweenLite. Also remember that ALL classes are added to the window.com.greensock object (in their respective packages, like com.greensock.easing.Power1, com.greensock.TweenLite, etc.)\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tif (typeof(module) !== \"undefined\" && module.exports) { //node\n\t\t\t\t\t\t\t\tif (ns === moduleName) {\n\t\t\t\t\t\t\t\t\tmodule.exports = _exports[moduleName] = cl;\n\t\t\t\t\t\t\t\t\tfor (i in _exports) {\n\t\t\t\t\t\t\t\t\t\tcl[i] = _exports[i];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (_exports[moduleName]) {\n\t\t\t\t\t\t\t\t\t_exports[moduleName][n] = cl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (typeof(define) === \"function\" && define.amd){ //AMD\n\t\t\t\t\t\t\t\tdefine((window.GreenSockAMDPath ? window.GreenSockAMDPath + \"/\" : \"\") + ns.split(\".\").pop(), [], function() { return cl; });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < this.sc.length; i++) {\n\t\t\t\t\t\t\tthis.sc[i].check();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.check(true);\n\t\t\t},\n\n\t\t\t//used to create Definition instances (which basically registers a class that has dependencies).\n\t\t\t_gsDefine = window._gsDefine = function(ns, dependencies, func, global) {\n\t\t\t\treturn new Definition(ns, dependencies, func, global);\n\t\t\t},\n\n\t\t\t//a quick way to create a class that doesn't have any dependencies. Returns the class, but first registers it in the GreenSock namespace so that other classes can grab it (other classes might be dependent on the class).\n\t\t\t_class = gs._class = function(ns, func, global) {\n\t\t\t\tfunc = func || function() {};\n\t\t\t\t_gsDefine(ns, [], function(){ return func; }, global);\n\t\t\t\treturn func;\n\t\t\t};\n\n\t\t_gsDefine.globals = _globals;\n\n\n\n/*\n * ----------------------------------------------------------------\n * Ease\n * ----------------------------------------------------------------\n */\n\t\tvar _baseParams = [0, 0, 1, 1],\n\t\t\tEase = _class(\"easing.Ease\", function(func, extraParams, type, power) {\n\t\t\t\tthis._func = func;\n\t\t\t\tthis._type = type || 0;\n\t\t\t\tthis._power = power || 0;\n\t\t\t\tthis._params = extraParams ? _baseParams.concat(extraParams) : _baseParams;\n\t\t\t}, true),\n\t\t\t_easeMap = Ease.map = {},\n\t\t\t_easeReg = Ease.register = function(ease, names, types, create) {\n\t\t\t\tvar na = names.split(\",\"),\n\t\t\t\t\ti = na.length,\n\t\t\t\t\tta = (types || \"easeIn,easeOut,easeInOut\").split(\",\"),\n\t\t\t\t\te, name, j, type;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tname = na[i];\n\t\t\t\t\te = create ? _class(\"easing.\"+name, null, true) : gs.easing[name] || {};\n\t\t\t\t\tj = ta.length;\n\t\t\t\t\twhile (--j > -1) {\n\t\t\t\t\t\ttype = ta[j];\n\t\t\t\t\t\t_easeMap[name + \".\" + type] = _easeMap[type + name] = e[type] = ease.getRatio ? ease : ease[type] || new ease();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tp = Ease.prototype;\n\t\tp._calcEnd = false;\n\t\tp.getRatio = function(p) {\n\t\t\tif (this._func) {\n\t\t\t\tthis._params[0] = p;\n\t\t\t\treturn this._func.apply(null, this._params);\n\t\t\t}\n\t\t\tvar t = this._type,\n\t\t\t\tpw = this._power,\n\t\t\t\tr = (t === 1) ? 1 - p : (t === 2) ? p : (p < 0.5) ? p * 2 : (1 - p) * 2;\n\t\t\tif (pw === 1) {\n\t\t\t\tr *= r;\n\t\t\t} else if (pw === 2) {\n\t\t\t\tr *= r * r;\n\t\t\t} else if (pw === 3) {\n\t\t\t\tr *= r * r * r;\n\t\t\t} else if (pw === 4) {\n\t\t\t\tr *= r * r * r * r;\n\t\t\t}\n\t\t\treturn (t === 1) ? 1 - r : (t === 2) ? r : (p < 0.5) ? r / 2 : 1 - (r / 2);\n\t\t};\n\n\t\t//create all the standard eases like Linear, Quad, Cubic, Quart, Quint, Strong, Power0, Power1, Power2, Power3, and Power4 (each with easeIn, easeOut, and easeInOut)\n\t\ta = [\"Linear\",\"Quad\",\"Cubic\",\"Quart\",\"Quint,Strong\"];\n\t\ti = a.length;\n\t\twhile (--i > -1) {\n\t\t\tp = a[i]+\",Power\"+i;\n\t\t\t_easeReg(new Ease(null,null,1,i), p, \"easeOut\", true);\n\t\t\t_easeReg(new Ease(null,null,2,i), p, \"easeIn\" + ((i === 0) ? \",easeNone\" : \"\"));\n\t\t\t_easeReg(new Ease(null,null,3,i), p, \"easeInOut\");\n\t\t}\n\t\t_easeMap.linear = gs.easing.Linear.easeIn;\n\t\t_easeMap.swing = gs.easing.Quad.easeInOut; //for jQuery folks\n\n\n/*\n * ----------------------------------------------------------------\n * EventDispatcher\n * ----------------------------------------------------------------\n */\n\t\tvar EventDispatcher = _class(\"events.EventDispatcher\", function(target) {\n\t\t\tthis._listeners = {};\n\t\t\tthis._eventTarget = target || this;\n\t\t});\n\t\tp = EventDispatcher.prototype;\n\n\t\tp.addEventListener = function(type, callback, scope, useParam, priority) {\n\t\t\tpriority = priority || 0;\n\t\t\tvar list = this._listeners[type],\n\t\t\t\tindex = 0,\n\t\t\t\tlistener, i;\n\t\t\tif (this === _ticker && !_tickerActive) {\n\t\t\t\t_ticker.wake();\n\t\t\t}\n\t\t\tif (list == null) {\n\t\t\t\tthis._listeners[type] = list = [];\n\t\t\t}\n\t\t\ti = list.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\tlistener = list[i];\n\t\t\t\tif (listener.c === callback && listener.s === scope) {\n\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t} else if (index === 0 && listener.pr < priority) {\n\t\t\t\t\tindex = i + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlist.splice(index, 0, {c:callback, s:scope, up:useParam, pr:priority});\n\t\t};\n\n\t\tp.removeEventListener = function(type, callback) {\n\t\t\tvar list = this._listeners[type], i;\n\t\t\tif (list) {\n\t\t\t\ti = list.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (list[i].c === callback) {\n\t\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp.dispatchEvent = function(type) {\n\t\t\tvar list = this._listeners[type],\n\t\t\t\ti, t, listener;\n\t\t\tif (list) {\n\t\t\t\ti = list.length;\n\t\t\t\tif (i > 1) {\n\t\t\t\t\tlist = list.slice(0); //in case addEventListener() is called from within a listener/callback (otherwise the index could change, resulting in a skip)\n\t\t\t\t}\n\t\t\t\tt = this._eventTarget;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tlistener = list[i];\n\t\t\t\t\tif (listener) {\n\t\t\t\t\t\tif (listener.up) {\n\t\t\t\t\t\t\tlistener.c.call(listener.s || t, {type:type, target:t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlistener.c.call(listener.s || t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\n/*\n * ----------------------------------------------------------------\n * Ticker\n * ----------------------------------------------------------------\n */\n \t\tvar _reqAnimFrame = window.requestAnimationFrame,\n\t\t\t_cancelAnimFrame = window.cancelAnimationFrame,\n\t\t\t_getTime = Date.now || function() {return new Date().getTime();},\n\t\t\t_lastUpdate = _getTime();\n\n\t\t//now try to determine the requestAnimationFrame and cancelAnimationFrame functions and if none are found, we'll use a setTimeout()/clearTimeout() polyfill.\n\t\ta = [\"ms\",\"moz\",\"webkit\",\"o\"];\n\t\ti = a.length;\n\t\twhile (--i > -1 && !_reqAnimFrame) {\n\t\t\t_reqAnimFrame = window[a[i] + \"RequestAnimationFrame\"];\n\t\t\t_cancelAnimFrame = window[a[i] + \"CancelAnimationFrame\"] || window[a[i] + \"CancelRequestAnimationFrame\"];\n\t\t}\n\n\t\t_class(\"Ticker\", function(fps, useRAF) {\n\t\t\tvar _self = this,\n\t\t\t\t_startTime = _getTime(),\n\t\t\t\t_useRAF = (useRAF !== false && _reqAnimFrame) ? \"auto\" : false,\n\t\t\t\t_lagThreshold = 500,\n\t\t\t\t_adjustedLag = 33,\n\t\t\t\t_tickWord = \"tick\", //helps reduce gc burden\n\t\t\t\t_fps, _req, _id, _gap, _nextTime,\n\t\t\t\t_tick = function(manual) {\n\t\t\t\t\tvar elapsed = _getTime() - _lastUpdate,\n\t\t\t\t\t\toverlap, dispatch;\n\t\t\t\t\tif (elapsed > _lagThreshold) {\n\t\t\t\t\t\t_startTime += elapsed - _adjustedLag;\n\t\t\t\t\t}\n\t\t\t\t\t_lastUpdate += elapsed;\n\t\t\t\t\t_self.time = (_lastUpdate - _startTime) / 1000;\n\t\t\t\t\toverlap = _self.time - _nextTime;\n\t\t\t\t\tif (!_fps || overlap > 0 || manual === true) {\n\t\t\t\t\t\t_self.frame++;\n\t\t\t\t\t\t_nextTime += overlap + (overlap >= _gap ? 0.004 : _gap - overlap);\n\t\t\t\t\t\tdispatch = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (manual !== true) { //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\t\t\t\t\t\t_id = _req(_tick);\n\t\t\t\t\t}\n\t\t\t\t\tif (dispatch) {\n\t\t\t\t\t\t_self.dispatchEvent(_tickWord);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tEventDispatcher.call(_self);\n\t\t\t_self.time = _self.frame = 0;\n\t\t\t_self.tick = function() {\n\t\t\t\t_tick(true);\n\t\t\t};\n\n\t\t\t_self.lagSmoothing = function(threshold, adjustedLag) {\n\t\t\t\tif (!arguments.length) { //if lagSmoothing() is called with no arguments, treat it like a getter that returns a boolean indicating if it's enabled or not. This is purposely undocumented and is for internal use.\n\t\t\t\t\treturn (_lagThreshold < 1 / _tinyNum);\n\t\t\t\t}\n\t\t\t\t_lagThreshold = threshold || (1 / _tinyNum); //zero should be interpreted as basically unlimited\n\t\t\t\t_adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n\t\t\t};\n\n\t\t\t_self.sleep = function() {\n\t\t\t\tif (_id == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!_useRAF || !_cancelAnimFrame) {\n\t\t\t\t\tclearTimeout(_id);\n\t\t\t\t} else {\n\t\t\t\t\t_cancelAnimFrame(_id);\n\t\t\t\t}\n\t\t\t\t_req = _emptyFunc;\n\t\t\t\t_id = null;\n\t\t\t\tif (_self === _ticker) {\n\t\t\t\t\t_tickerActive = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_self.wake = function(seamless) {\n\t\t\t\tif (_id !== null) {\n\t\t\t\t\t_self.sleep();\n\t\t\t\t} else if (seamless) {\n\t\t\t\t\t_startTime += -_lastUpdate + (_lastUpdate = _getTime());\n\t\t\t\t} else if (_self.frame > 10) { //don't trigger lagSmoothing if we're just waking up, and make sure that at least 10 frames have elapsed because of the iOS bug that we work around below with the 1.5-second setTimout().\n\t\t\t\t\t_lastUpdate = _getTime() - _lagThreshold + 5;\n\t\t\t\t}\n\t\t\t\t_req = (_fps === 0) ? _emptyFunc : (!_useRAF || !_reqAnimFrame) ? function(f) { return setTimeout(f, ((_nextTime - _self.time) * 1000 + 1) | 0); } : _reqAnimFrame;\n\t\t\t\tif (_self === _ticker) {\n\t\t\t\t\t_tickerActive = true;\n\t\t\t\t}\n\t\t\t\t_tick(2);\n\t\t\t};\n\n\t\t\t_self.fps = function(value) {\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\treturn _fps;\n\t\t\t\t}\n\t\t\t\t_fps = value;\n\t\t\t\t_gap = 1 / (_fps || 60);\n\t\t\t\t_nextTime = this.time + _gap;\n\t\t\t\t_self.wake();\n\t\t\t};\n\n\t\t\t_self.useRAF = function(value) {\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\treturn _useRAF;\n\t\t\t\t}\n\t\t\t\t_self.sleep();\n\t\t\t\t_useRAF = value;\n\t\t\t\t_self.fps(_fps);\n\t\t\t};\n\t\t\t_self.fps(fps);\n\n\t\t\t//a bug in iOS 6 Safari occasionally prevents the requestAnimationFrame from working initially, so we use a 1.5-second timeout that automatically falls back to setTimeout() if it senses this condition.\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (_useRAF === \"auto\" && _self.frame < 5 && (_doc || {}).visibilityState !== \"hidden\") {\n\t\t\t\t\t_self.useRAF(false);\n\t\t\t\t}\n\t\t\t}, 1500);\n\t\t});\n\n\t\tp = gs.Ticker.prototype = new gs.events.EventDispatcher();\n\t\tp.constructor = gs.Ticker;\n\n\n/*\n * ----------------------------------------------------------------\n * Animation\n * ----------------------------------------------------------------\n */\n\t\tvar Animation = _class(\"core.Animation\", function(duration, vars) {\n\t\t\t\tthis.vars = vars = vars || {};\n\t\t\t\tthis._duration = this._totalDuration = duration || 0;\n\t\t\t\tthis._delay = Number(vars.delay) || 0;\n\t\t\t\tthis._timeScale = 1;\n\t\t\t\tthis._active = !!vars.immediateRender;\n\t\t\t\tthis.data = vars.data;\n\t\t\t\tthis._reversed = !!vars.reversed;\n\n\t\t\t\tif (!_rootTimeline) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!_tickerActive) { //some browsers (like iOS 6 Safari) shut down JavaScript execution when the tab is disabled and they [occasionally] neglect to start up requestAnimationFrame again when returning - this code ensures that the engine starts up again properly.\n\t\t\t\t\t_ticker.wake();\n\t\t\t\t}\n\n\t\t\t\tvar tl = this.vars.useFrames ? _rootFramesTimeline : _rootTimeline;\n\t\t\t\ttl.add(this, tl._time);\n\n\t\t\t\tif (this.vars.paused) {\n\t\t\t\t\tthis.paused(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t_ticker = Animation.ticker = new gs.Ticker();\n\t\tp = Animation.prototype;\n\t\tp._dirty = p._gc = p._initted = p._paused = false;\n\t\tp._totalTime = p._time = 0;\n\t\tp._rawPrevTime = -1;\n\t\tp._next = p._last = p._onUpdate = p._timeline = p.timeline = null;\n\t\tp._paused = false;\n\n\n\t\t//some browsers (like iOS) occasionally drop the requestAnimationFrame event when the user switches to a different tab and then comes back again, so we use a 2-second setTimeout() to sense if/when that condition occurs and then wake() the ticker.\n\t\tvar _checkTimeout = function() {\n\t\t\t\tif (_tickerActive && _getTime() - _lastUpdate > 2000 && ((_doc || {}).visibilityState !== \"hidden\" || !_ticker.lagSmoothing())) { //note: if the tab is hidden, we should still wake if lagSmoothing has been disabled.\n\t\t\t\t\t_ticker.wake();\n\t\t\t\t}\n\t\t\t\tvar t = setTimeout(_checkTimeout, 2000);\n\t\t\t\tif (t.unref) {\n\t\t\t\t\t// allows a node process to exit even if the timeout’s callback hasn't been invoked. Without it, the node process could hang as this function is called every two seconds.\n\t\t\t\t\tt.unref();\n\t\t\t\t}\n\t\t\t};\n\t\t_checkTimeout();\n\n\n\t\tp.play = function(from, suppressEvents) {\n\t\t\tif (from != null) {\n\t\t\t\tthis.seek(from, suppressEvents);\n\t\t\t}\n\t\t\treturn this.reversed(false).paused(false);\n\t\t};\n\n\t\tp.pause = function(atTime, suppressEvents) {\n\t\t\tif (atTime != null) {\n\t\t\t\tthis.seek(atTime, suppressEvents);\n\t\t\t}\n\t\t\treturn this.paused(true);\n\t\t};\n\n\t\tp.resume = function(from, suppressEvents) {\n\t\t\tif (from != null) {\n\t\t\t\tthis.seek(from, suppressEvents);\n\t\t\t}\n\t\t\treturn this.paused(false);\n\t\t};\n\n\t\tp.seek = function(time, suppressEvents) {\n\t\t\treturn this.totalTime(Number(time), suppressEvents !== false);\n\t\t};\n\n\t\tp.restart = function(includeDelay, suppressEvents) {\n\t\t\treturn this.reversed(false).paused(false).totalTime(includeDelay ? -this._delay : 0, (suppressEvents !== false), true);\n\t\t};\n\n\t\tp.reverse = function(from, suppressEvents) {\n\t\t\tif (from != null) {\n\t\t\t\tthis.seek((from || this.totalDuration()), suppressEvents);\n\t\t\t}\n\t\t\treturn this.reversed(true).paused(false);\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\t//stub - we override this method in subclasses.\n\t\t};\n\n\t\tp.invalidate = function() {\n\t\t\tthis._time = this._totalTime = 0;\n\t\t\tthis._initted = this._gc = false;\n\t\t\tthis._rawPrevTime = -1;\n\t\t\tif (this._gc || !this.timeline) {\n\t\t\t\tthis._enabled(true);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.isActive = function() {\n\t\t\tvar tl = this._timeline, //the 2 root timelines won't have a _timeline; they're always active.\n\t\t\t\tstartTime = this._startTime,\n\t\t\t\trawTime;\n\t\t\treturn (!tl || (!this._gc && !this._paused && tl.isActive() && (rawTime = tl.rawTime(true)) >= startTime && rawTime < startTime + this.totalDuration() / this._timeScale - _tinyNum));\n\t\t};\n\n\t\tp._enabled = function (enabled, ignoreTimeline) {\n\t\t\tif (!_tickerActive) {\n\t\t\t\t_ticker.wake();\n\t\t\t}\n\t\t\tthis._gc = !enabled;\n\t\t\tthis._active = this.isActive();\n\t\t\tif (ignoreTimeline !== true) {\n\t\t\t\tif (enabled && !this.timeline) {\n\t\t\t\t\tthis._timeline.add(this, this._startTime - this._delay);\n\t\t\t\t} else if (!enabled && this.timeline) {\n\t\t\t\t\tthis._timeline._remove(this, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\n\t\tp._kill = function(vars, target) {\n\t\t\treturn this._enabled(false, false);\n\t\t};\n\n\t\tp.kill = function(vars, target) {\n\t\t\tthis._kill(vars, target);\n\t\t\treturn this;\n\t\t};\n\n\t\tp._uncache = function(includeSelf) {\n\t\t\tvar tween = includeSelf ? this : this.timeline;\n\t\t\twhile (tween) {\n\t\t\t\ttween._dirty = true;\n\t\t\t\ttween = tween.timeline;\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp._swapSelfInParams = function(params) {\n\t\t\tvar i = params.length,\n\t\t\t\tcopy = params.concat();\n\t\t\twhile (--i > -1) {\n\t\t\t\tif (params[i] === \"{self}\") {\n\t\t\t\t\tcopy[i] = this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t};\n\n\t\tp._callback = function(type) {\n\t\t\tvar v = this.vars,\n\t\t\t\tcallback = v[type],\n\t\t\t\tparams = v[type + \"Params\"],\n\t\t\t\tscope = v[type + \"Scope\"] || v.callbackScope || this,\n\t\t\t\tl = params ? params.length : 0;\n\t\t\tswitch (l) { //speed optimization; call() is faster than apply() so use it when there are only a few parameters (which is by far most common). Previously we simply did var v = this.vars; v[type].apply(v[type + \"Scope\"] || v.callbackScope || this, v[type + \"Params\"] || _blankArray);\n\t\t\t\tcase 0: callback.call(scope); break;\n\t\t\t\tcase 1: callback.call(scope, params[0]); break;\n\t\t\t\tcase 2: callback.call(scope, params[0], params[1]); break;\n\t\t\t\tdefault: callback.apply(scope, params);\n\t\t\t}\n\t\t};\n\n//----Animation getters/setters --------------------------------------------------------\n\n\t\tp.eventCallback = function(type, callback, params, scope) {\n\t\t\tif ((type || \"\").substr(0,2) === \"on\") {\n\t\t\t\tvar v = this.vars;\n\t\t\t\tif (arguments.length === 1) {\n\t\t\t\t\treturn v[type];\n\t\t\t\t}\n\t\t\t\tif (callback == null) {\n\t\t\t\t\tdelete v[type];\n\t\t\t\t} else {\n\t\t\t\t\tv[type] = callback;\n\t\t\t\t\tv[type + \"Params\"] = (_isArray(params) && params.join(\"\").indexOf(\"{self}\") !== -1) ? this._swapSelfInParams(params) : params;\n\t\t\t\t\tv[type + \"Scope\"] = scope;\n\t\t\t\t}\n\t\t\t\tif (type === \"onUpdate\") {\n\t\t\t\t\tthis._onUpdate = callback;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.delay = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._delay;\n\t\t\t}\n\t\t\tif (this._timeline.smoothChildTiming) {\n\t\t\t\tthis.startTime( this._startTime + value - this._delay );\n\t\t\t}\n\t\t\tthis._delay = value;\n\t\t\treturn this;\n\t\t};\n\n\t\tp.duration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tthis._dirty = false;\n\t\t\t\treturn this._duration;\n\t\t\t}\n\t\t\tthis._duration = this._totalDuration = value;\n\t\t\tthis._uncache(true); //true in case it's a TweenMax or TimelineMax that has a repeat - we'll need to refresh the totalDuration.\n\t\t\tif (this._timeline.smoothChildTiming) if (this._time > 0) if (this._time < this._duration) if (value !== 0) {\n\t\t\t\tthis.totalTime(this._totalTime * (value / this._duration), true);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.totalDuration = function(value) {\n\t\t\tthis._dirty = false;\n\t\t\treturn (!arguments.length) ? this._totalDuration : this.duration(value);\n\t\t};\n\n\t\tp.time = function(value, suppressEvents) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._time;\n\t\t\t}\n\t\t\tif (this._dirty) {\n\t\t\t\tthis.totalDuration();\n\t\t\t}\n\t\t\treturn this.totalTime((value > this._duration) ? this._duration : value, suppressEvents);\n\t\t};\n\n\t\tp.totalTime = function(time, suppressEvents, uncapped) {\n\t\t\tif (!_tickerActive) {\n\t\t\t\t_ticker.wake();\n\t\t\t}\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._totalTime;\n\t\t\t}\n\t\t\tif (this._timeline) {\n\t\t\t\tif (time < 0 && !uncapped) {\n\t\t\t\t\ttime += this.totalDuration();\n\t\t\t\t}\n\t\t\t\tif (this._timeline.smoothChildTiming) {\n\t\t\t\t\tif (this._dirty) {\n\t\t\t\t\t\tthis.totalDuration();\n\t\t\t\t\t}\n\t\t\t\t\tvar totalDuration = this._totalDuration,\n\t\t\t\t\t\ttl = this._timeline;\n\t\t\t\t\tif (time > totalDuration && !uncapped) {\n\t\t\t\t\t\ttime = totalDuration;\n\t\t\t\t\t}\n\t\t\t\t\tthis._startTime = (this._paused ? this._pauseTime : tl._time) - ((!this._reversed ? time : totalDuration - time) / this._timeScale);\n\t\t\t\t\tif (!tl._dirty) { //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n\t\t\t\t\t\tthis._uncache(false);\n\t\t\t\t\t}\n\t\t\t\t\t//in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The startTime of that child would get pushed out, but one of the ancestors may have completed.\n\t\t\t\t\tif (tl._timeline) {\n\t\t\t\t\t\twhile (tl._timeline) {\n\t\t\t\t\t\t\tif (tl._timeline._time !== (tl._startTime + tl._totalTime) / tl._timeScale) {\n\t\t\t\t\t\t\t\ttl.totalTime(tl._totalTime, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttl = tl._timeline;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this._gc) {\n\t\t\t\t\tthis._enabled(true, false);\n\t\t\t\t}\n\t\t\t\tif (this._totalTime !== time || this._duration === 0) {\n\t\t\t\t\tif (_lazyTweens.length) {\n\t\t\t\t\t\t_lazyRender();\n\t\t\t\t\t}\n\t\t\t\t\tthis.render(time, suppressEvents, false);\n\t\t\t\t\tif (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n\t\t\t\t\t\t_lazyRender();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.progress = p.totalProgress = function(value, suppressEvents) {\n\t\t\tvar duration = this.duration();\n\t\t\treturn (!arguments.length) ? (duration ? this._time / duration : this.ratio) : this.totalTime(duration * value, suppressEvents);\n\t\t};\n\n\t\tp.startTime = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._startTime;\n\t\t\t}\n\t\t\tif (value !== this._startTime) {\n\t\t\t\tthis._startTime = value;\n\t\t\t\tif (this.timeline) if (this.timeline._sortChildren) {\n\t\t\t\t\tthis.timeline.add(this, value - this._delay); //ensures that any necessary re-sequencing of Animations in the timeline occurs to make sure the rendering order is correct.\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.endTime = function(includeRepeats) {\n\t\t\treturn this._startTime + ((includeRepeats != false) ? this.totalDuration() : this.duration()) / this._timeScale;\n\t\t};\n\n\t\tp.timeScale = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._timeScale;\n\t\t\t}\n\t\t\tvar pauseTime, t;\n\t\t\tvalue = value || _tinyNum; //can't allow zero because it'll throw the math off\n\t\t\tif (this._timeline && this._timeline.smoothChildTiming) {\n\t\t\t\tpauseTime = this._pauseTime;\n\t\t\t\tt = (pauseTime || pauseTime === 0) ? pauseTime : this._timeline.totalTime();\n\t\t\t\tthis._startTime = t - ((t - this._startTime) * this._timeScale / value);\n\t\t\t}\n\t\t\tthis._timeScale = value;\n\t\t\tt = this.timeline;\n\t\t\twhile (t && t.timeline) { //must update the duration/totalDuration of all ancestor timelines immediately in case in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n\t\t\t\tt._dirty = true;\n\t\t\t\tt.totalDuration();\n\t\t\t\tt = t.timeline;\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.reversed = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._reversed;\n\t\t\t}\n\t\t\tif (value != this._reversed) {\n\t\t\t\tthis._reversed = value;\n\t\t\t\tthis.totalTime(((this._timeline && !this._timeline.smoothChildTiming) ? this.totalDuration() - this._totalTime : this._totalTime), true);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.paused = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._paused;\n\t\t\t}\n\t\t\tvar tl = this._timeline,\n\t\t\t\traw, elapsed;\n\t\t\tif (value != this._paused) if (tl) {\n\t\t\t\tif (!_tickerActive && !value) {\n\t\t\t\t\t_ticker.wake();\n\t\t\t\t}\n\t\t\t\traw = tl.rawTime();\n\t\t\t\telapsed = raw - this._pauseTime;\n\t\t\t\tif (!value && tl.smoothChildTiming) {\n\t\t\t\t\tthis._startTime += elapsed;\n\t\t\t\t\tthis._uncache(false);\n\t\t\t\t}\n\t\t\t\tthis._pauseTime = value ? raw : null;\n\t\t\t\tthis._paused = value;\n\t\t\t\tthis._active = this.isActive();\n\t\t\t\tif (!value && elapsed !== 0 && this._initted && this.duration()) {\n\t\t\t\t\traw = tl.smoothChildTiming ? this._totalTime : (raw - this._startTime) / this._timeScale;\n\t\t\t\t\tthis.render(raw, (raw === this._totalTime), true); //in case the target's properties changed via some other tween or manual update by the user, we should force a render.\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._gc && !value) {\n\t\t\t\tthis._enabled(true, false);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\n/*\n * ----------------------------------------------------------------\n * SimpleTimeline\n * ----------------------------------------------------------------\n */\n\t\tvar SimpleTimeline = _class(\"core.SimpleTimeline\", function(vars) {\n\t\t\tAnimation.call(this, 0, vars);\n\t\t\tthis.autoRemoveChildren = this.smoothChildTiming = true;\n\t\t});\n\n\t\tp = SimpleTimeline.prototype = new Animation();\n\t\tp.constructor = SimpleTimeline;\n\t\tp.kill()._gc = false;\n\t\tp._first = p._last = p._recent = null;\n\t\tp._sortChildren = false;\n\n\t\tp.add = p.insert = function(child, position, align, stagger) {\n\t\t\tvar prevTween, st;\n\t\t\tchild._startTime = Number(position || 0) + child._delay;\n\t\t\tif (child._paused) if (this !== child._timeline) { //we only adjust the _pauseTime if it wasn't in this timeline already. Remember, sometimes a tween will be inserted again into the same timeline when its startTime is changed so that the tweens in the TimelineLite/Max are re-ordered properly in the linked list (so everything renders in the proper order).\n\t\t\t\tchild._pauseTime = this.rawTime() - (child._timeline.rawTime() - child._pauseTime);\n\t\t\t}\n\t\t\tif (child.timeline) {\n\t\t\t\tchild.timeline._remove(child, true); //removes from existing timeline so that it can be properly added to this one.\n\t\t\t}\n\t\t\tchild.timeline = child._timeline = this;\n\t\t\tif (child._gc) {\n\t\t\t\tchild._enabled(true, true);\n\t\t\t}\n\t\t\tprevTween = this._last;\n\t\t\tif (this._sortChildren) {\n\t\t\t\tst = child._startTime;\n\t\t\t\twhile (prevTween && prevTween._startTime > st) {\n\t\t\t\t\tprevTween = prevTween._prev;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (prevTween) {\n\t\t\t\tchild._next = prevTween._next;\n\t\t\t\tprevTween._next = child;\n\t\t\t} else {\n\t\t\t\tchild._next = this._first;\n\t\t\t\tthis._first = child;\n\t\t\t}\n\t\t\tif (child._next) {\n\t\t\t\tchild._next._prev = child;\n\t\t\t} else {\n\t\t\t\tthis._last = child;\n\t\t\t}\n\t\t\tchild._prev = prevTween;\n\t\t\tthis._recent = child;\n\t\t\tif (this._timeline) {\n\t\t\t\tthis._uncache(true);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp._remove = function(tween, skipDisable) {\n\t\t\tif (tween.timeline === this) {\n\t\t\t\tif (!skipDisable) {\n\t\t\t\t\ttween._enabled(false, true);\n\t\t\t\t}\n\n\t\t\t\tif (tween._prev) {\n\t\t\t\t\ttween._prev._next = tween._next;\n\t\t\t\t} else if (this._first === tween) {\n\t\t\t\t\tthis._first = tween._next;\n\t\t\t\t}\n\t\t\t\tif (tween._next) {\n\t\t\t\t\ttween._next._prev = tween._prev;\n\t\t\t\t} else if (this._last === tween) {\n\t\t\t\t\tthis._last = tween._prev;\n\t\t\t\t}\n\t\t\t\ttween._next = tween._prev = tween.timeline = null;\n\t\t\t\tif (tween === this._recent) {\n\t\t\t\t\tthis._recent = this._last;\n\t\t\t\t}\n\n\t\t\t\tif (this._timeline) {\n\t\t\t\t\tthis._uncache(true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\tvar tween = this._first,\n\t\t\t\tnext;\n\t\t\tthis._totalTime = this._time = this._rawPrevTime = time;\n\t\t\twhile (tween) {\n\t\t\t\tnext = tween._next; //record it here because the value could change after rendering...\n\t\t\t\tif (tween._active || (time >= tween._startTime && !tween._paused && !tween._gc)) {\n\t\t\t\t\tif (!tween._reversed) {\n\t\t\t\t\t\ttween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttween = next;\n\t\t\t}\n\t\t};\n\n\t\tp.rawTime = function() {\n\t\t\tif (!_tickerActive) {\n\t\t\t\t_ticker.wake();\n\t\t\t}\n\t\t\treturn this._totalTime;\n\t\t};\n\n/*\n * ----------------------------------------------------------------\n * TweenLite\n * ----------------------------------------------------------------\n */\n\t\tvar TweenLite = _class(\"TweenLite\", function(target, duration, vars) {\n\t\t\t\tAnimation.call(this, duration, vars);\n\t\t\t\tthis.render = TweenLite.prototype.render; //speed optimization (avoid prototype lookup on this \"hot\" method)\n\n\t\t\t\tif (target == null) {\n\t\t\t\t\tthrow \"Cannot tween a null target.\";\n\t\t\t\t}\n\n\t\t\t\tthis.target = target = (typeof(target) !== \"string\") ? target : TweenLite.selector(target) || target;\n\n\t\t\t\tvar isSelector = (target.jquery || (target.length && target !== window && target[0] && (target[0] === window || (target[0].nodeType && target[0].style && !target.nodeType)))),\n\t\t\t\t\toverwrite = this.vars.overwrite,\n\t\t\t\t\ti, targ, targets;\n\n\t\t\t\tthis._overwrite = overwrite = (overwrite == null) ? _overwriteLookup[TweenLite.defaultOverwrite] : (typeof(overwrite) === \"number\") ? overwrite >> 0 : _overwriteLookup[overwrite];\n\n\t\t\t\tif ((isSelector || target instanceof Array || (target.push && _isArray(target))) && typeof(target[0]) !== \"number\") {\n\t\t\t\t\tthis._targets = targets = _slice(target);  //don't use Array.prototype.slice.call(target, 0) because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\n\t\t\t\t\tthis._propLookup = [];\n\t\t\t\t\tthis._siblings = [];\n\t\t\t\t\tfor (i = 0; i < targets.length; i++) {\n\t\t\t\t\t\ttarg = targets[i];\n\t\t\t\t\t\tif (!targ) {\n\t\t\t\t\t\t\ttargets.splice(i--, 1);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else if (typeof(targ) === \"string\") {\n\t\t\t\t\t\t\ttarg = targets[i--] = TweenLite.selector(targ); //in case it's an array of strings\n\t\t\t\t\t\t\tif (typeof(targ) === \"string\") {\n\t\t\t\t\t\t\t\ttargets.splice(i+1, 1); //to avoid an endless loop (can't imagine why the selector would return a string, but just in case)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else if (targ.length && targ !== window && targ[0] && (targ[0] === window || (targ[0].nodeType && targ[0].style && !targ.nodeType))) { //in case the user is passing in an array of selector objects (like jQuery objects), we need to check one more level and pull things out if necessary. Also note that <select> elements pass all the criteria regarding length and the first child having style, so we must also check to ensure the target isn't an HTML node itself.\n\t\t\t\t\t\t\ttargets.splice(i--, 1);\n\t\t\t\t\t\t\tthis._targets = targets = targets.concat(_slice(targ));\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._siblings[i] = _register(targ, this, false);\n\t\t\t\t\t\tif (overwrite === 1) if (this._siblings[i].length > 1) {\n\t\t\t\t\t\t\t_applyOverwrite(targ, this, null, 1, this._siblings[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis._propLookup = {};\n\t\t\t\t\tthis._siblings = _register(target, this, false);\n\t\t\t\t\tif (overwrite === 1) if (this._siblings.length > 1) {\n\t\t\t\t\t\t_applyOverwrite(target, this, null, 1, this._siblings);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.vars.immediateRender || (duration === 0 && this._delay === 0 && this.vars.immediateRender !== false)) {\n\t\t\t\t\tthis._time = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\t\t\t\t\tthis.render(Math.min(0, -this._delay)); //in case delay is negative\n\t\t\t\t}\n\t\t\t}, true),\n\t\t\t_isSelector = function(v) {\n\t\t\t\treturn (v && v.length && v !== window && v[0] && (v[0] === window || (v[0].nodeType && v[0].style && !v.nodeType))); //we cannot check \"nodeType\" if the target is window from within an iframe, otherwise it will trigger a security error in some browsers like Firefox.\n\t\t\t},\n\t\t\t_autoCSS = function(vars, target) {\n\t\t\t\tvar css = {},\n\t\t\t\t\tp;\n\t\t\t\tfor (p in vars) {\n\t\t\t\t\tif (!_reservedProps[p] && (!(p in target) || p === \"transform\" || p === \"x\" || p === \"y\" || p === \"width\" || p === \"height\" || p === \"className\" || p === \"border\") && (!_plugins[p] || (_plugins[p] && _plugins[p]._autoCSS))) { //note: <img> elements contain read-only \"x\" and \"y\" properties. We should also prioritize editing css width/height rather than the element's properties.\n\t\t\t\t\t\tcss[p] = vars[p];\n\t\t\t\t\t\tdelete vars[p];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvars.css = css;\n\t\t\t};\n\n\t\tp = TweenLite.prototype = new Animation();\n\t\tp.constructor = TweenLite;\n\t\tp.kill()._gc = false;\n\n//----TweenLite defaults, overwrite management, and root updates ----------------------------------------------------\n\n\t\tp.ratio = 0;\n\t\tp._firstPT = p._targets = p._overwrittenProps = p._startAt = null;\n\t\tp._notifyPluginsOfEnabled = p._lazy = false;\n\n\t\tTweenLite.version = \"2.1.3\";\n\t\tTweenLite.defaultEase = p._ease = new Ease(null, null, 1, 1);\n\t\tTweenLite.defaultOverwrite = \"auto\";\n\t\tTweenLite.ticker = _ticker;\n\t\tTweenLite.autoSleep = 120;\n\t\tTweenLite.lagSmoothing = function(threshold, adjustedLag) {\n\t\t\t_ticker.lagSmoothing(threshold, adjustedLag);\n\t\t};\n\n\t\tTweenLite.selector = window.$ || window.jQuery || function(e) {\n\t\t\tvar selector = window.$ || window.jQuery;\n\t\t\tif (selector) {\n\t\t\t\tTweenLite.selector = selector;\n\t\t\t\treturn selector(e);\n\t\t\t}\n\t\t\tif (!_doc) { //in some dev environments (like Angular 6), GSAP gets loaded before the document is defined! So re-query it here if/when necessary.\n\t\t\t\t_doc = window.document;\n\t\t\t}\n\t\t\treturn (!_doc) ? e : (_doc.querySelectorAll ? _doc.querySelectorAll(e) : _doc.getElementById((e.charAt(0) === \"#\") ? e.substr(1) : e));\n\t\t};\n\n\t\tvar _lazyTweens = [],\n\t\t\t_lazyLookup = {},\n\t\t\t_numbersExp = /(?:(-|-=|\\+=)?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/ig,\n\t\t\t_relExp = /[\\+-]=-?[\\.\\d]/,\n\t\t\t//_nonNumbersExp = /(?:([\\-+](?!(\\d|=)))|[^\\d\\-+=e]|(e(?![\\-+][\\d])))+/ig,\n\t\t\t_setRatio = function(v) {\n\t\t\t\tvar pt = this._firstPT,\n\t\t\t\t\tmin = 0.000001,\n\t\t\t\t\tval;\n\t\t\t\twhile (pt) {\n\t\t\t\t\tval = !pt.blob ? pt.c * v + pt.s : (v === 1 && this.end != null) ? this.end : v ? this.join(\"\") : this.start;\n\t\t\t\t\tif (pt.m) {\n\t\t\t\t\t\tval = pt.m.call(this._tween, val, this._target || pt.t, this._tween);\n\t\t\t\t\t} else if (val < min) if (val > -min && !pt.blob) { //prevents issues with converting very small numbers to strings in the browser\n\t\t\t\t\t\tval = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (!pt.f) {\n\t\t\t\t\t\tpt.t[pt.p] = val;\n\t\t\t\t\t} else if (pt.fp) {\n\t\t\t\t\t\tpt.t[pt.p](pt.fp, val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.t[pt.p](val);\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_blobRound = function(v) {\n\t\t\t\treturn (((v * 1000) | 0) / 1000) + \"\";\n\t\t\t},\n\t\t\t//compares two strings (start/end), finds the numbers that are different and spits back an array representing the whole value but with the changing values isolated as elements. For example, \"rgb(0,0,0)\" and \"rgb(100,50,0)\" would become [\"rgb(\", 0, \",\", 50, \",0)\"]. Notice it merges the parts that are identical (performance optimization). The array also has a linked list of PropTweens attached starting with _firstPT that contain the tweening data (t, p, s, c, f, etc.). It also stores the starting value as a \"start\" property so that we can revert to it if/when necessary, like when a tween rewinds fully. If the quantity of numbers differs between the start and end, it will always prioritize the end value(s). The pt parameter is optional - it's for a PropTween that will be appended to the end of the linked list and is typically for actually setting the value after all of the elements have been updated (with array.join(\"\")).\n\t\t\t_blobDif = function(start, end, filter, pt) {\n\t\t\t\tvar a = [],\n\t\t\t\t\tcharIndex = 0,\n\t\t\t\t\ts = \"\",\n\t\t\t\t\tcolor = 0,\n\t\t\t\t\tstartNums, endNums, num, i, l, nonNumbers, currentNum;\n\t\t\t\ta.start = start;\n\t\t\t\ta.end = end;\n\t\t\t\tstart = a[0] = start + \"\"; //ensure values are strings\n\t\t\t\tend = a[1] = end + \"\";\n\t\t\t\tif (filter) {\n\t\t\t\t\tfilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\t\t\t\t\tstart = a[0];\n\t\t\t\t\tend = a[1];\n\t\t\t\t}\n\t\t\t\ta.length = 0;\n\t\t\t\tstartNums = start.match(_numbersExp) || [];\n\t\t\t\tendNums = end.match(_numbersExp) || [];\n\t\t\t\tif (pt) {\n\t\t\t\t\tpt._next = null;\n\t\t\t\t\tpt.blob = 1;\n\t\t\t\t\ta._firstPT = a._applyPT = pt; //apply last in the linked list (which means inserting it first)\n\t\t\t\t}\n\t\t\t\tl = endNums.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tcurrentNum = endNums[i];\n\t\t\t\t\tnonNumbers = end.substr(charIndex, end.indexOf(currentNum, charIndex)-charIndex);\n\t\t\t\t\ts += (nonNumbers || !i) ? nonNumbers : \",\"; //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n\t\t\t\t\tcharIndex += nonNumbers.length;\n\t\t\t\t\tif (color) { //sense rgba() values and round them.\n\t\t\t\t\t\tcolor = (color + 1) % 5;\n\t\t\t\t\t} else if (nonNumbers.substr(-5) === \"rgba(\") {\n\t\t\t\t\t\tcolor = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (currentNum === startNums[i] || startNums.length <= i) {\n\t\t\t\t\t\ts += currentNum;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\ta.push(s);\n\t\t\t\t\t\t\ts = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnum = parseFloat(startNums[i]);\n\t\t\t\t\t\ta.push(num);\n\t\t\t\t\t\ta._firstPT = {_next: a._firstPT, t:a, p: a.length-1, s:num, c:((currentNum.charAt(1) === \"=\") ? parseInt(currentNum.charAt(0) + \"1\", 10) * parseFloat(currentNum.substr(2)) : (parseFloat(currentNum) - num)) || 0, f:0, m:(color && color < 4) ? Math.round : _blobRound}; //limiting to 3 decimal places and casting as a string can really help performance when array.join() is called!\n\t\t\t\t\t\t//note: we don't set _prev because we'll never need to remove individual PropTweens from this list.\n\t\t\t\t\t}\n\t\t\t\t\tcharIndex += currentNum.length;\n\t\t\t\t}\n\t\t\t\ts += end.substr(charIndex);\n\t\t\t\tif (s) {\n\t\t\t\t\ta.push(s);\n\t\t\t\t}\n\t\t\t\ta.setRatio = _setRatio;\n\t\t\t\tif (_relExp.test(end)) { //if the end string contains relative values, delete it so that on the final render (in _setRatio()), we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\t\t\t\t\ta.end = null;\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t},\n\t\t\t//note: \"funcParam\" is only necessary for function-based getters/setters that require an extra parameter like getAttribute(\"width\") and setAttribute(\"width\", value). In this example, funcParam would be \"width\". Used by AttrPlugin for example.\n\t\t\t_addPropTween = function(target, prop, start, end, overwriteProp, mod, funcParam, stringFilter, index) {\n\t\t\t\tif (typeof(end) === \"function\") {\n\t\t\t\t\tend = end(index || 0, target);\n\t\t\t\t}\n\t\t\t\tvar type = typeof(target[prop]),\n\t\t\t\t\tgetterName = (type !== \"function\") ? \"\" : ((prop.indexOf(\"set\") || typeof(target[\"get\" + prop.substr(3)]) !== \"function\") ? prop : \"get\" + prop.substr(3)),\n\t\t\t\t\ts = (start !== \"get\") ? start : !getterName ? target[prop] : funcParam ? target[getterName](funcParam) : target[getterName](),\n\t\t\t\t\tisRelative = (typeof(end) === \"string\" && end.charAt(1) === \"=\"),\n\t\t\t\t\tpt = {t:target, p:prop, s:s, f:(type === \"function\"), pg:0, n:overwriteProp || prop, m:(!mod ? 0 : (typeof(mod) === \"function\") ? mod : Math.round), pr:0, c:isRelative ? parseInt(end.charAt(0) + \"1\", 10) * parseFloat(end.substr(2)) : (parseFloat(end) - s) || 0},\n\t\t\t\t\tblob;\n\n\t\t\t\tif (typeof(s) !== \"number\" || (typeof(end) !== \"number\" && !isRelative)) {\n\t\t\t\t\tif (funcParam || isNaN(s) || (!isRelative && isNaN(end)) || typeof(s) === \"boolean\" || typeof(end) === \"boolean\") {\n\t\t\t\t\t\t//a blob (string that has multiple numbers in it)\n\t\t\t\t\t\tpt.fp = funcParam;\n\t\t\t\t\t\tblob = _blobDif(s, (isRelative ? (parseFloat(pt.s) + pt.c) + (pt.s + \"\").replace(/[0-9\\-\\.]/g, \"\") : end), stringFilter || TweenLite.defaultStringFilter, pt);\n\t\t\t\t\t\tpt = {t: blob, p: \"setRatio\", s: 0, c: 1, f: 2, pg: 0, n: overwriteProp || prop, pr: 0, m: 0}; //\"2\" indicates it's a Blob property tween. Needed for RoundPropsPlugin for example.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.s = parseFloat(s);\n\t\t\t\t\t\tif (!isRelative) {\n\t\t\t\t\t\t\tpt.c = (parseFloat(end) - pt.s) || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pt.c) { //only add it to the linked list if there's a change.\n\t\t\t\t\tif ((pt._next = this._firstPT)) {\n\t\t\t\t\t\tpt._next._prev = pt;\n\t\t\t\t\t}\n\t\t\t\t\tthis._firstPT = pt;\n\t\t\t\t\treturn pt;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_internals = TweenLite._internals = {isArray:_isArray, isSelector:_isSelector, lazyTweens:_lazyTweens, blobDif:_blobDif}, //gives us a way to expose certain private values to other GreenSock classes without contaminating tha main TweenLite object.\n\t\t\t_plugins = TweenLite._plugins = {},\n\t\t\t_tweenLookup = _internals.tweenLookup = {},\n\t\t\t_tweenLookupNum = 0,\n\t\t\t_reservedProps = _internals.reservedProps = {ease:1, delay:1, overwrite:1, onComplete:1, onCompleteParams:1, onCompleteScope:1, useFrames:1, runBackwards:1, startAt:1, onUpdate:1, onUpdateParams:1, onUpdateScope:1, onStart:1, onStartParams:1, onStartScope:1, onReverseComplete:1, onReverseCompleteParams:1, onReverseCompleteScope:1, onRepeat:1, onRepeatParams:1, onRepeatScope:1, easeParams:1, yoyo:1, immediateRender:1, repeat:1, repeatDelay:1, data:1, paused:1, reversed:1, autoCSS:1, lazy:1, onOverwrite:1, callbackScope:1, stringFilter:1, id:1, yoyoEase:1, stagger:1},\n\t\t\t_overwriteLookup = {none:0, all:1, auto:2, concurrent:3, allOnStart:4, preexisting:5, \"true\":1, \"false\":0},\n\t\t\t_rootFramesTimeline = Animation._rootFramesTimeline = new SimpleTimeline(),\n\t\t\t_rootTimeline = Animation._rootTimeline = new SimpleTimeline(),\n\t\t\t_nextGCFrame = 30,\n\t\t\t_lazyRender = _internals.lazyRender = function() {\n\t\t\t\tvar l = _lazyTweens.length,\n\t\t\t\t\ti, tween;\n\t\t\t\t_lazyLookup = {};\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\ttween = _lazyTweens[i];\n\t\t\t\t\tif (tween && tween._lazy !== false) {\n\t\t\t\t\t\ttween.render(tween._lazy[0], tween._lazy[1], true);\n\t\t\t\t\t\ttween._lazy = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_lazyTweens.length = 0;\n\t\t\t};\n\n\t\t_rootTimeline._startTime = _ticker.time;\n\t\t_rootFramesTimeline._startTime = _ticker.frame;\n\t\t_rootTimeline._active = _rootFramesTimeline._active = true;\n\t\tsetTimeout(_lazyRender, 1); //on some mobile devices, there isn't a \"tick\" before code runs which means any lazy renders wouldn't run before the next official \"tick\".\n\n\t\tAnimation._updateRoot = TweenLite.render = function() {\n\t\t\t\tvar i, a, p;\n\t\t\t\tif (_lazyTweens.length) { //if code is run outside of the requestAnimationFrame loop, there may be tweens queued AFTER the engine refreshed, so we need to ensure any pending renders occur before we refresh again.\n\t\t\t\t\t_lazyRender();\n\t\t\t\t}\n\t\t\t\t_rootTimeline.render((_ticker.time - _rootTimeline._startTime) * _rootTimeline._timeScale, false, false);\n\t\t\t\t_rootFramesTimeline.render((_ticker.frame - _rootFramesTimeline._startTime) * _rootFramesTimeline._timeScale, false, false);\n\t\t\t\tif (_lazyTweens.length) {\n\t\t\t\t\t_lazyRender();\n\t\t\t\t}\n\t\t\t\tif (_ticker.frame >= _nextGCFrame) { //dump garbage every 120 frames or whatever the user sets TweenLite.autoSleep to\n\t\t\t\t\t_nextGCFrame = _ticker.frame + (parseInt(TweenLite.autoSleep, 10) || 120);\n\t\t\t\t\tfor (p in _tweenLookup) {\n\t\t\t\t\t\ta = _tweenLookup[p].tweens;\n\t\t\t\t\t\ti = a.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\tif (a[i]._gc) {\n\t\t\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.length === 0) {\n\t\t\t\t\t\t\tdelete _tweenLookup[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//if there are no more tweens in the root timelines, or if they're all paused, make the _timer sleep to reduce load on the CPU slightly\n\t\t\t\t\tp = _rootTimeline._first;\n\t\t\t\t\tif (!p || p._paused) if (TweenLite.autoSleep && !_rootFramesTimeline._first && _ticker._listeners.tick.length === 1) {\n\t\t\t\t\t\twhile (p && p._paused) {\n\t\t\t\t\t\t\tp = p._next;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!p) {\n\t\t\t\t\t\t\t_ticker.sleep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t_ticker.addEventListener(\"tick\", Animation._updateRoot);\n\n\t\tvar _register = function(target, tween, scrub) {\n\t\t\t\tvar id = target._gsTweenID, a, i;\n\t\t\t\tif (!_tweenLookup[id || (target._gsTweenID = id = \"t\" + (_tweenLookupNum++))]) {\n\t\t\t\t\t_tweenLookup[id] = {target:target, tweens:[]};\n\t\t\t\t}\n\t\t\t\tif (tween) {\n\t\t\t\t\ta = _tweenLookup[id].tweens;\n\t\t\t\t\ta[(i = a.length)] = tween;\n\t\t\t\t\tif (scrub) {\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\tif (a[i] === tween) {\n\t\t\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn _tweenLookup[id].tweens;\n\t\t\t},\n\t\t\t_onOverwrite = function(overwrittenTween, overwritingTween, target, killedProps) {\n\t\t\t\tvar func = overwrittenTween.vars.onOverwrite, r1, r2;\n\t\t\t\tif (func) {\n\t\t\t\t\tr1 = func(overwrittenTween, overwritingTween, target, killedProps);\n\t\t\t\t}\n\t\t\t\tfunc = TweenLite.onOverwrite;\n\t\t\t\tif (func) {\n\t\t\t\t\tr2 = func(overwrittenTween, overwritingTween, target, killedProps);\n\t\t\t\t}\n\t\t\t\treturn (r1 !== false && r2 !== false);\n\t\t\t},\n\t\t\t_applyOverwrite = function(target, tween, props, mode, siblings) {\n\t\t\t\tvar i, changed, curTween, l;\n\t\t\t\tif (mode === 1 || mode >= 4) {\n\t\t\t\t\tl = siblings.length;\n\t\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\t\tif ((curTween = siblings[i]) !== tween) {\n\t\t\t\t\t\t\tif (!curTween._gc) {\n\t\t\t\t\t\t\t\tif (curTween._kill(null, target, tween)) {\n\t\t\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (mode === 5) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn changed;\n\t\t\t\t}\n\t\t\t\t//NOTE: Add tiny amount to overcome floating point errors that can cause the startTime to be VERY slightly off (when a tween's time() is set for example)\n\t\t\t\tvar startTime = tween._startTime + _tinyNum,\n\t\t\t\t\toverlaps = [],\n\t\t\t\t\toCount = 0,\n\t\t\t\t\tzeroDur = (tween._duration === 0),\n\t\t\t\t\tglobalStart;\n\t\t\t\ti = siblings.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif ((curTween = siblings[i]) === tween || curTween._gc || curTween._paused) {\n\t\t\t\t\t\t//ignore\n\t\t\t\t\t} else if (curTween._timeline !== tween._timeline) {\n\t\t\t\t\t\tglobalStart = globalStart || _checkOverlap(tween, 0, zeroDur);\n\t\t\t\t\t\tif (_checkOverlap(curTween, globalStart, zeroDur) === 0) {\n\t\t\t\t\t\t\toverlaps[oCount++] = curTween;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (curTween._startTime <= startTime) if (curTween._startTime + curTween.totalDuration() / curTween._timeScale > startTime) if (!((zeroDur || !curTween._initted) && startTime - curTween._startTime <= _tinyNum * 2)) {\n\t\t\t\t\t\toverlaps[oCount++] = curTween;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ti = oCount;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tcurTween = overlaps[i];\n\t\t\t\t\tl = curTween._firstPT; //we need to discern if there were property tweens originally; if they all get removed in the next line's _kill() call, the tween should be killed. See https://github.com/greensock/GreenSock-JS/issues/278\n\t\t\t\t\tif (mode === 2) if (curTween._kill(props, target, tween)) {\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (mode !== 2 || (!curTween._firstPT && curTween._initted && l)) {\n\t\t\t\t\t\tif (mode !== 2 && !_onOverwrite(curTween, tween)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (curTween._enabled(false, false)) { //if all property tweens have been overwritten, kill the tween.\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn changed;\n\t\t\t},\n\t\t\t_checkOverlap = function(tween, reference, zeroDur) {\n\t\t\t\tvar tl = tween._timeline,\n\t\t\t\t\tts = tl._timeScale,\n\t\t\t\t\tt = tween._startTime;\n\t\t\t\twhile (tl._timeline) {\n\t\t\t\t\tt += tl._startTime;\n\t\t\t\t\tts *= tl._timeScale;\n\t\t\t\t\tif (tl._paused) {\n\t\t\t\t\t\treturn -100;\n\t\t\t\t\t}\n\t\t\t\t\ttl = tl._timeline;\n\t\t\t\t}\n\t\t\t\tt /= ts;\n\t\t\t\treturn (t > reference) ? t - reference : ((zeroDur && t === reference) || (!tween._initted && t - reference < 2 * _tinyNum)) ? _tinyNum : ((t += tween.totalDuration() / tween._timeScale / ts) > reference + _tinyNum) ? 0 : t - reference - _tinyNum;\n\t\t\t};\n\n\n//---- TweenLite instance methods -----------------------------------------------------------------------------\n\n\t\tp._init = function() {\n\t\t\tvar v = this.vars,\n\t\t\t\top = this._overwrittenProps,\n\t\t\t\tdur = this._duration,\n\t\t\t\timmediate = !!v.immediateRender,\n\t\t\t\tease = v.ease,\n\t\t\t\tstartAt = this._startAt,\n\t\t\t\ti, initPlugins, pt, p, startVars, l;\n\t\t\tif (v.startAt) {\n\t\t\t\tif (startAt) {\n\t\t\t\t\tstartAt.render(-1, true); //if we've run a startAt previously (when the tween instantiated), we should revert it so that the values re-instantiate correctly particularly for relative tweens. Without this, a TweenLite.fromTo(obj, 1, {x:\"+=100\"}, {x:\"-=100\"}), for example, would actually jump to +=200 because the startAt would run twice, doubling the relative change.\n\t\t\t\t\tstartAt.kill();\n\t\t\t\t}\n\t\t\t\tstartVars = {};\n\t\t\t\tfor (p in v.startAt) { //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, 1, from, to).fromTo(e, 1, to, from);\n\t\t\t\t\tstartVars[p] = v.startAt[p];\n\t\t\t\t}\n\t\t\t\tstartVars.data = \"isStart\";\n\t\t\t\tstartVars.overwrite = false;\n\t\t\t\tstartVars.immediateRender = true;\n\t\t\t\tstartVars.lazy = (immediate && v.lazy !== false);\n\t\t\t\tstartVars.startAt = startVars.delay = null; //no nesting of startAt objects allowed (otherwise it could cause an infinite loop).\n\t\t\t\tstartVars.onUpdate = v.onUpdate;\n\t\t\t\tstartVars.onUpdateParams = v.onUpdateParams;\n\t\t\t\tstartVars.onUpdateScope = v.onUpdateScope || v.callbackScope || this;\n\t\t\t\tthis._startAt = TweenLite.to(this.target || {}, 0, startVars);\n\t\t\t\tif (immediate) {\n\t\t\t\t\tif (this._time > 0) {\n\t\t\t\t\t\tthis._startAt = null; //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in TimelineLite/Max instances where immediateRender was false (which is the default in the convenience methods like from()).\n\t\t\t\t\t} else if (dur !== 0) {\n\t\t\t\t\t\treturn; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a TimelineLite or TimelineMax, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (v.runBackwards && dur !== 0) {\n\t\t\t\t//from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n\t\t\t\tif (startAt) {\n\t\t\t\t\tstartAt.render(-1, true);\n\t\t\t\t\tstartAt.kill();\n\t\t\t\t\tthis._startAt = null;\n\t\t\t\t} else {\n\t\t\t\t\tif (this._time !== 0) { //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\t\t\t\t\t\timmediate = false;\n\t\t\t\t\t}\n\t\t\t\t\tpt = {};\n\t\t\t\t\tfor (p in v) { //copy props into a new object and skip any reserved props, otherwise onComplete or onUpdate or onStart could fire. We should, however, permit autoCSS to go through.\n\t\t\t\t\t\tif (!_reservedProps[p] || p === \"autoCSS\") {\n\t\t\t\t\t\t\tpt[p] = v[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpt.overwrite = 0;\n\t\t\t\t\tpt.data = \"isFromStart\"; //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n\t\t\t\t\tpt.lazy = (immediate && v.lazy !== false);\n\t\t\t\t\tpt.immediateRender = immediate; //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n\t\t\t\t\tthis._startAt = TweenLite.to(this.target, 0, pt);\n\t\t\t\t\tif (!immediate) {\n\t\t\t\t\t\tthis._startAt._init(); //ensures that the initial values are recorded\n\t\t\t\t\t\tthis._startAt._enabled(false); //no need to have the tween render on the next cycle. Disable it because we'll always manually control the renders of the _startAt tween.\n\t\t\t\t\t\tif (this.vars.immediateRender) {\n\t\t\t\t\t\t\tthis._startAt = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this._time === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._ease = ease = (!ease) ? TweenLite.defaultEase : (ease instanceof Ease) ? ease : (typeof(ease) === \"function\") ? new Ease(ease, v.easeParams) : _easeMap[ease] || TweenLite.defaultEase;\n\t\t\tif (v.easeParams instanceof Array && ease.config) {\n\t\t\t\tthis._ease = ease.config.apply(ease, v.easeParams);\n\t\t\t}\n\t\t\tthis._easeType = this._ease._type;\n\t\t\tthis._easePower = this._ease._power;\n\t\t\tthis._firstPT = null;\n\n\t\t\tif (this._targets) {\n\t\t\t\tl = this._targets.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tif ( this._initProps( this._targets[i], (this._propLookup[i] = {}), this._siblings[i], (op ? op[i] : null), i) ) {\n\t\t\t\t\t\tinitPlugins = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinitPlugins = this._initProps(this.target, this._propLookup, this._siblings, op, 0);\n\t\t\t}\n\n\t\t\tif (initPlugins) {\n\t\t\t\tTweenLite._onPluginEvent(\"_onInitAllProps\", this); //reorders the array in order of priority. Uses a static TweenPlugin method in order to minimize file size in TweenLite\n\t\t\t}\n\t\t\tif (op) if (!this._firstPT) if (typeof(this.target) !== \"function\") { //if all tweening properties have been overwritten, kill the tween. If the target is a function, it's probably a delayedCall so let it live.\n\t\t\t\tthis._enabled(false, false);\n\t\t\t}\n\t\t\tif (v.runBackwards) {\n\t\t\t\tpt = this._firstPT;\n\t\t\t\twhile (pt) {\n\t\t\t\t\tpt.s += pt.c;\n\t\t\t\t\tpt.c = -pt.c;\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._onUpdate = v.onUpdate;\n\t\t\tthis._initted = true;\n\t\t};\n\n\t\tp._initProps = function(target, propLookup, siblings, overwrittenProps, index) {\n\t\t\tvar p, i, initPlugins, plugin, pt, v;\n\t\t\tif (target == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (_lazyLookup[target._gsTweenID]) {\n\t\t\t\t_lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\t\t\t}\n\n\t\t\tif (!this.vars.css) if (target.style) if (target !== window && target.nodeType) if (_plugins.css) if (this.vars.autoCSS !== false) { //it's so common to use TweenLite/Max to animate the css of DOM elements, we assume that if the target is a DOM element, that's what is intended (a convenience so that users don't have to wrap things in css:{}, although we still recommend it for a slight performance boost and better specificity). Note: we cannot check \"nodeType\" on the window inside an iframe.\n\t\t\t\t_autoCSS(this.vars, target);\n\t\t\t}\n\t\t\tfor (p in this.vars) {\n\t\t\t\tv = this.vars[p];\n\t\t\t\tif (_reservedProps[p]) {\n\t\t\t\t\tif (v) if ((v instanceof Array) || (v.push && _isArray(v))) if (v.join(\"\").indexOf(\"{self}\") !== -1) {\n\t\t\t\t\t\tthis.vars[p] = v = this._swapSelfInParams(v, this);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (_plugins[p] && (plugin = new _plugins[p]())._onInitTween(target, this.vars[p], this, index)) {\n\n\t\t\t\t\t//t - target \t\t[object]\n\t\t\t\t\t//p - property \t\t[string]\n\t\t\t\t\t//s - start\t\t\t[number]\n\t\t\t\t\t//c - change\t\t[number]\n\t\t\t\t\t//f - isFunction\t[boolean]\n\t\t\t\t\t//n - name\t\t\t[string]\n\t\t\t\t\t//pg - isPlugin \t[boolean]\n\t\t\t\t\t//pr - priority\t\t[number]\n\t\t\t\t\t//m - mod           [function | 0]\n\t\t\t\t\tthis._firstPT = pt = {_next:this._firstPT, t:plugin, p:\"setRatio\", s:0, c:1, f:1, n:p, pg:1, pr:plugin._priority, m:0};\n\t\t\t\t\ti = plugin._overwriteProps.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tpropLookup[plugin._overwriteProps[i]] = this._firstPT;\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin._priority || plugin._onInitAllProps) {\n\t\t\t\t\t\tinitPlugins = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (plugin._onDisable || plugin._onEnable) {\n\t\t\t\t\t\tthis._notifyPluginsOfEnabled = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (pt._next) {\n\t\t\t\t\t\tpt._next._prev = pt;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tpropLookup[p] = _addPropTween.call(this, target, p, \"get\", v, p, 0, null, this.vars.stringFilter, index);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (overwrittenProps) if (this._kill(overwrittenProps, target)) { //another tween may have tried to overwrite properties of this tween before init() was called (like if two tweens start at the same time, the one created second will run first)\n\t\t\t\treturn this._initProps(target, propLookup, siblings, overwrittenProps, index);\n\t\t\t}\n\t\t\tif (this._overwrite > 1) if (this._firstPT) if (siblings.length > 1) if (_applyOverwrite(target, this, propLookup, this._overwrite, siblings)) {\n\t\t\t\tthis._kill(propLookup, target);\n\t\t\t\treturn this._initProps(target, propLookup, siblings, overwrittenProps, index);\n\t\t\t}\n\t\t\tif (this._firstPT) if ((this.vars.lazy !== false && this._duration) || (this.vars.lazy && !this._duration)) { //zero duration tweens don't lazy render by default; everything else does.\n\t\t\t\t_lazyLookup[target._gsTweenID] = true;\n\t\t\t}\n\t\t\treturn initPlugins;\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\tvar self = this,\n\t\t\t\tprevTime = self._time,\n\t\t\t\tduration = self._duration,\n\t\t\t\tprevRawPrevTime = self._rawPrevTime,\n\t\t\t\tisComplete, callback, pt, rawPrevTime;\n\t\t\tif (time >= duration - _tinyNum && time >= 0) { //to work around occasional floating point math artifacts.\n\t\t\t\tself._totalTime = self._time = duration;\n\t\t\t\tself.ratio = self._ease._calcEnd ? self._ease.getRatio(1) : 1;\n\t\t\t\tif (!self._reversed ) {\n\t\t\t\t\tisComplete = true;\n\t\t\t\t\tcallback = \"onComplete\";\n\t\t\t\t\tforce = (force || self._timeline.autoRemoveChildren); //otherwise, if the animation is unpaused/activated after it's already finished, it doesn't get removed from the parent timeline.\n\t\t\t\t}\n\t\t\t\tif (duration === 0) if (self._initted || !self.vars.lazy || force) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the \"playhead\" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's \"playhead\" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.\n\t\t\t\t\tif (self._startTime === self._timeline._duration) { //if a zero-duration tween is at the VERY end of a timeline and that timeline renders at its end, it will typically add a tiny bit of cushion to the render time to prevent rounding errors from getting in the way of tweens rendering their VERY end. If we then reverse() that timeline, the zero-duration tween will trigger its onReverseComplete even though technically the playhead didn't pass over it again. It's a very specific edge case we must accommodate.\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (prevRawPrevTime < 0 || (time <= 0 && time >= -_tinyNum) || (prevRawPrevTime === _tinyNum && self.data !== \"isPause\")) if (prevRawPrevTime !== time) { //note: when this.data is \"isPause\", it's a callback added by addPause() on a timeline that we should not be triggered when LEAVING its exact start time. In other words, tl.addPause(1).play(1) shouldn't pause.\n\t\t\t\t\t\tforce = true;\n\t\t\t\t\t\tif (prevRawPrevTime > _tinyNum) {\n\t\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself._rawPrevTime = rawPrevTime = (!suppressEvents || time || prevRawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t}\n\n\t\t\t} else if (time < _tinyNum) { //to work around occasional floating point math artifacts, round super small values to 0.\n\t\t\t\tself._totalTime = self._time = 0;\n\t\t\t\tself.ratio = self._ease._calcEnd ? self._ease.getRatio(0) : 0;\n\t\t\t\tif (prevTime !== 0 || (duration === 0 && prevRawPrevTime > 0)) {\n\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\tisComplete = self._reversed;\n\t\t\t\t}\n\t\t\t\tif (time > -_tinyNum) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else if (time < 0) {\n\t\t\t\t\tself._active = false;\n\t\t\t\t\tif (duration === 0) if (self._initted || !self.vars.lazy || force) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the \"playhead\" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's \"playhead\" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.\n\t\t\t\t\t\tif (prevRawPrevTime >= 0 && !(prevRawPrevTime === _tinyNum && self.data === \"isPause\")) {\n\t\t\t\t\t\t\tforce = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._rawPrevTime = rawPrevTime = (!suppressEvents || time || prevRawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!self._initted || (self._startAt && self._startAt.progress())) { //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately. Also, we check progress() because if startAt has already rendered at its end, we should force a render at its beginning. Otherwise, if you put the playhead directly on top of where a fromTo({immediateRender:false}) starts, and then move it backwards, the from() won't revert its values.\n\t\t\t\t\tforce = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself._totalTime = self._time = time;\n\n\t\t\t\tif (self._easeType) {\n\t\t\t\t\tvar r = time / duration, type = self._easeType, pow = self._easePower;\n\t\t\t\t\tif (type === 1 || (type === 3 && r >= 0.5)) {\n\t\t\t\t\t\tr = 1 - r;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 3) {\n\t\t\t\t\t\tr *= 2;\n\t\t\t\t\t}\n\t\t\t\t\tif (pow === 1) {\n\t\t\t\t\t\tr *= r;\n\t\t\t\t\t} else if (pow === 2) {\n\t\t\t\t\t\tr *= r * r;\n\t\t\t\t\t} else if (pow === 3) {\n\t\t\t\t\t\tr *= r * r * r;\n\t\t\t\t\t} else if (pow === 4) {\n\t\t\t\t\t\tr *= r * r * r * r;\n\t\t\t\t\t}\n\t\t\t\t\tself.ratio = (type === 1) ? 1 - r : (type === 2) ? r : (time / duration < 0.5) ? r / 2 : 1 - (r / 2);\n\t\t\t\t} else {\n\t\t\t\t\tself.ratio = self._ease.getRatio(time / duration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self._time === prevTime && !force) {\n\t\t\t\treturn;\n\t\t\t} else if (!self._initted) {\n\t\t\t\tself._init();\n\t\t\t\tif (!self._initted || self._gc) { //immediateRender tweens typically won't initialize until the playhead advances (_time is greater than 0) in order to ensure that overwriting occurs properly. Also, if all of the tweening properties have been overwritten (which would cause _gc to be true, as set in _init()), we shouldn't continue otherwise an onStart callback could be called for example.\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!force && self._firstPT && ((self.vars.lazy !== false && self._duration) || (self.vars.lazy && !self._duration))) {\n\t\t\t\t\tself._time = self._totalTime = prevTime;\n\t\t\t\t\tself._rawPrevTime = prevRawPrevTime;\n\t\t\t\t\t_lazyTweens.push(self);\n\t\t\t\t\tself._lazy = [time, suppressEvents];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//_ease is initially set to defaultEase, so now that init() has run, _ease is set properly and we need to recalculate the ratio. Overall this is faster than using conditional logic earlier in the method to avoid having to set ratio twice because we only init() once but renderTime() gets called VERY frequently.\n\t\t\t\tif (self._time && !isComplete) {\n\t\t\t\t\tself.ratio = self._ease.getRatio(self._time / duration);\n\t\t\t\t} else if (isComplete && self._ease._calcEnd) {\n\t\t\t\t\tself.ratio = self._ease.getRatio((self._time === 0) ? 0 : 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self._lazy !== false) { //in case a lazy render is pending, we should flush it because the new render is occurring now (imagine a lazy tween instantiating and then immediately the user calls tween.seek(tween.duration()), skipping to the end - the end render would be forced, and then if we didn't flush the lazy render, it'd fire AFTER the seek(), rendering it at the wrong time.\n\t\t\t\tself._lazy = false;\n\t\t\t}\n\t\t\tif (!self._active) if (!self._paused && self._time !== prevTime && time >= 0) {\n\t\t\t\tself._active = true;  //so that if the user renders a tween (as opposed to the timeline rendering it), the timeline is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the tween already finished but the user manually re-renders it as halfway done.\n\t\t\t}\n\t\t\tif (prevTime === 0) {\n\t\t\t\tif (self._startAt) {\n\t\t\t\t\tif (time >= 0) {\n\t\t\t\t\t\tself._startAt.render(time, true, force);\n\t\t\t\t\t} else if (!callback) {\n\t\t\t\t\t\tcallback = \"_dummyGS\"; //if no callback is defined, use a dummy value just so that the condition at the end evaluates as true because _startAt should render AFTER the normal render loop when the time is negative. We could handle this in a more intuitive way, of course, but the render loop is the MOST important thing to optimize, so this technique allows us to avoid adding extra conditional logic in a high-frequency area.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (self.vars.onStart) if (self._time !== 0 || duration === 0) if (!suppressEvents) {\n\t\t\t\t\tself._callback(\"onStart\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tpt = self._firstPT;\n\t\t\twhile (pt) {\n\t\t\t\tif (pt.f) {\n\t\t\t\t\tpt.t[pt.p](pt.c * self.ratio + pt.s);\n\t\t\t\t} else {\n\t\t\t\t\tpt.t[pt.p] = pt.c * self.ratio + pt.s;\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\n\t\t\tif (self._onUpdate) {\n\t\t\t\tif (time < 0) if (self._startAt && time !== -0.0001) { //if the tween is positioned at the VERY beginning (_startTime 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n\t\t\t\t\tself._startAt.render(time, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents) if (self._time !== prevTime || isComplete || force) {\n\t\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (callback) if (!self._gc || force) { //check _gc because there's a chance that kill() could be called in an onUpdate\n\t\t\t\tif (time < 0 && self._startAt && !self._onUpdate && time !== -0.0001) { //-0.0001 is a special value that we use when looping back to the beginning of a repeated TimelineMax, in which case we shouldn't render the _startAt values.\n\t\t\t\t\tself._startAt.render(time, true, force);\n\t\t\t\t}\n\t\t\t\tif (isComplete) {\n\t\t\t\t\tif (self._timeline.autoRemoveChildren) {\n\t\t\t\t\t\tself._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t\tself._active = false;\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents && self.vars[callback]) {\n\t\t\t\t\tself._callback(callback);\n\t\t\t\t}\n\t\t\t\tif (duration === 0 && self._rawPrevTime === _tinyNum && rawPrevTime !== _tinyNum) { //the onComplete or onReverseComplete could trigger movement of the playhead and for zero-duration tweens (which must discern direction) that land directly back on their start time, we don't want to fire again on the next render. Think of several addPause()'s in a timeline that forces the playhead to a certain spot, but what if it's already paused and another tween is tweening the \"time\" of the timeline? Each time it moves [forward] past that spot, it would move back, and since suppressEvents is true, it'd reset _rawPrevTime to _tinyNum so that when it begins again, the callback would fire (so ultimately it could bounce back and forth during that tween). Again, this is a very uncommon scenario, but possible nonetheless.\n\t\t\t\t\tself._rawPrevTime = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp._kill = function(vars, target, overwritingTween) {\n\t\t\tif (vars === \"all\") {\n\t\t\t\tvars = null;\n\t\t\t}\n\t\t\tif (vars == null) if (target == null || target === this.target) {\n\t\t\t\tthis._lazy = false;\n\t\t\t\treturn this._enabled(false, false);\n\t\t\t}\n\t\t\ttarget = (typeof(target) !== \"string\") ? (target || this._targets || this.target) : TweenLite.selector(target) || target;\n\t\t\tvar simultaneousOverwrite = (overwritingTween && this._time && overwritingTween._startTime === this._startTime && this._timeline === overwritingTween._timeline),\n\t\t\t\tfirstPT = this._firstPT,\n\t\t\t\ti, overwrittenProps, p, pt, propLookup, changed, killProps, record, killed;\n\t\t\tif ((_isArray(target) || _isSelector(target)) && typeof(target[0]) !== \"number\") {\n\t\t\t\ti = target.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (this._kill(vars, target[i], overwritingTween)) {\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._targets) {\n\t\t\t\t\ti = this._targets.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif (target === this._targets[i]) {\n\t\t\t\t\t\t\tpropLookup = this._propLookup[i] || {};\n\t\t\t\t\t\t\tthis._overwrittenProps = this._overwrittenProps || [];\n\t\t\t\t\t\t\toverwrittenProps = this._overwrittenProps[i] = vars ? this._overwrittenProps[i] || {} : \"all\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (target !== this.target) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tpropLookup = this._propLookup;\n\t\t\t\t\toverwrittenProps = this._overwrittenProps = vars ? this._overwrittenProps || {} : \"all\";\n\t\t\t\t}\n\n\t\t\t\tif (propLookup) {\n\t\t\t\t\tkillProps = vars || propLookup;\n\t\t\t\t\trecord = (vars !== overwrittenProps && overwrittenProps !== \"all\" && vars !== propLookup && (typeof(vars) !== \"object\" || !vars._tempKill)); //_tempKill is a super-secret way to delete a particular tweening property but NOT have it remembered as an official overwritten property (like in BezierPlugin)\n\t\t\t\t\tif (overwritingTween && (TweenLite.onOverwrite || this.vars.onOverwrite)) {\n\t\t\t\t\t\tfor (p in killProps) {\n\t\t\t\t\t\t\tif (propLookup[p]) {\n\t\t\t\t\t\t\t\tif (!killed) {\n\t\t\t\t\t\t\t\t\tkilled = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tkilled.push(p);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((killed || !vars) && !_onOverwrite(this, overwritingTween, target, killed)) { //if the onOverwrite returned false, that means the user wants to override the overwriting (cancel it).\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (p in killProps) {\n\t\t\t\t\t\tif ((pt = propLookup[p])) {\n\t\t\t\t\t\t\tif (simultaneousOverwrite) { //if another tween overwrites this one and they both start at exactly the same time, yet this tween has already rendered once (for example, at 0.001) because it's first in the queue, we should revert the values to where they were at 0 so that the starting values aren't contaminated on the overwriting tween.\n\t\t\t\t\t\t\t\tif (pt.f) {\n\t\t\t\t\t\t\t\t\tpt.t[pt.p](pt.s);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpt.t[pt.p] = pt.s;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (pt.pg && pt.t._kill(killProps)) {\n\t\t\t\t\t\t\t\tchanged = true; //some plugins need to be notified so they can perform cleanup tasks first\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!pt.pg || pt.t._overwriteProps.length === 0) {\n\t\t\t\t\t\t\t\tif (pt._prev) {\n\t\t\t\t\t\t\t\t\tpt._prev._next = pt._next;\n\t\t\t\t\t\t\t\t} else if (pt === this._firstPT) {\n\t\t\t\t\t\t\t\t\tthis._firstPT = pt._next;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (pt._next) {\n\t\t\t\t\t\t\t\t\tpt._next._prev = pt._prev;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpt._next = pt._prev = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdelete propLookup[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (record) {\n\t\t\t\t\t\t\toverwrittenProps[p] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!this._firstPT && this._initted && firstPT) { //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\t\t\t\t\t\tthis._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn changed;\n\t\t};\n\n\t\tp.invalidate = function() {\n\t\t\tif (this._notifyPluginsOfEnabled) {\n\t\t\t\tTweenLite._onPluginEvent(\"_onDisable\", this);\n\t\t\t}\n\t\t\tvar t = this._time;\n\t\t\tthis._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null;\n\t\t\tthis._notifyPluginsOfEnabled = this._active = this._lazy = false;\n\t\t\tthis._propLookup = (this._targets) ? {} : [];\n\t\t\tAnimation.prototype.invalidate.call(this);\n\t\t\tif (this.vars.immediateRender) {\n\t\t\t\tthis._time = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\t\t\t\tthis.render(t, false, this.vars.lazy !== false);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp._enabled = function(enabled, ignoreTimeline) {\n\t\t\tif (!_tickerActive) {\n\t\t\t\t_ticker.wake();\n\t\t\t}\n\t\t\tif (enabled && this._gc) {\n\t\t\t\tvar targets = this._targets,\n\t\t\t\t\ti;\n\t\t\t\tif (targets) {\n\t\t\t\t\ti = targets.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tthis._siblings[i] = _register(targets[i], this, true);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._siblings = _register(this.target, this, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\tAnimation.prototype._enabled.call(this, enabled, ignoreTimeline);\n\t\t\tif (this._notifyPluginsOfEnabled) if (this._firstPT) {\n\t\t\t\treturn TweenLite._onPluginEvent((enabled ? \"_onEnable\" : \"_onDisable\"), this);\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\n//----TweenLite static methods -----------------------------------------------------\n\n\t\tTweenLite.to = function(target, duration, vars) {\n\t\t\treturn new TweenLite(target, duration, vars);\n\t\t};\n\n\t\tTweenLite.from = function(target, duration, vars) {\n\t\t\tvars.runBackwards = true;\n\t\t\tvars.immediateRender = (vars.immediateRender != false);\n\t\t\treturn new TweenLite(target, duration, vars);\n\t\t};\n\n\t\tTweenLite.fromTo = function(target, duration, fromVars, toVars) {\n\t\t\ttoVars.startAt = fromVars;\n\t\t\ttoVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);\n\t\t\treturn new TweenLite(target, duration, toVars);\n\t\t};\n\n\t\tTweenLite.delayedCall = function(delay, callback, params, scope, useFrames) {\n\t\t\treturn new TweenLite(callback, 0, {delay:delay, onComplete:callback, onCompleteParams:params, callbackScope:scope, onReverseComplete:callback, onReverseCompleteParams:params, immediateRender:false, lazy:false, useFrames:useFrames, overwrite:0});\n\t\t};\n\n\t\tTweenLite.set = function(target, vars) {\n\t\t\treturn new TweenLite(target, 0, vars);\n\t\t};\n\n\t\tTweenLite.getTweensOf = function(target, onlyActive) {\n\t\t\tif (target == null) { return []; }\n\t\t\ttarget = (typeof(target) !== \"string\") ? target : TweenLite.selector(target) || target;\n\t\t\tvar i, a, j, t;\n\t\t\tif ((_isArray(target) || _isSelector(target)) && typeof(target[0]) !== \"number\") {\n\t\t\t\ti = target.length;\n\t\t\t\ta = [];\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\ta = a.concat(TweenLite.getTweensOf(target[i], onlyActive));\n\t\t\t\t}\n\t\t\t\ti = a.length;\n\t\t\t\t//now get rid of any duplicates (tweens of arrays of objects could cause duplicates)\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tt = a[i];\n\t\t\t\t\tj = i;\n\t\t\t\t\twhile (--j > -1) {\n\t\t\t\t\t\tif (t === a[j]) {\n\t\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (target._gsTweenID) {\n\t\t\t\ta = _register(target).concat();\n\t\t\t\ti = a.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (a[i]._gc || (onlyActive && !a[i].isActive())) {\n\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a || [];\n\t\t};\n\n\t\tTweenLite.killTweensOf = TweenLite.killDelayedCallsTo = function(target, onlyActive, vars) {\n\t\t\tif (typeof(onlyActive) === \"object\") {\n\t\t\t\tvars = onlyActive; //for backwards compatibility (before \"onlyActive\" parameter was inserted)\n\t\t\t\tonlyActive = false;\n\t\t\t}\n\t\t\tvar a = TweenLite.getTweensOf(target, onlyActive),\n\t\t\t\ti = a.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\ta[i]._kill(vars, target);\n\t\t\t}\n\t\t};\n\n\n\n/*\n * ----------------------------------------------------------------\n * TweenPlugin   (could easily be split out as a separate file/class, but included for ease of use (so that people don't need to include another script call before loading plugins which is easy to forget)\n * ----------------------------------------------------------------\n */\n\t\tvar TweenPlugin = _class(\"plugins.TweenPlugin\", function(props, priority) {\n\t\t\t\t\tthis._overwriteProps = (props || \"\").split(\",\");\n\t\t\t\t\tthis._propName = this._overwriteProps[0];\n\t\t\t\t\tthis._priority = priority || 0;\n\t\t\t\t\tthis._super = TweenPlugin.prototype;\n\t\t\t\t}, true);\n\n\t\tp = TweenPlugin.prototype;\n\t\tTweenPlugin.version = \"1.19.0\";\n\t\tTweenPlugin.API = 2;\n\t\tp._firstPT = null;\n\t\tp._addTween = _addPropTween;\n\t\tp.setRatio = _setRatio;\n\n\t\tp._kill = function(lookup) {\n\t\t\tvar a = this._overwriteProps,\n\t\t\t\tpt = this._firstPT,\n\t\t\t\ti;\n\t\t\tif (lookup[this._propName] != null) {\n\t\t\t\tthis._overwriteProps = [];\n\t\t\t} else {\n\t\t\t\ti = a.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (lookup[a[i]] != null) {\n\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (pt) {\n\t\t\t\tif (lookup[pt.n] != null) {\n\t\t\t\t\tif (pt._next) {\n\t\t\t\t\t\tpt._next._prev = pt._prev;\n\t\t\t\t\t}\n\t\t\t\t\tif (pt._prev) {\n\t\t\t\t\t\tpt._prev._next = pt._next;\n\t\t\t\t\t\tpt._prev = null;\n\t\t\t\t\t} else if (this._firstPT === pt) {\n\t\t\t\t\t\tthis._firstPT = pt._next;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tp._mod = p._roundProps = function(lookup) {\n\t\t\tvar pt = this._firstPT,\n\t\t\t\tval;\n\t\t\twhile (pt) {\n\t\t\t\tval = lookup[this._propName] || (pt.n != null && lookup[ pt.n.split(this._propName + \"_\").join(\"\") ]);\n\t\t\t\tif (val && typeof(val) === \"function\") { //some properties that are very plugin-specific add a prefix named after the _propName plus an underscore, so we need to ignore that extra stuff here.\n\t\t\t\t\tif (pt.f === 2) {\n\t\t\t\t\t\tpt.t._applyPT.m = val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.m = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\t\t};\n\n\t\tTweenLite._onPluginEvent = function(type, tween) {\n\t\t\tvar pt = tween._firstPT,\n\t\t\t\tchanged, pt2, first, last, next;\n\t\t\tif (type === \"_onInitAllProps\") {\n\t\t\t\t//sorts the PropTween linked list in order of priority because some plugins need to render earlier/later than others, like MotionBlurPlugin applies its effects after all x/y/alpha tweens have rendered on each frame.\n\t\t\t\twhile (pt) {\n\t\t\t\t\tnext = pt._next;\n\t\t\t\t\tpt2 = first;\n\t\t\t\t\twhile (pt2 && pt2.pr > pt.pr) {\n\t\t\t\t\t\tpt2 = pt2._next;\n\t\t\t\t\t}\n\t\t\t\t\tif ((pt._prev = pt2 ? pt2._prev : last)) {\n\t\t\t\t\t\tpt._prev._next = pt;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfirst = pt;\n\t\t\t\t\t}\n\t\t\t\t\tif ((pt._next = pt2)) {\n\t\t\t\t\t\tpt2._prev = pt;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlast = pt;\n\t\t\t\t\t}\n\t\t\t\t\tpt = next;\n\t\t\t\t}\n\t\t\t\tpt = tween._firstPT = first;\n\t\t\t}\n\t\t\twhile (pt) {\n\t\t\t\tif (pt.pg) if (typeof(pt.t[type]) === \"function\") if (pt.t[type]()) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\t\t\treturn changed;\n\t\t};\n\n\t\tTweenPlugin.activate = function(plugins) {\n\t\t\tvar i = plugins.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\tif (plugins[i].API === TweenPlugin.API) {\n\t\t\t\t\t_plugins[(new plugins[i]())._propName] = plugins[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t//provides a more concise way to define plugins that have no dependencies besides TweenPlugin and TweenLite, wrapping common boilerplate stuff into one function (added in 1.9.0). You don't NEED to use this to define a plugin - the old way still works and can be useful in certain (rare) situations.\n\t\t_gsDefine.plugin = function(config) {\n\t\t\tif (!config || !config.propName || !config.init || !config.API) { throw \"illegal plugin definition.\"; }\n\t\t\tvar propName = config.propName,\n\t\t\t\tpriority = config.priority || 0,\n\t\t\t\toverwriteProps = config.overwriteProps,\n\t\t\t\tmap = {init:\"_onInitTween\", set:\"setRatio\", kill:\"_kill\", round:\"_mod\", mod:\"_mod\", initAll:\"_onInitAllProps\"},\n\t\t\t\tPlugin = _class(\"plugins.\" + propName.charAt(0).toUpperCase() + propName.substr(1) + \"Plugin\",\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tTweenPlugin.call(this, propName, priority);\n\t\t\t\t\t\tthis._overwriteProps = overwriteProps || [];\n\t\t\t\t\t}, (config.global === true)),\n\t\t\t\tp = Plugin.prototype = new TweenPlugin(propName),\n\t\t\t\tprop;\n\t\t\tp.constructor = Plugin;\n\t\t\tPlugin.API = config.API;\n\t\t\tfor (prop in map) {\n\t\t\t\tif (typeof(config[prop]) === \"function\") {\n\t\t\t\t\tp[map[prop]] = config[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t\tPlugin.version = config.version;\n\t\t\tTweenPlugin.activate([Plugin]);\n\t\t\treturn Plugin;\n\t\t};\n\n\n\t\t//now run through all the dependencies discovered and if any are missing, log that to the console as a warning. This is why it's best to have TweenLite load last - it can check all the dependencies for you.\n\t\ta = window._gsQueue;\n\t\tif (a) {\n\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\ta[i]();\n\t\t\t}\n\t\t\tfor (p in _defLookup) {\n\t\t\t\tif (!_defLookup[p].func) {\n\t\t\t\t\twindow.console.log(\"GSAP encountered missing dependency: \" + p);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_tickerActive = false; //ensures that the first official animation forces a ticker.tick() to update the time when it is instantiated\n\n\t\treturn TweenLite;\n\n})(_gsScope, \"TweenLite\");\n\nexport var globals = _gsScope.GreenSockGlobals;\nvar nonGlobals = globals.com.greensock;\nexport { TweenLite as default };\nexport var SimpleTimeline = nonGlobals.core.SimpleTimeline;\nexport var Animation = nonGlobals.core.Animation;\nexport var Ease = globals.Ease;\nexport var Linear = globals.Linear;\nexport var Power0 = Linear;\nexport var Power1 = globals.Power1;\nexport var Power2 = globals.Power2;\nexport var Power3 = globals.Power3;\nexport var Power4 = globals.Power4;\nexport var TweenPlugin = globals.TweenPlugin;\nexport var EventDispatcher = nonGlobals.events.EventDispatcher;\n","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\n\nimport TweenLite, { _gsScope, globals, Animation, SimpleTimeline, Ease, Power0, Power1, Power2, Power3, Power4, Linear  } from \"./TweenLite.js\";\n\n\n_gsScope._gsDefine(\"TweenMax\", [\"core.Animation\",\"core.SimpleTimeline\",\"TweenLite\"], function() {\n\n\t\tvar _slice = function(a) { //don't use [].slice because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\n\t\t\t\tvar b = [],\n\t\t\t\t\tl = a.length,\n\t\t\t\t\ti;\n\t\t\t\tfor (i = 0; i !== l; b.push(a[i++]));\n\t\t\t\treturn b;\n\t\t\t},\n\t\t\t_applyCycle = function(vars, targets, i) {\n\t\t\t\tvar alt = vars.cycle,\n\t\t\t\t\tp, val;\n\t\t\t\tfor (p in alt) {\n\t\t\t\t\tval = alt[p];\n\t\t\t\t\tvars[p] = (typeof(val) === \"function\") ? val(i, targets[i], targets) : val[i % val.length];\n\t\t\t\t}\n\t\t\t\tdelete vars.cycle;\n\t\t\t},\n\t\t\t//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\n\t\t\t_distribute = function(v) {\n\t\t\t\tif (typeof(v) === \"function\") {\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\tvar vars = (typeof(v) === \"object\") ? v : {each:v}, //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n\t\t\t\t\tease = vars.ease,\n\t\t\t\t\tfrom = vars.from || 0,\n\t\t\t\t\tbase = vars.base || 0,\n\t\t\t\t\tcache = {},\n\t\t\t\t\tisFromKeyword = isNaN(from),\n\t\t\t\t\taxis = vars.axis,\n\t\t\t\t\tratio = {center:0.5, end:1}[from] || 0;\n\t\t\t\treturn function(i, target, a) {\n\t\t\t\t\tvar l = (a || vars).length,\n\t\t\t\t\t\tdistances = cache[l],\n\t\t\t\t\t\toriginX, originY, x, y, d, j, max, min, wrap;\n\t\t\t\t\tif (!distances) {\n\t\t\t\t\t\twrap = (vars.grid === \"auto\") ? 0 : (vars.grid || [Infinity])[0];\n\t\t\t\t\t\tif (!wrap) {\n\t\t\t\t\t\t\tmax = -Infinity;\n\t\t\t\t\t\t\twhile (max < (max = a[wrap++].getBoundingClientRect().left) && wrap < l) { }\n\t\t\t\t\t\t\twrap--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdistances = cache[l] = [];\n\t\t\t\t\t\toriginX = isFromKeyword ? (Math.min(wrap, l) * ratio) - 0.5 : from % wrap;\n\t\t\t\t\t\toriginY = isFromKeyword ? l * ratio / wrap - 0.5 : (from / wrap) | 0;\n\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\tmin = Infinity;\n\t\t\t\t\t\tfor (j = 0; j < l; j++) {\n\t\t\t\t\t\t\tx = (j % wrap) - originX;\n\t\t\t\t\t\t\ty = originY - ((j / wrap) | 0);\n\t\t\t\t\t\t\tdistances[j] = d = !axis ? Math.sqrt(x * x + y * y) : Math.abs((axis === \"y\") ? y : x);\n\t\t\t\t\t\t\tif (d > max) {\n\t\t\t\t\t\t\t\tmax = d;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (d < min) {\n\t\t\t\t\t\t\t\tmin = d;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdistances.max = max - min;\n\t\t\t\t\t\tdistances.min = min;\n\t\t\t\t\t\tdistances.v = l = vars.amount || (vars.each * (wrap > l ? l - 1 : !axis ? Math.max(wrap, l / wrap) : axis === \"y\" ? l / wrap : wrap)) || 0;\n\t\t\t\t\t\tdistances.b = (l < 0) ? base - l : base;\n\t\t\t\t\t}\n\t\t\t\t\tl = (distances[i] - distances.min) / distances.max;\n\t\t\t\t\treturn distances.b + (ease ? ease.getRatio(l) : l) * distances.v;\n\t\t\t\t};\n\t\t\t},\n\t\t\tTweenMax = function(target, duration, vars) {\n\t\t\t\tTweenLite.call(this, target, duration, vars);\n\t\t\t\tthis._cycle = 0;\n\t\t\t\tthis._yoyo = (this.vars.yoyo === true || !!this.vars.yoyoEase);\n\t\t\t\tthis._repeat = this.vars.repeat || 0;\n\t\t\t\tthis._repeatDelay = this.vars.repeatDelay || 0;\n\t\t\t\tif (this._repeat) {\n\t\t\t\t\tthis._uncache(true); //ensures that if there is any repeat, the totalDuration will get recalculated to accurately report it.\n\t\t\t\t}\n\t\t\t\tthis.render = TweenMax.prototype.render; //speed optimization (avoid prototype lookup on this \"hot\" method)\n\t\t\t},\n\t\t\t_tinyNum = 0.00000001,\n\t\t\tTweenLiteInternals = TweenLite._internals,\n\t\t\t_isSelector = TweenLiteInternals.isSelector,\n\t\t\t_isArray = TweenLiteInternals.isArray,\n\t\t\tp = TweenMax.prototype = TweenLite.to({}, 0.1, {}),\n\t\t\t_blankArray = [];\n\n\t\tTweenMax.version = \"2.1.3\";\n\t\tp.constructor = TweenMax;\n\t\tp.kill()._gc = false;\n\t\tTweenMax.killTweensOf = TweenMax.killDelayedCallsTo = TweenLite.killTweensOf;\n\t\tTweenMax.getTweensOf = TweenLite.getTweensOf;\n\t\tTweenMax.lagSmoothing = TweenLite.lagSmoothing;\n\t\tTweenMax.ticker = TweenLite.ticker;\n\t\tTweenMax.render = TweenLite.render;\n\t\tTweenMax.distribute = _distribute;\n\n\t\tp.invalidate = function() {\n\t\t\tthis._yoyo = (this.vars.yoyo === true || !!this.vars.yoyoEase);\n\t\t\tthis._repeat = this.vars.repeat || 0;\n\t\t\tthis._repeatDelay = this.vars.repeatDelay || 0;\n\t\t\tthis._yoyoEase = null;\n\t\t\tthis._uncache(true);\n\t\t\treturn TweenLite.prototype.invalidate.call(this);\n\t\t};\n\n\t\tp.updateTo = function(vars, resetDuration) {\n\t\t\tvar self = this,\n\t\t\t\tcurRatio = self.ratio,\n\t\t\t\timmediate = self.vars.immediateRender || vars.immediateRender,\n\t\t\t\tp;\n\t\t\tif (resetDuration && self._startTime < self._timeline._time) {\n\t\t\t\tself._startTime = self._timeline._time;\n\t\t\t\tself._uncache(false);\n\t\t\t\tif (self._gc) {\n\t\t\t\t\tself._enabled(true, false);\n\t\t\t\t} else {\n\t\t\t\t\tself._timeline.insert(self, self._startTime - self._delay); //ensures that any necessary re-sequencing of Animations in the timeline occurs to make sure the rendering order is correct.\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (p in vars) {\n\t\t\t\tself.vars[p] = vars[p];\n\t\t\t}\n\t\t\tif (self._initted || immediate) {\n\t\t\t\tif (resetDuration) {\n\t\t\t\t\tself._initted = false;\n\t\t\t\t\tif (immediate) {\n\t\t\t\t\t\tself.render(0, true, true);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (self._gc) {\n\t\t\t\t\t\tself._enabled(true, false);\n\t\t\t\t\t}\n\t\t\t\t\tif (self._notifyPluginsOfEnabled && self._firstPT) {\n\t\t\t\t\t\tTweenLite._onPluginEvent(\"_onDisable\", self); //in case a plugin like MotionBlur must perform some cleanup tasks\n\t\t\t\t\t}\n\t\t\t\t\tif (self._time / self._duration > 0.998) { //if the tween has finished (or come extremely close to finishing), we just need to rewind it to 0 and then render it again at the end which forces it to re-initialize (parsing the new vars). We allow tweens that are close to finishing (but haven't quite finished) to work this way too because otherwise, the values are so small when determining where to project the starting values that binary math issues creep in and can make the tween appear to render incorrectly when run backwards.\n\t\t\t\t\t\tvar prevTime = self._totalTime;\n\t\t\t\t\t\tself.render(0, true, false);\n\t\t\t\t\t\tself._initted = false;\n\t\t\t\t\t\tself.render(prevTime, true, false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._initted = false;\n\t\t\t\t\t\tself._init();\n\t\t\t\t\t\tif (self._time > 0 || immediate) {\n\t\t\t\t\t\t\tvar inv = 1 / (1 - curRatio),\n\t\t\t\t\t\t\t\tpt = self._firstPT, endValue;\n\t\t\t\t\t\t\twhile (pt) {\n\t\t\t\t\t\t\t\tendValue = pt.s + pt.c;\n\t\t\t\t\t\t\t\tpt.c *= inv;\n\t\t\t\t\t\t\t\tpt.s = endValue - pt.c;\n\t\t\t\t\t\t\t\tpt = pt._next;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn self;\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\tif (!this._initted) if (this._duration === 0 && this.vars.repeat) { //zero duration tweens that render immediately have render() called from TweenLite's constructor, before TweenMax's constructor has finished setting _repeat, _repeatDelay, and _yoyo which are critical in determining totalDuration() so we need to call invalidate() which is a low-kb way to get those set properly.\n\t\t\t\tthis.invalidate();\n\t\t\t}\n\t\t\tvar self = this,\n\t\t\t\ttotalDur = (!self._dirty) ? self._totalDuration : self.totalDuration(),\n\t\t\t\tprevTime = self._time,\n\t\t\t\tprevTotalTime = self._totalTime,\n\t\t\t\tprevCycle = self._cycle,\n\t\t\t\tduration = self._duration,\n\t\t\t\tprevRawPrevTime = self._rawPrevTime,\n\t\t\t\tisComplete, callback, pt, cycleDuration, r, type, pow, rawPrevTime, yoyoEase;\n\t\t\tif (time >= totalDur - _tinyNum && time >= 0) { //to work around occasional floating point math artifacts.\n\t\t\t\tself._totalTime = totalDur;\n\t\t\t\tself._cycle = self._repeat;\n\t\t\t\tif (self._yoyo && (self._cycle & 1) !== 0) {\n\t\t\t\t\tself._time = 0;\n\t\t\t\t\tself.ratio = self._ease._calcEnd ? self._ease.getRatio(0) : 0;\n\t\t\t\t} else {\n\t\t\t\t\tself._time = duration;\n\t\t\t\t\tself.ratio = self._ease._calcEnd ? self._ease.getRatio(1) : 1;\n\t\t\t\t}\n\t\t\t\tif (!self._reversed) {\n\t\t\t\t\tisComplete = true;\n\t\t\t\t\tcallback = \"onComplete\";\n\t\t\t\t\tforce = (force || self._timeline.autoRemoveChildren); //otherwise, if the animation is unpaused/activated after it's already finished, it doesn't get removed from the parent timeline.\n\t\t\t\t}\n\t\t\t\tif (duration === 0) if (self._initted || !self.vars.lazy || force) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the \"playhead\" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's \"playhead\" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.\n\t\t\t\t\tif (self._startTime === self._timeline._duration) { //if a zero-duration tween is at the VERY end of a timeline and that timeline renders at its end, it will typically add a tiny bit of cushion to the render time to prevent rounding errors from getting in the way of tweens rendering their VERY end. If we then reverse() that timeline, the zero-duration tween will trigger its onReverseComplete even though technically the playhead didn't pass over it again. It's a very specific edge case we must accommodate.\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (prevRawPrevTime < 0 || (time <= 0 && time >= -_tinyNum) || (prevRawPrevTime === _tinyNum && self.data !== \"isPause\")) if (prevRawPrevTime !== time) { //note: when this.data is \"isPause\", it's a callback added by addPause() on a timeline that we should not be triggered when LEAVING its exact start time. In other words, tl.addPause(1).play(1) shouldn't pause.\n\t\t\t\t\t\tforce = true;\n\t\t\t\t\t\tif (prevRawPrevTime > _tinyNum) {\n\t\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself._rawPrevTime = rawPrevTime = (!suppressEvents || time || prevRawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t}\n\n\t\t\t} else if (time < _tinyNum) { //to work around occasional floating point math artifacts, round super small values to 0.\n\t\t\t\tself._totalTime = self._time = self._cycle = 0;\n\t\t\t\tself.ratio = self._ease._calcEnd ? self._ease.getRatio(0) : 0;\n\t\t\t\tif (prevTotalTime !== 0 || (duration === 0 && prevRawPrevTime > 0)) {\n\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\tisComplete = self._reversed;\n\t\t\t\t}\n\t\t\t\tif (time > -_tinyNum) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else if (time < 0) {\n\t\t\t\t\tself._active = false;\n\t\t\t\t\tif (duration === 0) if (self._initted || !self.vars.lazy || force) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the \"playhead\" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's \"playhead\" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.\n\t\t\t\t\t\tif (prevRawPrevTime >= 0) {\n\t\t\t\t\t\t\tforce = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._rawPrevTime = rawPrevTime = (!suppressEvents || time || prevRawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!self._initted) { //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n\t\t\t\t\tforce = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself._totalTime = self._time = time;\n\t\t\t\tif (self._repeat !== 0) {\n\t\t\t\t\tcycleDuration = duration + self._repeatDelay;\n\t\t\t\t\tself._cycle = (self._totalTime / cycleDuration) >> 0; //originally _totalTime % cycleDuration but floating point errors caused problems, so I normalized it. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\t\t\t\t\tif (self._cycle !== 0) if (self._cycle === self._totalTime / cycleDuration && prevTotalTime <= time) {\n\t\t\t\t\t\tself._cycle--; //otherwise when rendered exactly at the end time, it will act as though it is repeating (at the beginning)\n\t\t\t\t\t}\n\t\t\t\t\tself._time = self._totalTime - (self._cycle * cycleDuration);\n\t\t\t\t\tif (self._yoyo) if ((self._cycle & 1) !== 0) {\n\t\t\t\t\t\tself._time = duration - self._time;\n\t\t\t\t\t\tyoyoEase = self._yoyoEase || self.vars.yoyoEase; //note: we don't set this._yoyoEase in _init() like we do other properties because it's TweenMax-specific and doing it here allows us to optimize performance (most tweens don't have a yoyoEase). Note that we also must skip the this.ratio calculation further down right after we _init() in this function, because we're doing it here.\n\t\t\t\t\t\tif (yoyoEase) {\n\t\t\t\t\t\t\tif (!self._yoyoEase) {\n\t\t\t\t\t\t\t\tif (yoyoEase === true && !self._initted) { //if it's not initted and yoyoEase is true, this._ease won't have been populated yet so we must discern it here.\n\t\t\t\t\t\t\t\t\tyoyoEase = self.vars.ease;\n\t\t\t\t\t\t\t\t\tself._yoyoEase = yoyoEase = !yoyoEase ? TweenLite.defaultEase : (yoyoEase instanceof Ease) ? yoyoEase : (typeof(yoyoEase) === \"function\") ? new Ease(yoyoEase, self.vars.easeParams) : Ease.map[yoyoEase] || TweenLite.defaultEase;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself._yoyoEase = yoyoEase = (yoyoEase === true) ? self._ease : (yoyoEase instanceof Ease) ? yoyoEase : Ease.map[yoyoEase];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.ratio = yoyoEase ? 1 - yoyoEase.getRatio((duration - self._time) / duration) : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self._time > duration) {\n\t\t\t\t\t\tself._time = duration;\n\t\t\t\t\t} else if (self._time < 0) {\n\t\t\t\t\t\tself._time = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (self._easeType && !yoyoEase) {\n\t\t\t\t\tr = self._time / duration;\n\t\t\t\t\ttype = self._easeType;\n\t\t\t\t\tpow = self._easePower;\n\t\t\t\t\tif (type === 1 || (type === 3 && r >= 0.5)) {\n\t\t\t\t\t\tr = 1 - r;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 3) {\n\t\t\t\t\t\tr *= 2;\n\t\t\t\t\t}\n\t\t\t\t\tif (pow === 1) {\n\t\t\t\t\t\tr *= r;\n\t\t\t\t\t} else if (pow === 2) {\n\t\t\t\t\t\tr *= r * r;\n\t\t\t\t\t} else if (pow === 3) {\n\t\t\t\t\t\tr *= r * r * r;\n\t\t\t\t\t} else if (pow === 4) {\n\t\t\t\t\t\tr *= r * r * r * r;\n\t\t\t\t\t}\n\t\t\t\t\tself.ratio = (type === 1) ? 1 - r : (type === 2) ? r : (self._time / duration < 0.5) ? r / 2 : 1 - (r / 2);\n\n\t\t\t\t} else if (!yoyoEase) {\n\t\t\t\t\tself.ratio = self._ease.getRatio(self._time / duration);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (prevTime === self._time && !force && prevCycle === self._cycle) {\n\t\t\t\tif (prevTotalTime !== self._totalTime) if (self._onUpdate) if (!suppressEvents) { //so that onUpdate fires even during the repeatDelay - as long as the totalTime changed, we should trigger onUpdate.\n\t\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t} else if (!self._initted) {\n\t\t\t\tself._init();\n\t\t\t\tif (!self._initted || self._gc) { //immediateRender tweens typically won't initialize until the playhead advances (_time is greater than 0) in order to ensure that overwriting occurs properly. Also, if all of the tweening properties have been overwritten (which would cause _gc to be true, as set in _init()), we shouldn't continue otherwise an onStart callback could be called for example.\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!force && self._firstPT && ((self.vars.lazy !== false && self._duration) || (self.vars.lazy && !self._duration))) { //we stick it in the queue for rendering at the very end of the tick - this is a performance optimization because browsers invalidate styles and force a recalculation if you read, write, and then read style data (so it's better to read/read/read/write/write/write than read/write/read/write/read/write). The down side, of course, is that usually you WANT things to render immediately because you may have code running right after that which depends on the change. Like imagine running TweenLite.set(...) and then immediately after that, creating a nother tween that animates the same property to another value; the starting values of that 2nd tween wouldn't be accurate if lazy is true.\n\t\t\t\t\tself._time = prevTime;\n\t\t\t\t\tself._totalTime = prevTotalTime;\n\t\t\t\t\tself._rawPrevTime = prevRawPrevTime;\n\t\t\t\t\tself._cycle = prevCycle;\n\t\t\t\t\tTweenLiteInternals.lazyTweens.push(self);\n\t\t\t\t\tself._lazy = [time, suppressEvents];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//_ease is initially set to defaultEase, so now that init() has run, _ease is set properly and we need to recalculate the ratio. Overall this is faster than using conditional logic earlier in the method to avoid having to set ratio twice because we only init() once but renderTime() gets called VERY frequently.\n\t\t\t\tif (self._time && !isComplete && !yoyoEase) {\n\t\t\t\t\tself.ratio = self._ease.getRatio(self._time / duration);\n\t\t\t\t} else if (isComplete && this._ease._calcEnd && !yoyoEase) {\n\t\t\t\t\tself.ratio = self._ease.getRatio((self._time === 0) ? 0 : 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self._lazy !== false) {\n\t\t\t\tself._lazy = false;\n\t\t\t}\n\n\t\t\tif (!self._active) if (!self._paused && self._time !== prevTime && time >= 0) {\n\t\t\t\tself._active = true; //so that if the user renders a tween (as opposed to the timeline rendering it), the timeline is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the tween already finished but the user manually re-renders it as halfway done.\n\t\t\t}\n\t\t\tif (prevTotalTime === 0) {\n\t\t\t\tif (self._initted === 2 && time > 0) {\n\t\t\t\t\tself._init(); //will just apply overwriting since _initted of (2) means it was a from() tween that had immediateRender:true\n\t\t\t\t}\n\t\t\t\tif (self._startAt) {\n\t\t\t\t\tif (time >= 0) {\n\t\t\t\t\t\tself._startAt.render(time, true, force);\n\t\t\t\t\t} else if (!callback) {\n\t\t\t\t\t\tcallback = \"_dummyGS\"; //if no callback is defined, use a dummy value just so that the condition at the end evaluates as true because _startAt should render AFTER the normal render loop when the time is negative. We could handle this in a more intuitive way, of course, but the render loop is the MOST important thing to optimize, so this technique allows us to avoid adding extra conditional logic in a high-frequency area.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (self.vars.onStart) if (self._totalTime !== 0 || duration === 0) if (!suppressEvents) {\n\t\t\t\t\tself._callback(\"onStart\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpt = self._firstPT;\n\t\t\twhile (pt) {\n\t\t\t\tif (pt.f) {\n\t\t\t\t\tpt.t[pt.p](pt.c * self.ratio + pt.s);\n\t\t\t\t} else {\n\t\t\t\t\tpt.t[pt.p] = pt.c * self.ratio + pt.s;\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\n\t\t\tif (self._onUpdate) {\n\t\t\t\tif (time < 0) if (self._startAt && self._startTime) { //if the tween is positioned at the VERY beginning (_startTime 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n\t\t\t\t\tself._startAt.render(time, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents) if (self._totalTime !== prevTotalTime || callback) {\n\t\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self._cycle !== prevCycle) if (!suppressEvents) if (!self._gc) if (self.vars.onRepeat) {\n\t\t\t\tself._callback(\"onRepeat\");\n\t\t\t}\n\t\t\tif (callback) if (!self._gc || force) { //check gc because there's a chance that kill() could be called in an onUpdate\n\t\t\t\tif (time < 0 && self._startAt && !self._onUpdate && self._startTime) { //if the tween is positioned at the VERY beginning (_startTime 0) of its parent timeline, it's illegal for the playhead to go back further, so we should not render the recorded startAt values.\n\t\t\t\t\tself._startAt.render(time, true, force);\n\t\t\t\t}\n\t\t\t\tif (isComplete) {\n\t\t\t\t\tif (self._timeline.autoRemoveChildren) {\n\t\t\t\t\t\tself._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t\tself._active = false;\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents && self.vars[callback]) {\n\t\t\t\t\tself._callback(callback);\n\t\t\t\t}\n\t\t\t\tif (duration === 0 && self._rawPrevTime === _tinyNum && rawPrevTime !== _tinyNum) { //the onComplete or onReverseComplete could trigger movement of the playhead and for zero-duration tweens (which must discern direction) that land directly back on their start time, we don't want to fire again on the next render. Think of several addPause()'s in a timeline that forces the playhead to a certain spot, but what if it's already paused and another tween is tweening the \"time\" of the timeline? Each time it moves [forward] past that spot, it would move back, and since suppressEvents is true, it'd reset _rawPrevTime to _tinyNum so that when it begins again, the callback would fire (so ultimately it could bounce back and forth during that tween). Again, this is a very uncommon scenario, but possible nonetheless.\n\t\t\t\t\tself._rawPrevTime = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n//---- STATIC FUNCTIONS -----------------------------------------------------------------------------------------------------------\n\n\t\tTweenMax.to = function(target, duration, vars) {\n\t\t\treturn new TweenMax(target, duration, vars);\n\t\t};\n\n\t\tTweenMax.from = function(target, duration, vars) {\n\t\t\tvars.runBackwards = true;\n\t\t\tvars.immediateRender = (vars.immediateRender != false);\n\t\t\treturn new TweenMax(target, duration, vars);\n\t\t};\n\n\t\tTweenMax.fromTo = function(target, duration, fromVars, toVars) {\n\t\t\ttoVars.startAt = fromVars;\n\t\t\ttoVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);\n\t\t\treturn new TweenMax(target, duration, toVars);\n\t\t};\n\n\t\tTweenMax.staggerTo = TweenMax.allTo = function(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\tvar a = [],\n\t\t\t\tstaggerFunc = _distribute(vars.stagger || stagger),\n\t\t\t\tcycle = vars.cycle,\n\t\t\t\tfromCycle = (vars.startAt || _blankArray).cycle,\n\t\t\t\tl, copy, i, p;\n\t\t\tif (!_isArray(targets)) {\n\t\t\t\tif (typeof(targets) === \"string\") {\n\t\t\t\t\ttargets = TweenLite.selector(targets) || targets;\n\t\t\t\t}\n\t\t\t\tif (_isSelector(targets)) {\n\t\t\t\t\ttargets = _slice(targets);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttargets = targets || [];\n\t\t\tl = targets.length - 1;\n\t\t\tfor (i = 0; i <= l; i++) {\n\t\t\t\tcopy = {};\n\t\t\t\tfor (p in vars) {\n\t\t\t\t\tcopy[p] = vars[p];\n\t\t\t\t}\n\t\t\t\tif (cycle) {\n\t\t\t\t\t_applyCycle(copy, targets, i);\n\t\t\t\t\tif (copy.duration != null) {\n\t\t\t\t\t\tduration = copy.duration;\n\t\t\t\t\t\tdelete copy.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (fromCycle) {\n\t\t\t\t\tfromCycle = copy.startAt = {};\n\t\t\t\t\tfor (p in vars.startAt) {\n\t\t\t\t\t\tfromCycle[p] = vars.startAt[p];\n\t\t\t\t\t}\n\t\t\t\t\t_applyCycle(copy.startAt, targets, i);\n\t\t\t\t}\n\t\t\t\tcopy.delay = staggerFunc(i, targets[i], targets) + (copy.delay || 0);\n\t\t\t\tif (i === l && onCompleteAll) {\n\t\t\t\t\tcopy.onComplete = function() {\n\t\t\t\t\t\tif (vars.onComplete) {\n\t\t\t\t\t\t\tvars.onComplete.apply(vars.onCompleteScope || this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonCompleteAll.apply(onCompleteAllScope || vars.callbackScope || this, onCompleteAllParams || _blankArray);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\ta[i] = new TweenMax(targets[i], duration, copy);\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\n\t\tTweenMax.staggerFrom = TweenMax.allFrom = function(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\tvars.runBackwards = true;\n\t\t\tvars.immediateRender = (vars.immediateRender != false);\n\t\t\treturn TweenMax.staggerTo(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\n\t\t};\n\n\t\tTweenMax.staggerFromTo = TweenMax.allFromTo = function(targets, duration, fromVars, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\ttoVars.startAt = fromVars;\n\t\t\ttoVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);\n\t\t\treturn TweenMax.staggerTo(targets, duration, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\n\t\t};\n\n\t\tTweenMax.delayedCall = function(delay, callback, params, scope, useFrames) {\n\t\t\treturn new TweenMax(callback, 0, {delay:delay, onComplete:callback, onCompleteParams:params, callbackScope:scope, onReverseComplete:callback, onReverseCompleteParams:params, immediateRender:false, useFrames:useFrames, overwrite:0});\n\t\t};\n\n\t\tTweenMax.set = function(target, vars) {\n\t\t\treturn new TweenMax(target, 0, vars);\n\t\t};\n\n\t\tTweenMax.isTweening = function(target) {\n\t\t\treturn (TweenLite.getTweensOf(target, true).length > 0);\n\t\t};\n\n\t\tvar _getChildrenOf = function(timeline, includeTimelines) {\n\t\t\t\tvar a = [],\n\t\t\t\t\tcnt = 0,\n\t\t\t\t\ttween = timeline._first;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tif (tween instanceof TweenLite) {\n\t\t\t\t\t\ta[cnt++] = tween;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (includeTimelines) {\n\t\t\t\t\t\t\ta[cnt++] = tween;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta = a.concat(_getChildrenOf(tween, includeTimelines));\n\t\t\t\t\t\tcnt = a.length;\n\t\t\t\t\t}\n\t\t\t\t\ttween = tween._next;\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t},\n\t\t\tgetAllTweens = TweenMax.getAllTweens = function(includeTimelines) {\n\t\t\t\treturn _getChildrenOf(Animation._rootTimeline, includeTimelines).concat( _getChildrenOf(Animation._rootFramesTimeline, includeTimelines) );\n\t\t\t};\n\n\t\tTweenMax.killAll = function(complete, tweens, delayedCalls, timelines) {\n\t\t\tif (tweens == null) {\n\t\t\t\ttweens = true;\n\t\t\t}\n\t\t\tif (delayedCalls == null) {\n\t\t\t\tdelayedCalls = true;\n\t\t\t}\n\t\t\tvar a = getAllTweens((timelines != false)),\n\t\t\t\tl = a.length,\n\t\t\t\tallTrue = (tweens && delayedCalls && timelines),\n\t\t\t\tisDC, tween, i;\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\ttween = a[i];\n\t\t\t\tif (allTrue || (tween instanceof SimpleTimeline) || ((isDC = (tween.target === tween.vars.onComplete)) && delayedCalls) || (tweens && !isDC)) {\n\t\t\t\t\tif (complete) {\n\t\t\t\t\t\ttween.totalTime(tween._reversed ? 0 : tween.totalDuration());\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttween._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tTweenMax.killChildTweensOf = function(parent, complete) {\n\t\t\tif (parent == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tl = TweenLiteInternals.tweenLookup,\n\t\t\t\ta, curParent, p, i, l;\n\t\t\tif (typeof(parent) === \"string\") {\n\t\t\t\tparent = TweenLite.selector(parent) || parent;\n\t\t\t}\n\t\t\tif (_isSelector(parent)) {\n\t\t\t\tparent = _slice(parent);\n\t\t\t}\n\t\t\tif (_isArray(parent)) {\n\t\t\t\ti = parent.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tTweenMax.killChildTweensOf(parent[i], complete);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ta = [];\n\t\t\tfor (p in tl) {\n\t\t\t\tcurParent = tl[p].target.parentNode;\n\t\t\t\twhile (curParent) {\n\t\t\t\t\tif (curParent === parent) {\n\t\t\t\t\t\ta = a.concat(tl[p].tweens);\n\t\t\t\t\t}\n\t\t\t\t\tcurParent = curParent.parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\tl = a.length;\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\tif (complete) {\n\t\t\t\t\ta[i].totalTime(a[i].totalDuration());\n\t\t\t\t}\n\t\t\t\ta[i]._enabled(false, false);\n\t\t\t}\n\t\t};\n\n\t\tvar _changePause = function(pause, tweens, delayedCalls, timelines) {\n\t\t\ttweens = (tweens !== false);\n\t\t\tdelayedCalls = (delayedCalls !== false);\n\t\t\ttimelines = (timelines !== false);\n\t\t\tvar a = getAllTweens(timelines),\n\t\t\t\tallTrue = (tweens && delayedCalls && timelines),\n\t\t\t\ti = a.length,\n\t\t\t\tisDC, tween;\n\t\t\twhile (--i > -1) {\n\t\t\t\ttween = a[i];\n\t\t\t\tif (allTrue || (tween instanceof SimpleTimeline) || ((isDC = (tween.target === tween.vars.onComplete)) && delayedCalls) || (tweens && !isDC)) {\n\t\t\t\t\ttween.paused(pause);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tTweenMax.pauseAll = function(tweens, delayedCalls, timelines) {\n\t\t\t_changePause(true, tweens, delayedCalls, timelines);\n\t\t};\n\n\t\tTweenMax.resumeAll = function(tweens, delayedCalls, timelines) {\n\t\t\t_changePause(false, tweens, delayedCalls, timelines);\n\t\t};\n\n\t\tTweenMax.globalTimeScale = function(value) {\n\t\t\tvar tl = Animation._rootTimeline,\n\t\t\t\tt = TweenLite.ticker.time;\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn tl._timeScale;\n\t\t\t}\n\t\t\tvalue = value || _tinyNum; //can't allow zero because it'll throw the math off\n\t\t\ttl._startTime = t - ((t - tl._startTime) * tl._timeScale / value);\n\t\t\ttl = Animation._rootFramesTimeline;\n\t\t\tt = TweenLite.ticker.frame;\n\t\t\ttl._startTime = t - ((t - tl._startTime) * tl._timeScale / value);\n\t\t\ttl._timeScale = Animation._rootTimeline._timeScale = value;\n\t\t\treturn value;\n\t\t};\n\n\n//---- GETTERS / SETTERS ----------------------------------------------------------------------------------------------------------\n\n\t\tp.progress = function(value, suppressEvents) {\n\t\t\treturn (!arguments.length) ? (this.duration() ? this._time / this._duration : this.ratio) : this.totalTime( this.duration() * ((this._yoyo && (this._cycle & 1) !== 0) ? 1 - value : value) + (this._cycle * (this._duration + this._repeatDelay)), suppressEvents);\n\t\t};\n\n\t\tp.totalProgress = function(value, suppressEvents) {\n\t\t\treturn (!arguments.length) ? this._totalTime / this.totalDuration() : this.totalTime( this.totalDuration() * value, suppressEvents);\n\t\t};\n\n\t\tp.time = function(value, suppressEvents) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._time;\n\t\t\t}\n\t\t\tif (this._dirty) {\n\t\t\t\tthis.totalDuration();\n\t\t\t}\n\t\t\tvar duration = this._duration,\n\t\t\t\tcycle = this._cycle,\n\t\t\t\tcycleDur = cycle * (duration + this._repeatDelay);\n\t\t\tif (value > duration) {\n\t\t\t\tvalue = duration;\n\t\t\t}\n\t\t\treturn this.totalTime((this._yoyo && (cycle & 1)) ? duration - value + cycleDur : this._repeat ? value + cycleDur : value, suppressEvents);\n\t\t};\n\n\t\tp.duration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._duration; //don't set _dirty = false because there could be repeats that haven't been factored into the _totalDuration yet. Otherwise, if you create a repeated TweenMax and then immediately check its duration(), it would cache the value and the totalDuration would not be correct, thus repeats wouldn't take effect.\n\t\t\t}\n\t\t\treturn Animation.prototype.duration.call(this, value);\n\t\t};\n\n\t\tp.totalDuration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (this._dirty) {\n\t\t\t\t\t//instead of Infinity, we use 999999999999 so that we can accommodate reverses\n\t\t\t\t\tthis._totalDuration = (this._repeat === -1) ? 999999999999 : this._duration * (this._repeat + 1) + (this._repeatDelay * this._repeat);\n\t\t\t\t\tthis._dirty = false;\n\t\t\t\t}\n\t\t\t\treturn this._totalDuration;\n\t\t\t}\n\t\t\treturn (this._repeat === -1) ? this : this.duration( (value - (this._repeat * this._repeatDelay)) / (this._repeat + 1) );\n\t\t};\n\n\t\tp.repeat = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._repeat;\n\t\t\t}\n\t\t\tthis._repeat = value;\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp.repeatDelay = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._repeatDelay;\n\t\t\t}\n\t\t\tthis._repeatDelay = value;\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp.yoyo = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._yoyo;\n\t\t\t}\n\t\t\tthis._yoyo = value;\n\t\t\treturn this;\n\t\t};\n\n\n\t\treturn TweenMax;\n\n\t}, true);\n\nexport var TweenMax = globals.TweenMax;\nexport var TweenMaxBase = TweenMax;\nexport { TweenMax as default };\nexport { TweenLite, Ease, Power0, Power1, Power2, Power3, Power4, Linear };\n","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n\nimport TweenLite, { _gsScope, globals, TweenPlugin } from \"./TweenLite.js\";\n\n\t_gsScope._gsDefine(\"plugins.CSSPlugin\", [\"plugins.TweenPlugin\",\"TweenLite\"], function() {\n\n\t\t/** @constructor **/\n\t\tvar CSSPlugin = function() {\n\t\t\t\tTweenPlugin.call(this, \"css\");\n\t\t\t\tthis._overwriteProps.length = 0;\n\t\t\t\tthis.setRatio = CSSPlugin.prototype.setRatio; //speed optimization (avoid prototype lookup on this \"hot\" method)\n\t\t\t},\n\t\t\t_globals = _gsScope._gsDefine.globals,\n\t\t\t_hasPriority, //turns true whenever a CSSPropTween instance is created that has a priority other than 0. This helps us discern whether or not we should spend the time organizing the linked list or not after a CSSPlugin's _onInitTween() method is called.\n\t\t\t_suffixMap, //we set this in _onInitTween() each time as a way to have a persistent variable we can use in other methods like _parse() without having to pass it around as a parameter and we keep _parse() decoupled from a particular CSSPlugin instance\n\t\t\t_cs, //computed style (we store this in a shared variable to conserve memory and make minification tighter\n\t\t\t_overwriteProps, //alias to the currently instantiating CSSPlugin's _overwriteProps array. We use this closure in order to avoid having to pass a reference around from method to method and aid in minification.\n\t\t\t_specialProps = {},\n\t\t\tp = CSSPlugin.prototype = new TweenPlugin(\"css\");\n\n\t\tp.constructor = CSSPlugin;\n\t\tCSSPlugin.version = \"2.1.3\";\n\t\tCSSPlugin.API = 2;\n\t\tCSSPlugin.defaultTransformPerspective = 0;\n\t\tCSSPlugin.defaultSkewType = \"compensated\";\n\t\tCSSPlugin.defaultSmoothOrigin = true;\n\t\tp = \"px\"; //we'll reuse the \"p\" variable to keep file size down\n\t\tCSSPlugin.suffixMap = {top:p, right:p, bottom:p, left:p, width:p, height:p, fontSize:p, padding:p, margin:p, perspective:p, lineHeight:\"\"};\n\n\n\t\tvar _numExp = /(?:\\-|\\.|\\b)(\\d|\\.|e\\-)+/g,\n\t\t\t_relNumExp = /(?:\\d|\\-\\d|\\.\\d|\\-\\.\\d|\\+=\\d|\\-=\\d|\\+=.\\d|\\-=\\.\\d)+/g,\n\t\t\t_valuesExp = /(?:\\+=|\\-=|\\-|\\b)[\\d\\-\\.]+[a-zA-Z0-9]*(?:%|\\b)/gi, //finds all the values that begin with numbers or += or -= and then a number. Includes suffixes. We use this to split complex values apart like \"1px 5px 20px rgb(255,102,51)\"\n\t\t\t_valuesExpWithCommas = /(?:\\+=|\\-=|\\-|\\b)[\\d\\-\\.]+[a-zA-Z0-9]*(?:%|\\b),?/gi, //finds all the values that begin with numbers or += or -= and then a number. Includes suffixes. We use this to split complex values apart like \"1px 5px 20px rgb(255,102,51)\"\n\t\t\t_NaNExp = /(?![+-]?\\d*\\.?\\d+|[+-]|e[+-]\\d+)[^0-9]/g, //also allows scientific notation and doesn't kill the leading -/+ in -= and +=\n\t\t\t_suffixExp = /(?:\\d|\\-|\\+|=|#|\\.)*/g,\n\t\t\t_opacityExp = /opacity *= *([^)]*)/i,\n\t\t\t_opacityValExp = /opacity:([^;]*)/i,\n\t\t\t_alphaFilterExp = /alpha\\(opacity *=.+?\\)/i,\n\t\t\t_rgbhslExp = /^(rgb|hsl)/,\n\t\t\t_capsExp = /([A-Z])/g,\n\t\t\t_camelExp = /-([a-z])/gi,\n\t\t\t_urlExp = /(^(?:url\\(\\\"|url\\())|(?:(\\\"\\))$|\\)$)/gi, //for pulling out urls from url(...) or url(\"...\") strings (some browsers wrap urls in quotes, some don't when reporting things like backgroundImage)\n\t\t\t_camelFunc = function(s, g) { return g.toUpperCase(); },\n\t\t\t_horizExp = /(?:Left|Right|Width)/i,\n\t\t\t_ieGetMatrixExp = /(M11|M12|M21|M22)=[\\d\\-\\.e]+/gi,\n\t\t\t_ieSetMatrixExp = /progid\\:DXImageTransform\\.Microsoft\\.Matrix\\(.+?\\)/i,\n\t\t\t_commasOutsideParenExp = /,(?=[^\\)]*(?:\\(|$))/gi, //finds any commas that are not within parenthesis\n\t\t\t_complexExp = /[\\s,\\(]/i, //for testing a string to find if it has a space, comma, or open parenthesis (clues that it's a complex value)\n\t\t\t_DEG2RAD = Math.PI / 180,\n\t\t\t_RAD2DEG = 180 / Math.PI,\n\t\t\t_forcePT = {},\n\t\t\t_dummyElement = {style:{}},\n\t\t\t_doc = _gsScope.document || {createElement: function() {return _dummyElement;}},\n\t\t\t_createElement = function(type, ns) {\n\t\t\t\tvar e = _doc.createElementNS ? _doc.createElementNS(ns || \"http://www.w3.org/1999/xhtml\", type) : _doc.createElement(type);\n\t\t\t\treturn e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n\t\t\t},\n\t\t\t_tempDiv = _createElement(\"div\"),\n\t\t\t_tempImg = _createElement(\"img\"),\n\t\t\t_internals = CSSPlugin._internals = {_specialProps:_specialProps}, //provides a hook to a few internal methods that we need to access from inside other plugins\n\t\t\t_agent = (_gsScope.navigator || {}).userAgent || \"\",\n\t\t\t_autoRound,\n\t\t\t_reqSafariFix, //we won't apply the Safari transform fix until we actually come across a tween that affects a transform property (to maintain best performance).\n\n\t\t\t_isSafari,\n\t\t\t_isFirefox, //Firefox has a bug that causes 3D transformed elements to randomly disappear unless a repaint is forced after each update on each element.\n\t\t\t_isSafariLT6, //Safari (and Android 4 which uses a flavor of Safari) has a bug that prevents changes to \"top\" and \"left\" properties from rendering properly if changed on the same frame as a transform UNLESS we set the element's WebkitBackfaceVisibility to hidden (weird, I know). Doing this for Android 3 and earlier seems to actually cause other problems, though (fun!)\n\t\t\t_ieVers,\n\t\t\t_supportsOpacity = (function() { //we set _isSafari, _ieVers, _isFirefox, and _supportsOpacity all in one function here to reduce file size slightly, especially in the minified version.\n\t\t\t\tvar i = _agent.indexOf(\"Android\"),\n\t\t\t\t\ta = _createElement(\"a\");\n\t\t\t\t_isSafari = (_agent.indexOf(\"Safari\") !== -1 && _agent.indexOf(\"Chrome\") === -1 && (i === -1 || parseFloat(_agent.substr(i+8, 2)) > 3));\n\t\t\t\t_isSafariLT6 = (_isSafari && (parseFloat(_agent.substr(_agent.indexOf(\"Version/\")+8, 2)) < 6));\n\t\t\t\t_isFirefox = (_agent.indexOf(\"Firefox\") !== -1);\n\t\t\t\tif ((/MSIE ([0-9]{1,}[\\.0-9]{0,})/).exec(_agent) || (/Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/).exec(_agent)) {\n\t\t\t\t\t_ieVers = parseFloat( RegExp.$1 );\n\t\t\t\t}\n\t\t\t\tif (!a) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\ta.style.cssText = \"top:1px;opacity:.55;\";\n\t\t\t\treturn /^0.55/.test(a.style.opacity);\n\t\t\t}()),\n\t\t\t_getIEOpacity = function(v) {\n\t\t\t\treturn (_opacityExp.test( ((typeof(v) === \"string\") ? v : (v.currentStyle ? v.currentStyle.filter : v.style.filter) || \"\") ) ? ( parseFloat( RegExp.$1 ) / 100 ) : 1);\n\t\t\t},\n\t\t\t_log = function(s) {//for logging messages, but in a way that won't throw errors in old versions of IE.\n\t\t\t\tif (_gsScope.console) {\n\t\t\t\t\tconsole.log(s);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_target, //when initting a CSSPlugin, we set this variable so that we can access it from within many other functions without having to pass it around as params\n\t\t\t_index, //when initting a CSSPlugin, we set this variable so that we can access it from within many other functions without having to pass it around as params\n\n\t\t\t_prefixCSS = \"\", //the non-camelCase vendor prefix like \"-o-\", \"-moz-\", \"-ms-\", or \"-webkit-\"\n\t\t\t_prefix = \"\", //camelCase vendor prefix like \"O\", \"ms\", \"Webkit\", or \"Moz\".\n\n\t\t\t// @private feed in a camelCase property name like \"transform\" and it will check to see if it is valid as-is or if it needs a vendor prefix. It returns the corrected camelCase property name (i.e. \"WebkitTransform\" or \"MozTransform\" or \"transform\" or null if no such property is found, like if the browser is IE8 or before, \"transform\" won't be found at all)\n\t\t\t_checkPropPrefix = function(p, e) {\n\t\t\t\te = e || _tempDiv;\n\t\t\t\tvar s = e.style,\n\t\t\t\t\ta, i;\n\t\t\t\tif (s[p] !== undefined) {\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t\tp = p.charAt(0).toUpperCase() + p.substr(1);\n\t\t\t\ta = [\"O\",\"Moz\",\"ms\",\"Ms\",\"Webkit\"];\n\t\t\t\ti = 5;\n\t\t\t\twhile (--i > -1 && s[a[i]+p] === undefined) { }\n\t\t\t\tif (i >= 0) {\n\t\t\t\t\t_prefix = (i === 3) ? \"ms\" : a[i];\n\t\t\t\t\t_prefixCSS = \"-\" + _prefix.toLowerCase() + \"-\";\n\t\t\t\t\treturn _prefix + p;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\t_computedStyleScope = (typeof(window) !== \"undefined\" ? window : _doc.defaultView || {getComputedStyle:function() {}}),\n\t\t\t_getComputedStyle = function(e) {\n\t\t\t\treturn _computedStyleScope.getComputedStyle(e); //to avoid errors in Microsoft Edge, we need to call getComputedStyle() from a specific scope, typically window.\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Returns the css style for a particular property of an element. For example, to get whatever the current \"left\" css value for an element with an ID of \"myElement\", you could do:\n\t\t\t * var currentLeft = CSSPlugin.getStyle( document.getElementById(\"myElement\"), \"left\");\n\t\t\t *\n\t\t\t * @param {!Object} t Target element whose style property you want to query\n\t\t\t * @param {!string} p Property name (like \"left\" or \"top\" or \"marginTop\", etc.)\n\t\t\t * @param {Object=} cs Computed style object. This just provides a way to speed processing if you're going to get several properties on the same element in quick succession - you can reuse the result of the getComputedStyle() call.\n\t\t\t * @param {boolean=} calc If true, the value will not be read directly from the element's \"style\" property (if it exists there), but instead the getComputedStyle() result will be used. This can be useful when you want to ensure that the browser itself is interpreting the value.\n\t\t\t * @param {string=} dflt Default value that should be returned in the place of null, \"none\", \"auto\" or \"auto auto\".\n\t\t\t * @return {?string} The current property value\n\t\t\t */\n\t\t\t_getStyle = CSSPlugin.getStyle = function(t, p, cs, calc, dflt) {\n\t\t\t\tvar rv;\n\t\t\t\tif (!_supportsOpacity) if (p === \"opacity\") { //several versions of IE don't use the standard \"opacity\" property - they use things like filter:alpha(opacity=50), so we parse that here.\n\t\t\t\t\treturn _getIEOpacity(t);\n\t\t\t\t}\n\t\t\t\tif (!calc && t.style[p]) {\n\t\t\t\t\trv = t.style[p];\n\t\t\t\t} else if ((cs = cs || _getComputedStyle(t))) {\n\t\t\t\t\trv = cs[p] || cs.getPropertyValue(p) || cs.getPropertyValue(p.replace(_capsExp, \"-$1\").toLowerCase());\n\t\t\t\t} else if (t.currentStyle) {\n\t\t\t\t\trv = t.currentStyle[p];\n\t\t\t\t}\n\t\t\t\treturn (dflt != null && (!rv || rv === \"none\" || rv === \"auto\" || rv === \"auto auto\")) ? dflt : rv;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Pass the target element, the property name, the numeric value, and the suffix (like \"%\", \"em\", \"px\", etc.) and it will spit back the equivalent pixel number.\n\t\t\t * @param {!Object} t Target element\n\t\t\t * @param {!string} p Property name (like \"left\", \"top\", \"marginLeft\", etc.)\n\t\t\t * @param {!number} v Value\n\t\t\t * @param {string=} sfx Suffix (like \"px\" or \"%\" or \"em\")\n\t\t\t * @param {boolean=} recurse If true, the call is a recursive one. In some browsers (like IE7/8), occasionally the value isn't accurately reported initially, but if we run the function again it will take effect.\n\t\t\t * @return {number} value in pixels\n\t\t\t */\n\t\t\t_convertToPixels = _internals.convertToPixels = function(t, p, v, sfx, recurse) {\n\t\t\t\tif (sfx === \"px\" || (!sfx && p !== \"lineHeight\")) { return v; }\n\t\t\t\tif (sfx === \"auto\" || !v) { return 0; }\n\t\t\t\tvar horiz = _horizExp.test(p),\n\t\t\t\t\tnode = t,\n\t\t\t\t\tstyle = _tempDiv.style,\n\t\t\t\t\tneg = (v < 0),\n\t\t\t\t\tprecise = (v === 1),\n\t\t\t\t\tpix, cache, time;\n\t\t\t\tif (neg) {\n\t\t\t\t\tv = -v;\n\t\t\t\t}\n\t\t\t\tif (precise) {\n\t\t\t\t\tv *= 100;\n\t\t\t\t}\n\t\t\t\tif (p === \"lineHeight\" && !sfx) { //special case of when a simple lineHeight (without a unit) is used. Set it to the value, read back the computed value, and then revert.\n\t\t\t\t\tcache = _getComputedStyle(t).lineHeight;\n\t\t\t\t\tt.style.lineHeight = v;\n\t\t\t\t\tpix = parseFloat(_getComputedStyle(t).lineHeight);\n\t\t\t\t\tt.style.lineHeight = cache;\n\t\t\t\t} else if (sfx === \"%\" && p.indexOf(\"border\") !== -1) {\n\t\t\t\t\tpix = (v / 100) * (horiz ? t.clientWidth : t.clientHeight);\n\t\t\t\t} else {\n\t\t\t\t\tstyle.cssText = \"border:0 solid red;position:\" + _getStyle(t, \"position\") + \";line-height:0;\";\n\t\t\t\t\tif (sfx === \"%\" || !node.appendChild || sfx.charAt(0) === \"v\" || sfx === \"rem\") {\n\t\t\t\t\t\tnode = t.parentNode || _doc.body;\n\t\t\t\t\t\tif (_getStyle(node, \"display\").indexOf(\"flex\") !== -1) { //Edge and IE11 have a bug that causes offsetWidth to report as 0 if the container has display:flex and the child is position:relative. Switching to position: absolute solves it.\n\t\t\t\t\t\t\tstyle.position = \"absolute\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcache = node._gsCache;\n\t\t\t\t\t\ttime = TweenLite.ticker.frame;\n\t\t\t\t\t\tif (cache && horiz && cache.time === time) { //performance optimization: we record the width of elements along with the ticker frame so that we can quickly get it again on the same tick (seems relatively safe to assume it wouldn't change on the same tick)\n\t\t\t\t\t\t\treturn cache.width * v / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle[(horiz ? \"width\" : \"height\")] = v + sfx;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle[(horiz ? \"borderLeftWidth\" : \"borderTopWidth\")] = v + sfx;\n\t\t\t\t\t}\n\t\t\t\t\tnode.appendChild(_tempDiv);\n\t\t\t\t\tpix = parseFloat(_tempDiv[(horiz ? \"offsetWidth\" : \"offsetHeight\")]);\n\t\t\t\t\tnode.removeChild(_tempDiv);\n\t\t\t\t\tif (horiz && sfx === \"%\" && CSSPlugin.cacheWidths !== false) {\n\t\t\t\t\t\tcache = node._gsCache = node._gsCache || {};\n\t\t\t\t\t\tcache.time = time;\n\t\t\t\t\t\tcache.width = pix / v * 100;\n\t\t\t\t\t}\n\t\t\t\t\tif (pix === 0 && !recurse) {\n\t\t\t\t\t\tpix = _convertToPixels(t, p, v, sfx, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (precise) {\n\t\t\t\t\tpix /= 100;\n\t\t\t\t}\n\t\t\t\treturn neg ? -pix : pix;\n\t\t\t},\n\t\t\t_calculateOffset = _internals.calculateOffset = function(t, p, cs) { //for figuring out \"top\" or \"left\" in px when it's \"auto\". We need to factor in margin with the offsetLeft/offsetTop\n\t\t\t\tif (_getStyle(t, \"position\", cs) !== \"absolute\") { return 0; }\n\t\t\t\tvar dim = ((p === \"left\") ? \"Left\" : \"Top\"),\n\t\t\t\t\tv = _getStyle(t, \"margin\" + dim, cs);\n\t\t\t\treturn t[\"offset\" + dim] - (_convertToPixels(t, p, parseFloat(v), v.replace(_suffixExp, \"\")) || 0);\n\t\t\t},\n\n\t\t\t// @private returns at object containing ALL of the style properties in camelCase and their associated values.\n\t\t\t_getAllStyles = function(t, cs) {\n\t\t\t\tvar s = {},\n\t\t\t\t\ti, tr, p;\n\t\t\t\tif ((cs = cs || _getComputedStyle(t, null))) {\n\t\t\t\t\tif ((i = cs.length)) {\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\tp = cs[i];\n\t\t\t\t\t\t\tif (p.indexOf(\"-transform\") === -1 || _transformPropCSS === p) { //Some webkit browsers duplicate transform values, one non-prefixed and one prefixed (\"transform\" and \"WebkitTransform\"), so we must weed out the extra one here.\n\t\t\t\t\t\t\t\ts[p.replace(_camelExp, _camelFunc)] = cs.getPropertyValue(p);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //some browsers behave differently - cs.length is always 0, so we must do a for...in loop.\n\t\t\t\t\t\tfor (i in cs) {\n\t\t\t\t\t\t\tif (i.indexOf(\"Transform\") === -1 || _transformProp === i) { //Some webkit browsers duplicate transform values, one non-prefixed and one prefixed (\"transform\" and \"WebkitTransform\"), so we must weed out the extra one here.\n\t\t\t\t\t\t\t\ts[i] = cs[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if ((cs = t.currentStyle || t.style)) {\n\t\t\t\t\tfor (i in cs) {\n\t\t\t\t\t\tif (typeof(i) === \"string\" && s[i] === undefined) {\n\t\t\t\t\t\t\ts[i.replace(_camelExp, _camelFunc)] = cs[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!_supportsOpacity) {\n\t\t\t\t\ts.opacity = _getIEOpacity(t);\n\t\t\t\t}\n\t\t\t\ttr = _getTransform(t, cs, false);\n\t\t\t\ts.rotation = tr.rotation;\n\t\t\t\ts.skewX = tr.skewX;\n\t\t\t\ts.scaleX = tr.scaleX;\n\t\t\t\ts.scaleY = tr.scaleY;\n\t\t\t\ts.x = tr.x;\n\t\t\t\ts.y = tr.y;\n\t\t\t\tif (_supports3D) {\n\t\t\t\t\ts.z = tr.z;\n\t\t\t\t\ts.rotationX = tr.rotationX;\n\t\t\t\t\ts.rotationY = tr.rotationY;\n\t\t\t\t\ts.scaleZ = tr.scaleZ;\n\t\t\t\t}\n\t\t\t\tif (s.filters) {\n\t\t\t\t\tdelete s.filters;\n\t\t\t\t}\n\t\t\t\treturn s;\n\t\t\t},\n\n\t\t\t// @private analyzes two style objects (as returned by _getAllStyles()) and only looks for differences between them that contain tweenable values (like a number or color). It returns an object with a \"difs\" property which refers to an object containing only those isolated properties and values for tweening, and a \"firstMPT\" property which refers to the first MiniPropTween instance in a linked list that recorded all the starting values of the different properties so that we can revert to them at the end or beginning of the tween - we don't want the cascading to get messed up. The forceLookup parameter is an optional generic object with properties that should be forced into the results - this is necessary for className tweens that are overwriting others because imagine a scenario where a rollover/rollout adds/removes a class and the user swipes the mouse over the target SUPER fast, thus nothing actually changed yet and the subsequent comparison of the properties would indicate they match (especially when px rounding is taken into consideration), thus no tweening is necessary even though it SHOULD tween and remove those properties after the tween (otherwise the inline styles will contaminate things). See the className SpecialProp code for details.\n\t\t\t_cssDif = function(t, s1, s2, vars, forceLookup) {\n\t\t\t\tvar difs = {},\n\t\t\t\t\tstyle = t.style,\n\t\t\t\t\tval, p, mpt;\n\t\t\t\tfor (p in s2) {\n\t\t\t\t\tif (p !== \"cssText\") if (p !== \"length\") if (isNaN(p)) if (s1[p] !== (val = s2[p]) || (forceLookup && forceLookup[p])) if (p.indexOf(\"Origin\") === -1) if (typeof(val) === \"number\" || typeof(val) === \"string\") {\n\t\t\t\t\t\tdifs[p] = (val === \"auto\" && (p === \"left\" || p === \"top\")) ? _calculateOffset(t, p) : ((val === \"\" || val === \"auto\" || val === \"none\") && typeof(s1[p]) === \"string\" && s1[p].replace(_NaNExp, \"\") !== \"\") ? 0 : val; //if the ending value is defaulting (\"\" or \"auto\"), we check the starting value and if it can be parsed into a number (a string which could have a suffix too, like 700px), then we swap in 0 for \"\" or \"auto\" so that things actually tween.\n\t\t\t\t\t\tif (style[p] !== undefined) { //for className tweens, we must remember which properties already existed inline - the ones that didn't should be removed when the tween isn't in progress because they were only introduced to facilitate the transition between classes.\n\t\t\t\t\t\t\tmpt = new MiniPropTween(style, p, style[p], mpt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (vars) {\n\t\t\t\t\tfor (p in vars) { //copy properties (except className)\n\t\t\t\t\t\tif (p !== \"className\") {\n\t\t\t\t\t\t\tdifs[p] = vars[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {difs:difs, firstMPT:mpt};\n\t\t\t},\n\t\t\t_dimensions = {width:[\"Left\",\"Right\"], height:[\"Top\",\"Bottom\"]},\n\t\t\t_margins = [\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\"],\n\n\t\t\t/**\n\t\t\t * @private Gets the width or height of an element\n\t\t\t * @param {!Object} t Target element\n\t\t\t * @param {!string} p Property name (\"width\" or \"height\")\n\t\t\t * @param {Object=} cs Computed style object (if one exists). Just a speed optimization.\n\t\t\t * @return {number} Dimension (in pixels)\n\t\t\t */\n\t\t\t_getDimension = function(t, p, cs) {\n\t\t\t\tif ((t.nodeName + \"\").toLowerCase() === \"svg\") { //Chrome no longer supports offsetWidth/offsetHeight on SVG elements.\n\t\t\t\t\treturn (cs || _getComputedStyle(t))[p] || 0;\n\t\t\t\t} else if (t.getCTM && _isSVG(t)) {\n\t\t\t\t\treturn t.getBBox()[p] || 0;\n\t\t\t\t}\n\t\t\t\tvar v = parseFloat((p === \"width\") ? t.offsetWidth : t.offsetHeight),\n\t\t\t\t\ta = _dimensions[p],\n\t\t\t\t\ti = a.length;\n\t\t\t\tcs = cs || _getComputedStyle(t, null);\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tv -= parseFloat( _getStyle(t, \"padding\" + a[i], cs, true) ) || 0;\n\t\t\t\t\tv -= parseFloat( _getStyle(t, \"border\" + a[i] + \"Width\", cs, true) ) || 0;\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t},\n\n\t\t\t// @private Parses position-related complex strings like \"top left\" or \"50px 10px\" or \"70% 20%\", etc. which are used for things like transformOrigin or backgroundPosition. Optionally decorates a supplied object (recObj) with the following properties: \"ox\" (offsetX), \"oy\" (offsetY), \"oxp\" (if true, \"ox\" is a percentage not a pixel value), and \"oxy\" (if true, \"oy\" is a percentage not a pixel value)\n\t\t\t_parsePosition = function(v, recObj) {\n\t\t\t\tif (v === \"contain\" || v === \"auto\" || v === \"auto auto\") { //note: Firefox uses \"auto auto\" as default whereas Chrome uses \"auto\".\n\t\t\t\t\treturn v + \" \";\n\t\t\t\t}\n\t\t\t\tif (v == null || v === \"\") {\n\t\t\t\t\tv = \"0 0\";\n\t\t\t\t}\n\t\t\t\tvar a = v.split(\" \"),\n\t\t\t\t\tx = (v.indexOf(\"left\") !== -1) ? \"0%\" : (v.indexOf(\"right\") !== -1) ? \"100%\" : a[0],\n\t\t\t\t\ty = (v.indexOf(\"top\") !== -1) ? \"0%\" : (v.indexOf(\"bottom\") !== -1) ? \"100%\" : a[1],\n\t\t\t\t\ti;\n\t\t\t\tif (a.length > 3 && !recObj) { //multiple positions\n\t\t\t\t\ta = v.split(\", \").join(\",\").split(\",\");\n\t\t\t\t\tv = [];\n\t\t\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\t\t\tv.push(_parsePosition(a[i]));\n\t\t\t\t\t}\n\t\t\t\t\treturn v.join(\",\");\n\t\t\t\t}\n\t\t\t\tif (y == null) {\n\t\t\t\t\ty = (x === \"center\") ? \"50%\" : \"0\";\n\t\t\t\t} else if (y === \"center\") {\n\t\t\t\t\ty = \"50%\";\n\t\t\t\t}\n\t\t\t\tif (x === \"center\" || (isNaN(parseFloat(x)) && (x + \"\").indexOf(\"=\") === -1)) { //remember, the user could flip-flop the values and say \"bottom center\" or \"center bottom\", etc. \"center\" is ambiguous because it could be used to describe horizontal or vertical, hence the isNaN(). If there's an \"=\" sign in the value, it's relative.\n\t\t\t\t\tx = \"50%\";\n\t\t\t\t}\n\t\t\t\tv = x + \" \" + y + ((a.length > 2) ? \" \" + a[2] : \"\");\n\t\t\t\tif (recObj) {\n\t\t\t\t\trecObj.oxp = (x.indexOf(\"%\") !== -1);\n\t\t\t\t\trecObj.oyp = (y.indexOf(\"%\") !== -1);\n\t\t\t\t\trecObj.oxr = (x.charAt(1) === \"=\");\n\t\t\t\t\trecObj.oyr = (y.charAt(1) === \"=\");\n\t\t\t\t\trecObj.ox = parseFloat(x.replace(_NaNExp, \"\"));\n\t\t\t\t\trecObj.oy = parseFloat(y.replace(_NaNExp, \"\"));\n\t\t\t\t\trecObj.v = v;\n\t\t\t\t}\n\t\t\t\treturn recObj || v;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Takes an ending value (typically a string, but can be a number) and a starting value and returns the change between the two, looking for relative value indicators like += and -= and it also ignores suffixes (but make sure the ending value starts with a number or +=/-= and that the starting value is a NUMBER!)\n\t\t\t * @param {(number|string)} e End value which is typically a string, but could be a number\n\t\t\t * @param {(number|string)} b Beginning value which is typically a string but could be a number\n\t\t\t * @return {number} Amount of change between the beginning and ending values (relative values that have a \"+=\" or \"-=\" are recognized)\n\t\t\t */\n\t\t\t_parseChange = function(e, b) {\n\t\t\t\tif (typeof(e) === \"function\") {\n\t\t\t\t\te = e(_index, _target);\n\t\t\t\t}\n\t\t\t\treturn (typeof(e) === \"string\" && e.charAt(1) === \"=\") ? parseInt(e.charAt(0) + \"1\", 10) * parseFloat(e.substr(2)) : (parseFloat(e) - parseFloat(b)) || 0;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Takes a value and a default number, checks if the value is relative, null, or numeric and spits back a normalized number accordingly. Primarily used in the _parseTransform() function.\n\t\t\t * @param {Object} v Value to be parsed\n\t\t\t * @param {!number} d Default value (which is also used for relative calculations if \"+=\" or \"-=\" is found in the first parameter)\n\t\t\t * @return {number} Parsed value\n\t\t\t */\n\t\t\t_parseVal = function(v, d) {\n\t\t\t\tif (typeof(v) === \"function\") {\n\t\t\t\t\tv = v(_index, _target);\n\t\t\t\t}\n\t\t\t\tvar isRelative = (typeof(v) === \"string\" && v.charAt(1) === \"=\");\n\t\t\t\tif (typeof(v) === \"string\" && v.charAt(v.length - 2) === \"v\") { //convert vw and vh into px-equivalents.\n\t\t\t\t\tv = (isRelative ? v.substr(0, 2) : 0) + (window[\"inner\" + ((v.substr(-2) === \"vh\") ? \"Height\" : \"Width\")] * (parseFloat(isRelative ? v.substr(2) : v) / 100));\n\t\t\t\t}\n\t\t\t\treturn (v == null) ? d : isRelative ? parseInt(v.charAt(0) + \"1\", 10) * parseFloat(v.substr(2)) + d : parseFloat(v) || 0;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Translates strings like \"40deg\" or \"40\" or 40rad\" or \"+=40deg\" or \"270_short\" or \"-90_cw\" or \"+=45_ccw\" to a numeric radian angle. Of course a starting/default value must be fed in too so that relative values can be calculated properly.\n\t\t\t * @param {Object} v Value to be parsed\n\t\t\t * @param {!number} d Default value (which is also used for relative calculations if \"+=\" or \"-=\" is found in the first parameter)\n\t\t\t * @param {string=} p property name for directionalEnd (optional - only used when the parsed value is directional (\"_short\", \"_cw\", or \"_ccw\" suffix). We need a way to store the uncompensated value so that at the end of the tween, we set it to exactly what was requested with no directional compensation). Property name would be \"rotation\", \"rotationX\", or \"rotationY\"\n\t\t\t * @param {Object=} directionalEnd An object that will store the raw end values for directional angles (\"_short\", \"_cw\", or \"_ccw\" suffix). We need a way to store the uncompensated value so that at the end of the tween, we set it to exactly what was requested with no directional compensation.\n\t\t\t * @return {number} parsed angle in radians\n\t\t\t */\n\t\t\t_parseAngle = function(v, d, p, directionalEnd) {\n\t\t\t\tvar min = 0.000001,\n\t\t\t\t\tcap, split, dif, result, isRelative;\n\t\t\t\tif (typeof(v) === \"function\") {\n\t\t\t\t\tv = v(_index, _target);\n\t\t\t\t}\n\t\t\t\tif (v == null) {\n\t\t\t\t\tresult = d;\n\t\t\t\t} else if (typeof(v) === \"number\") {\n\t\t\t\t\tresult = v;\n\t\t\t\t} else {\n\t\t\t\t\tcap = 360;\n\t\t\t\t\tsplit = v.split(\"_\");\n\t\t\t\t\tisRelative = (v.charAt(1) === \"=\");\n\t\t\t\t\tdif = (isRelative ? parseInt(v.charAt(0) + \"1\", 10) * parseFloat(split[0].substr(2)) : parseFloat(split[0])) * ((v.indexOf(\"rad\") === -1) ? 1 : _RAD2DEG) - (isRelative ? 0 : d);\n\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\tif (directionalEnd) {\n\t\t\t\t\t\t\tdirectionalEnd[p] = d + dif;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (v.indexOf(\"short\") !== -1) {\n\t\t\t\t\t\t\tdif = dif % cap;\n\t\t\t\t\t\t\tif (dif !== dif % (cap / 2)) {\n\t\t\t\t\t\t\t\tdif = (dif < 0) ? dif + cap : dif - cap;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (v.indexOf(\"_cw\") !== -1 && dif < 0) {\n\t\t\t\t\t\t\tdif = ((dif + cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\n\t\t\t\t\t\t} else if (v.indexOf(\"ccw\") !== -1 && dif > 0) {\n\t\t\t\t\t\t\tdif = ((dif - cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult = d + dif;\n\t\t\t\t}\n\t\t\t\tif (result < min && result > -min) {\n\t\t\t\t\tresult = 0;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\t_colorLookup = {aqua:[0,255,255],\n\t\t\t\tlime:[0,255,0],\n\t\t\t\tsilver:[192,192,192],\n\t\t\t\tblack:[0,0,0],\n\t\t\t\tmaroon:[128,0,0],\n\t\t\t\tteal:[0,128,128],\n\t\t\t\tblue:[0,0,255],\n\t\t\t\tnavy:[0,0,128],\n\t\t\t\twhite:[255,255,255],\n\t\t\t\tfuchsia:[255,0,255],\n\t\t\t\tolive:[128,128,0],\n\t\t\t\tyellow:[255,255,0],\n\t\t\t\torange:[255,165,0],\n\t\t\t\tgray:[128,128,128],\n\t\t\t\tpurple:[128,0,128],\n\t\t\t\tgreen:[0,128,0],\n\t\t\t\tred:[255,0,0],\n\t\t\t\tpink:[255,192,203],\n\t\t\t\tcyan:[0,255,255],\n\t\t\t\ttransparent:[255,255,255,0]},\n\n\t\t\t_hue = function(h, m1, m2) {\n\t\t\t\th = (h < 0) ? h + 1 : (h > 1) ? h - 1 : h;\n\t\t\t\treturn ((((h * 6 < 1) ? m1 + (m2 - m1) * h * 6 : (h < 0.5) ? m2 : (h * 3 < 2) ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * 255) + 0.5) | 0;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Parses a color (like #9F0, #FF9900, rgb(255,51,153) or hsl(108, 50%, 10%)) into an array with 3 elements for red, green, and blue or if toHSL parameter is true, it will populate the array with hue, saturation, and lightness values. If a relative value is found in an hsl() or hsla() string, it will preserve those relative prefixes and all the values in the array will be strings instead of numbers (in all other cases it will be populated with numbers).\n\t\t\t * @param {(string|number)} v The value the should be parsed which could be a string like #9F0 or rgb(255,102,51) or rgba(255,0,0,0.5) or it could be a number like 0xFF00CC or even a named color like red, blue, purple, etc.\n\t\t\t * @param {(boolean)} toHSL If true, an hsl() or hsla() value will be returned instead of rgb() or rgba()\n\t\t\t * @return {Array.<number>} An array containing red, green, and blue (and optionally alpha) in that order, or if the toHSL parameter was true, the array will contain hue, saturation and lightness (and optionally alpha) in that order. Always numbers unless there's a relative prefix found in an hsl() or hsla() string and toHSL is true.\n\t\t\t */\n\t\t\t_parseColor = CSSPlugin.parseColor = function(v, toHSL) {\n\t\t\t\tvar a, r, g, b, h, s, l, max, min, d, wasHSL;\n\t\t\t\tif (!v) {\n\t\t\t\t\ta = _colorLookup.black;\n\t\t\t\t} else if (typeof(v) === \"number\") {\n\t\t\t\t\ta = [v >> 16, (v >> 8) & 255, v & 255];\n\t\t\t\t} else {\n\t\t\t\t\tif (v.charAt(v.length - 1) === \",\") { //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n\t\t\t\t\t\tv = v.substr(0, v.length - 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (_colorLookup[v]) {\n\t\t\t\t\t\ta = _colorLookup[v];\n\t\t\t\t\t} else if (v.charAt(0) === \"#\") {\n\t\t\t\t\t\tif (v.length === 4) { //for shorthand like #9F0\n\t\t\t\t\t\t\tr = v.charAt(1);\n\t\t\t\t\t\t\tg = v.charAt(2);\n\t\t\t\t\t\t\tb = v.charAt(3);\n\t\t\t\t\t\t\tv = \"#\" + r + r + g + g + b + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv = parseInt(v.substr(1), 16);\n\t\t\t\t\t\ta = [v >> 16, (v >> 8) & 255, v & 255];\n\t\t\t\t\t} else if (v.substr(0, 3) === \"hsl\") {\n\t\t\t\t\t\ta = wasHSL = v.match(_numExp);\n\t\t\t\t\t\tif (!toHSL) {\n\t\t\t\t\t\t\th = (Number(a[0]) % 360) / 360;\n\t\t\t\t\t\t\ts = Number(a[1]) / 100;\n\t\t\t\t\t\t\tl = Number(a[2]) / 100;\n\t\t\t\t\t\t\tg = (l <= 0.5) ? l * (s + 1) : l + s - l * s;\n\t\t\t\t\t\t\tr = l * 2 - g;\n\t\t\t\t\t\t\tif (a.length > 3) {\n\t\t\t\t\t\t\t\ta[3] = Number(a[3]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ta[0] = _hue(h + 1 / 3, r, g);\n\t\t\t\t\t\t\ta[1] = _hue(h, r, g);\n\t\t\t\t\t\t\ta[2] = _hue(h - 1 / 3, r, g);\n\t\t\t\t\t\t} else if (v.indexOf(\"=\") !== -1) { //if relative values are found, just return the raw strings with the relative prefixes in place.\n\t\t\t\t\t\t\treturn v.match(_relNumExp);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta = v.match(_numExp) || _colorLookup.transparent;\n\t\t\t\t\t}\n\t\t\t\t\ta[0] = Number(a[0]);\n\t\t\t\t\ta[1] = Number(a[1]);\n\t\t\t\t\ta[2] = Number(a[2]);\n\t\t\t\t\tif (a.length > 3) {\n\t\t\t\t\t\ta[3] = Number(a[3]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (toHSL && !wasHSL) {\n\t\t\t\t\tr = a[0] / 255;\n\t\t\t\t\tg = a[1] / 255;\n\t\t\t\t\tb = a[2] / 255;\n\t\t\t\t\tmax = Math.max(r, g, b);\n\t\t\t\t\tmin = Math.min(r, g, b);\n\t\t\t\t\tl = (max + min) / 2;\n\t\t\t\t\tif (max === min) {\n\t\t\t\t\t\th = s = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\td = max - min;\n\t\t\t\t\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\t\t\t\t\th = (max === r) ? (g - b) / d + (g < b ? 6 : 0) : (max === g) ? (b - r) / d + 2 : (r - g) / d + 4;\n\t\t\t\t\t\th *= 60;\n\t\t\t\t\t}\n\t\t\t\t\ta[0] = (h + 0.5) | 0;\n\t\t\t\t\ta[1] = (s * 100 + 0.5) | 0;\n\t\t\t\t\ta[2] = (l * 100 + 0.5) | 0;\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t},\n\t\t\t_formatColors = function(s, toHSL) {\n\t\t\t\tvar colors = s.match(_colorExp) || [],\n\t\t\t\t\tcharIndex = 0,\n\t\t\t\t\tparsed = \"\",\n\t\t\t\t\ti, color, temp;\n\t\t\t\tif (!colors.length) {\n\t\t\t\t\treturn s;\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < colors.length; i++) {\n\t\t\t\t\tcolor = colors[i];\n\t\t\t\t\ttemp = s.substr(charIndex, s.indexOf(color, charIndex)-charIndex);\n\t\t\t\t\tcharIndex += temp.length + color.length;\n\t\t\t\t\tcolor = _parseColor(color, toHSL);\n\t\t\t\t\tif (color.length === 3) {\n\t\t\t\t\t\tcolor.push(1);\n\t\t\t\t\t}\n\t\t\t\t\tparsed += temp + (toHSL ? \"hsla(\" + color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : \"rgba(\" + color.join(\",\")) + \")\";\n\t\t\t\t}\n\t\t\t\treturn parsed + s.substr(charIndex);\n\t\t\t},\n\t\t\t_colorExp = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\"; //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.\n\n\t\tfor (p in _colorLookup) {\n\t\t\t_colorExp += \"|\" + p + \"\\\\b\";\n\t\t}\n\t\t_colorExp = new RegExp(_colorExp+\")\", \"gi\");\n\n\t\tCSSPlugin.colorStringFilter = function(a) {\n\t\t\tvar combined = a[0] + \" \" + a[1],\n\t\t\t\ttoHSL;\n\t\t\tif (_colorExp.test(combined)) {\n\t\t\t\ttoHSL = (combined.indexOf(\"hsl(\") !== -1 || combined.indexOf(\"hsla(\") !== -1);\n\t\t\t\ta[0] = _formatColors(a[0], toHSL);\n\t\t\t\ta[1] = _formatColors(a[1], toHSL);\n\t\t\t}\n\t\t\t_colorExp.lastIndex = 0;\n\t\t};\n\n\t\tif (!TweenLite.defaultStringFilter) {\n\t\t\tTweenLite.defaultStringFilter = CSSPlugin.colorStringFilter;\n\t\t}\n\n\t\t/**\n\t\t * @private Returns a formatter function that handles taking a string (or number in some cases) and returning a consistently formatted one in terms of delimiters, quantity of values, etc. For example, we may get boxShadow values defined as \"0px red\" or \"0px 0px 10px rgb(255,0,0)\" or \"0px 0px 20px 20px #F00\" and we need to ensure that what we get back is described with 4 numbers and a color. This allows us to feed it into the _parseComplex() method and split the values up appropriately. The neat thing about this _getFormatter() function is that the dflt defines a pattern as well as a default, so for example, _getFormatter(\"0px 0px 0px 0px #777\", true) not only sets the default as 0px for all distances and #777 for the color, but also sets the pattern such that 4 numbers and a color will always get returned.\n\t\t * @param {!string} dflt The default value and pattern to follow. So \"0px 0px 0px 0px #777\" will ensure that 4 numbers and a color will always get returned.\n\t\t * @param {boolean=} clr If true, the values should be searched for color-related data. For example, boxShadow values typically contain a color whereas borderRadius don't.\n\t\t * @param {boolean=} collapsible If true, the value is a top/left/right/bottom style one that acts like margin or padding, where if only one value is received, it's used for all 4; if 2 are received, the first is duplicated for 3rd (bottom) and the 2nd is duplicated for the 4th spot (left), etc.\n\t\t * @return {Function} formatter function\n\t\t */\n\t\tvar _getFormatter = function(dflt, clr, collapsible, multi) {\n\t\t\t\tif (dflt == null) {\n\t\t\t\t\treturn function(v) {return v;};\n\t\t\t\t}\n\t\t\t\tvar dColor = clr ? (dflt.match(_colorExp) || [\"\"])[0] : \"\",\n\t\t\t\t\tdVals = dflt.split(dColor).join(\"\").match(_valuesExp) || [],\n\t\t\t\t\tpfx = dflt.substr(0, dflt.indexOf(dVals[0])),\n\t\t\t\t\tsfx = (dflt.charAt(dflt.length - 1) === \")\") ? \")\" : \"\",\n\t\t\t\t\tdelim = (dflt.indexOf(\" \") !== -1) ? \" \" : \",\",\n\t\t\t\t\tnumVals = dVals.length,\n\t\t\t\t\tdSfx = (numVals > 0) ? dVals[0].replace(_numExp, \"\") : \"\",\n\t\t\t\t\tformatter;\n\t\t\t\tif (!numVals) {\n\t\t\t\t\treturn function(v) {return v;};\n\t\t\t\t}\n\t\t\t\tif (clr) {\n\t\t\t\t\tformatter = function(v) {\n\t\t\t\t\t\tvar color, vals, i, a;\n\t\t\t\t\t\tif (typeof(v) === \"number\") {\n\t\t\t\t\t\t\tv += dSfx;\n\t\t\t\t\t\t} else if (multi && _commasOutsideParenExp.test(v)) {\n\t\t\t\t\t\t\ta = v.replace(_commasOutsideParenExp, \"|\").split(\"|\");\n\t\t\t\t\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\t\t\t\t\ta[i] = formatter(a[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn a.join(\",\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor = (v.match(_colorExp) || [dColor])[0];\n\t\t\t\t\t\tvals = v.split(color).join(\"\").match(_valuesExp) || [];\n\t\t\t\t\t\ti = vals.length;\n\t\t\t\t\t\tif (numVals > i--) {\n\t\t\t\t\t\t\twhile (++i < numVals) {\n\t\t\t\t\t\t\t\tvals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn pfx + vals.join(delim) + delim + color + sfx + (v.indexOf(\"inset\") !== -1 ? \" inset\" : \"\");\n\t\t\t\t\t};\n\t\t\t\t\treturn formatter;\n\n\t\t\t\t}\n\t\t\t\tformatter = function(v) {\n\t\t\t\t\tvar vals, a, i;\n\t\t\t\t\tif (typeof(v) === \"number\") {\n\t\t\t\t\t\tv += dSfx;\n\t\t\t\t\t} else if (multi && _commasOutsideParenExp.test(v)) {\n\t\t\t\t\t\ta = v.replace(_commasOutsideParenExp, \"|\").split(\"|\");\n\t\t\t\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\t\t\t\ta[i] = formatter(a[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn a.join(\",\");\n\t\t\t\t\t}\n\t\t\t\t\tvals = v.match(delim === \",\" ? _valuesExp : _valuesExpWithCommas) || [];\n\t\t\t\t\ti = vals.length;\n\t\t\t\t\tif (numVals > i--) {\n\t\t\t\t\t\twhile (++i < numVals) {\n\t\t\t\t\t\t\tvals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn ((pfx && v !== \"none\") ? v.substr(0, v.indexOf(vals[0])) || pfx : pfx) + vals.join(delim) + sfx; //note: prefix might be different, like for clipPath it could start with inset( or polygon(\n\t\t\t\t};\n\t\t\t\treturn formatter;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private returns a formatter function that's used for edge-related values like marginTop, marginLeft, paddingBottom, paddingRight, etc. Just pass a comma-delimited list of property names related to the edges.\n\t\t\t * @param {!string} props a comma-delimited list of property names in order from top to left, like \"marginTop,marginRight,marginBottom,marginLeft\"\n\t\t\t * @return {Function} a formatter function\n\t\t\t */\n\t\t\t_getEdgeParser = function(props) {\n\t\t\t\tprops = props.split(\",\");\n\t\t\t\treturn function(t, e, p, cssp, pt, plugin, vars) {\n\t\t\t\t\tvar a = (e + \"\").split(\" \"),\n\t\t\t\t\t\ti;\n\t\t\t\t\tvars = {};\n\t\t\t\t\tfor (i = 0; i < 4; i++) {\n\t\t\t\t\t\tvars[props[i]] = a[i] = a[i] || a[(((i - 1) / 2) >> 0)];\n\t\t\t\t\t}\n\t\t\t\t\treturn cssp.parse(t, vars, pt, plugin);\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t// @private used when other plugins must tween values first, like BezierPlugin or ThrowPropsPlugin, etc. That plugin's setRatio() gets called first so that the values are updated, and then we loop through the MiniPropTweens which handle copying the values into their appropriate slots so that they can then be applied correctly in the main CSSPlugin setRatio() method. Remember, we typically create a proxy object that has a bunch of uniquely-named properties that we feed to the sub-plugin and it does its magic normally, and then we must interpret those values and apply them to the css because often numbers must get combined/concatenated, suffixes added, etc. to work with css, like boxShadow could have 4 values plus a color.\n\t\t\t_setPluginRatio = _internals._setPluginRatio = function(v) {\n\t\t\t\tthis.plugin.setRatio(v);\n\t\t\t\tvar d = this.data,\n\t\t\t\t\tproxy = d.proxy,\n\t\t\t\t\tmpt = d.firstMPT,\n\t\t\t\t\tmin = 0.000001,\n\t\t\t\t\tval, pt, i, str, p;\n\t\t\t\twhile (mpt) {\n\t\t\t\t\tval = proxy[mpt.v];\n\t\t\t\t\tif (mpt.r) {\n\t\t\t\t\t\tval = mpt.r(val);\n\t\t\t\t\t} else if (val < min && val > -min) {\n\t\t\t\t\t\tval = 0;\n\t\t\t\t\t}\n\t\t\t\t\tmpt.t[mpt.p] = val;\n\t\t\t\t\tmpt = mpt._next;\n\t\t\t\t}\n\t\t\t\tif (d.autoRotate) {\n\t\t\t\t\td.autoRotate.rotation = d.mod ? d.mod.call(this._tween, proxy.rotation, this.t, this._tween) : proxy.rotation; //special case for ModifyPlugin to hook into an auto-rotating bezier\n\t\t\t\t}\n\t\t\t\t//at the end, we must set the CSSPropTween's \"e\" (end) value dynamically here because that's what is used in the final setRatio() method. Same for \"b\" at the beginning.\n\t\t\t\tif (v === 1 || v === 0) {\n\t\t\t\t\tmpt = d.firstMPT;\n\t\t\t\t\tp = (v === 1) ? \"e\" : \"b\";\n\t\t\t\t\twhile (mpt) {\n\t\t\t\t\t\tpt = mpt.t;\n\t\t\t\t\t\tif (!pt.type) {\n\t\t\t\t\t\t\tpt[p] = pt.s + pt.xs0;\n\t\t\t\t\t\t} else if (pt.type === 1) {\n\t\t\t\t\t\t\tstr = pt.xs0 + pt.s + pt.xs1;\n\t\t\t\t\t\t\tfor (i = 1; i < pt.l; i++) {\n\t\t\t\t\t\t\t\tstr += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpt[p] = str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmpt = mpt._next;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private @constructor Used by a few SpecialProps to hold important values for proxies. For example, _parseToProxy() creates a MiniPropTween instance for each property that must get tweened on the proxy, and we record the original property name as well as the unique one we create for the proxy, plus whether or not the value needs to be rounded plus the original value.\n\t\t\t * @param {!Object} t target object whose property we're tweening (often a CSSPropTween)\n\t\t\t * @param {!string} p property name\n\t\t\t * @param {(number|string|object)} v value\n\t\t\t * @param {MiniPropTween=} next next MiniPropTween in the linked list\n\t\t\t * @param {boolean=} r if true, the tweened value should be rounded to the nearest integer\n\t\t\t */\n\t\t\tMiniPropTween = function(t, p, v, next, r) {\n\t\t\t\tthis.t = t;\n\t\t\t\tthis.p = p;\n\t\t\t\tthis.v = v;\n\t\t\t\tthis.r = r;\n\t\t\t\tif (next) {\n\t\t\t\t\tnext._prev = this;\n\t\t\t\t\tthis._next = next;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @private Most other plugins (like BezierPlugin and ThrowPropsPlugin and others) can only tween numeric values, but CSSPlugin must accommodate special values that have a bunch of extra data (like a suffix or strings between numeric values, etc.). For example, boxShadow has values like \"10px 10px 20px 30px rgb(255,0,0)\" which would utterly confuse other plugins. This method allows us to split that data apart and grab only the numeric data and attach it to uniquely-named properties of a generic proxy object ({}) so that we can feed that to virtually any plugin to have the numbers tweened. However, we must also keep track of which properties from the proxy go with which CSSPropTween values and instances. So we create a linked list of MiniPropTweens. Each one records a target (the original CSSPropTween), property (like \"s\" or \"xn1\" or \"xn2\") that we're tweening and the unique property name that was used for the proxy (like \"boxShadow_xn1\" and \"boxShadow_xn2\") and whether or not they need to be rounded. That way, in the _setPluginRatio() method we can simply copy the values over from the proxy to the CSSPropTween instance(s). Then, when the main CSSPlugin setRatio() method runs and applies the CSSPropTween values accordingly, they're updated nicely. So the external plugin tweens the numbers, _setPluginRatio() copies them over, and setRatio() acts normally, applying css-specific values to the element.\n\t\t\t * This method returns an object that has the following properties:\n\t\t\t *  - proxy: a generic object containing the starting values for all the properties that will be tweened by the external plugin.  This is what we feed to the external _onInitTween() as the target\n\t\t\t *  - end: a generic object containing the ending values for all the properties that will be tweened by the external plugin. This is what we feed to the external plugin's _onInitTween() as the destination values\n\t\t\t *  - firstMPT: the first MiniPropTween in the linked list\n\t\t\t *  - pt: the first CSSPropTween in the linked list that was created when parsing. If shallow is true, this linked list will NOT attach to the one passed into the _parseToProxy() as the \"pt\" (4th) parameter.\n\t\t\t * @param {!Object} t target object to be tweened\n\t\t\t * @param {!(Object|string)} vars the object containing the information about the tweening values (typically the end/destination values) that should be parsed\n\t\t\t * @param {!CSSPlugin} cssp The CSSPlugin instance\n\t\t\t * @param {CSSPropTween=} pt the next CSSPropTween in the linked list\n\t\t\t * @param {TweenPlugin=} plugin the external TweenPlugin instance that will be handling tweening the numeric values\n\t\t\t * @param {boolean=} shallow if true, the resulting linked list from the parse will NOT be attached to the CSSPropTween that was passed in as the \"pt\" (4th) parameter.\n\t\t\t * @return An object containing the following properties: proxy, end, firstMPT, and pt (see above for descriptions)\n\t\t\t */\n\t\t\t_parseToProxy = _internals._parseToProxy = function(t, vars, cssp, pt, plugin, shallow) {\n\t\t\t\tvar bpt = pt,\n\t\t\t\t\tstart = {},\n\t\t\t\t\tend = {},\n\t\t\t\t\ttransform = cssp._transform,\n\t\t\t\t\toldForce = _forcePT,\n\t\t\t\t\ti, p, xp, mpt, firstPT;\n\t\t\t\tcssp._transform = null;\n\t\t\t\t_forcePT = vars;\n\t\t\t\tpt = firstPT = cssp.parse(t, vars, pt, plugin);\n\t\t\t\t_forcePT = oldForce;\n\t\t\t\t//break off from the linked list so the new ones are isolated.\n\t\t\t\tif (shallow) {\n\t\t\t\t\tcssp._transform = transform;\n\t\t\t\t\tif (bpt) {\n\t\t\t\t\t\tbpt._prev = null;\n\t\t\t\t\t\tif (bpt._prev) {\n\t\t\t\t\t\t\tbpt._prev._next = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhile (pt && pt !== bpt) {\n\t\t\t\t\tif (pt.type <= 1) {\n\t\t\t\t\t\tp = pt.p;\n\t\t\t\t\t\tend[p] = pt.s + pt.c;\n\t\t\t\t\t\tstart[p] = pt.s;\n\t\t\t\t\t\tif (!shallow) {\n\t\t\t\t\t\t\tmpt = new MiniPropTween(pt, \"s\", p, mpt, pt.r);\n\t\t\t\t\t\t\tpt.c = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pt.type === 1) {\n\t\t\t\t\t\t\ti = pt.l;\n\t\t\t\t\t\t\twhile (--i > 0) {\n\t\t\t\t\t\t\t\txp = \"xn\" + i;\n\t\t\t\t\t\t\t\tp = pt.p + \"_\" + xp;\n\t\t\t\t\t\t\t\tend[p] = pt.data[xp];\n\t\t\t\t\t\t\t\tstart[p] = pt[xp];\n\t\t\t\t\t\t\t\tif (!shallow) {\n\t\t\t\t\t\t\t\t\tmpt = new MiniPropTween(pt, xp, p, mpt, pt.rxp[xp]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\t\t\t\treturn {proxy:start, end:end, firstMPT:mpt, pt:firstPT};\n\t\t\t},\n\n\n\n\t\t\t/**\n\t\t\t * @constructor Each property that is tweened has at least one CSSPropTween associated with it. These instances store important information like the target, property, starting value, amount of change, etc. They can also optionally have a number of \"extra\" strings and numeric values named xs1, xn1, xs2, xn2, xs3, xn3, etc. where \"s\" indicates string and \"n\" indicates number. These can be pieced together in a complex-value tween (type:1) that has alternating types of data like a string, number, string, number, etc. For example, boxShadow could be \"5px 5px 8px rgb(102, 102, 51)\". In that value, there are 6 numbers that may need to tween and then pieced back together into a string again with spaces, suffixes, etc. xs0 is special in that it stores the suffix for standard (type:0) tweens, -OR- the first string (prefix) in a complex-value (type:1) CSSPropTween -OR- it can be the non-tweening value in a type:-1 CSSPropTween. We do this to conserve memory.\n\t\t\t * CSSPropTweens have the following optional properties as well (not defined through the constructor):\n\t\t\t *  - l: Length in terms of the number of extra properties that the CSSPropTween has (default: 0). For example, for a boxShadow we may need to tween 5 numbers in which case l would be 5; Keep in mind that the start/end values for the first number that's tweened are always stored in the s and c properties to conserve memory. All additional values thereafter are stored in xn1, xn2, etc.\n\t\t\t *  - xfirst: The first instance of any sub-CSSPropTweens that are tweening properties of this instance. For example, we may split up a boxShadow tween so that there's a main CSSPropTween of type:1 that has various xs* and xn* values associated with the h-shadow, v-shadow, blur, color, etc. Then we spawn a CSSPropTween for each of those that has a higher priority and runs BEFORE the main CSSPropTween so that the values are all set by the time it needs to re-assemble them. The xfirst gives us an easy way to identify the first one in that chain which typically ends at the main one (because they're all prepende to the linked list)\n\t\t\t *  - plugin: The TweenPlugin instance that will handle the tweening of any complex values. For example, sometimes we don't want to use normal subtweens (like xfirst refers to) to tween the values - we might want ThrowPropsPlugin or BezierPlugin some other plugin to do the actual tweening, so we create a plugin instance and store a reference here. We need this reference so that if we get a request to round values or disable a tween, we can pass along that request.\n\t\t\t *  - data: Arbitrary data that needs to be stored with the CSSPropTween. Typically if we're going to have a plugin handle the tweening of a complex-value tween, we create a generic object that stores the END values that we're tweening to and the CSSPropTween's xs1, xs2, etc. have the starting values. We store that object as data. That way, we can simply pass that object to the plugin and use the CSSPropTween as the target.\n\t\t\t *  - setRatio: Only used for type:2 tweens that require custom functionality. In this case, we call the CSSPropTween's setRatio() method and pass the ratio each time the tween updates. This isn't quite as efficient as doing things directly in the CSSPlugin's setRatio() method, but it's very convenient and flexible.\n\t\t\t * @param {!Object} t Target object whose property will be tweened. Often a DOM element, but not always. It could be anything.\n\t\t\t * @param {string} p Property to tween (name). For example, to tween element.width, p would be \"width\".\n\t\t\t * @param {number} s Starting numeric value\n\t\t\t * @param {number} c Change in numeric value over the course of the entire tween. For example, if element.width starts at 5 and should end at 100, c would be 95.\n\t\t\t * @param {CSSPropTween=} next The next CSSPropTween in the linked list. If one is defined, we will define its _prev as the new instance, and the new instance's _next will be pointed at it.\n\t\t\t * @param {number=} type The type of CSSPropTween where -1 = a non-tweening value, 0 = a standard simple tween, 1 = a complex value (like one that has multiple numbers in a comma- or space-delimited string like border:\"1px solid red\"), and 2 = one that uses a custom setRatio function that does all of the work of applying the values on each update.\n\t\t\t * @param {string=} n Name of the property that should be used for overwriting purposes which is typically the same as p but not always. For example, we may need to create a subtween for the 2nd part of a \"clip:rect(...)\" tween in which case \"p\" might be xs1 but \"n\" is still \"clip\"\n\t\t\t * @param {boolean=} r If true, the value(s) should be rounded\n\t\t\t * @param {number=} pr Priority in the linked list order. Higher priority CSSPropTweens will be updated before lower priority ones. The default priority is 0.\n\t\t\t * @param {string=} b Beginning value. We store this to ensure that it is EXACTLY what it was when the tween began without any risk of interpretation issues.\n\t\t\t * @param {string=} e Ending value. We store this to ensure that it is EXACTLY what the user defined at the end of the tween without any risk of interpretation issues.\n\t\t\t */\n\t\t\tCSSPropTween = _internals.CSSPropTween = function(t, p, s, c, next, type, n, r, pr, b, e) {\n\t\t\t\tthis.t = t; //target\n\t\t\t\tthis.p = p; //property\n\t\t\t\tthis.s = s; //starting value\n\t\t\t\tthis.c = c; //change value\n\t\t\t\tthis.n = n || p; //name that this CSSPropTween should be associated to (usually the same as p, but not always - n is what overwriting looks at)\n\t\t\t\tif (!(t instanceof CSSPropTween)) {\n\t\t\t\t\t_overwriteProps.push(this.n);\n\t\t\t\t}\n\t\t\t\tthis.r = !r ? r : (typeof(r) === \"function\") ? r : Math.round; //round (boolean)\n\t\t\t\tthis.type = type || 0; //0 = normal tween, -1 = non-tweening (in which case xs0 will be applied to the target's property, like tp.t[tp.p] = tp.xs0), 1 = complex-value SpecialProp, 2 = custom setRatio() that does all the work\n\t\t\t\tif (pr) {\n\t\t\t\t\tthis.pr = pr;\n\t\t\t\t\t_hasPriority = true;\n\t\t\t\t}\n\t\t\t\tthis.b = (b === undefined) ? s : b;\n\t\t\t\tthis.e = (e === undefined) ? s + c : e;\n\t\t\t\tif (next) {\n\t\t\t\t\tthis._next = next;\n\t\t\t\t\tnext._prev = this;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_addNonTweeningNumericPT = function(target, prop, start, end, next, overwriteProp) { //cleans up some code redundancies and helps minification. Just a fast way to add a NUMERIC non-tweening CSSPropTween\n\t\t\t\tvar pt = new CSSPropTween(target, prop, start, end - start, next, -1, overwriteProp);\n\t\t\t\tpt.b = start;\n\t\t\t\tpt.e = pt.xs0 = end;\n\t\t\t\treturn pt;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Takes a target, the beginning value and ending value (as strings) and parses them into a CSSPropTween (possibly with child CSSPropTweens) that accommodates multiple numbers, colors, comma-delimited values, etc. For example:\n\t\t\t * sp.parseComplex(element, \"boxShadow\", \"5px 10px 20px rgb(255,102,51)\", \"0px 0px 0px red\", true, \"0px 0px 0px rgb(0,0,0,0)\", pt);\n\t\t\t * It will walk through the beginning and ending values (which should be in the same format with the same number and type of values) and figure out which parts are numbers, what strings separate the numeric/tweenable values, and then create the CSSPropTweens accordingly. If a plugin is defined, no child CSSPropTweens will be created. Instead, the ending values will be stored in the \"data\" property of the returned CSSPropTween like: {s:-5, xn1:-10, xn2:-20, xn3:255, xn4:0, xn5:0} so that it can be fed to any other plugin and it'll be plain numeric tweens but the recomposition of the complex value will be handled inside CSSPlugin's setRatio().\n\t\t\t * If a setRatio is defined, the type of the CSSPropTween will be set to 2 and recomposition of the values will be the responsibility of that method.\n\t\t\t *\n\t\t\t * @param {!Object} t Target whose property will be tweened\n\t\t\t * @param {!string} p Property that will be tweened (its name, like \"left\" or \"backgroundColor\" or \"boxShadow\")\n\t\t\t * @param {string} b Beginning value\n\t\t\t * @param {string} e Ending value\n\t\t\t * @param {boolean} clrs If true, the value could contain a color value like \"rgb(255,0,0)\" or \"#F00\" or \"red\". The default is false, so no colors will be recognized (a performance optimization)\n\t\t\t * @param {(string|number|Object)} dflt The default beginning value that should be used if no valid beginning value is defined or if the number of values inside the complex beginning and ending values don't match\n\t\t\t * @param {?CSSPropTween} pt CSSPropTween instance that is the current head of the linked list (we'll prepend to this).\n\t\t\t * @param {number=} pr Priority in the linked list order. Higher priority properties will be updated before lower priority ones. The default priority is 0.\n\t\t\t * @param {TweenPlugin=} plugin If a plugin should handle the tweening of extra properties, pass the plugin instance here. If one is defined, then NO subtweens will be created for any extra properties (the properties will be created - just not additional CSSPropTween instances to tween them) because the plugin is expected to do so. However, the end values WILL be populated in the \"data\" property, like {s:100, xn1:50, xn2:300}\n\t\t\t * @param {function(number)=} setRatio If values should be set in a custom function instead of being pieced together in a type:1 (complex-value) CSSPropTween, define that custom function here.\n\t\t\t * @return {CSSPropTween} The first CSSPropTween in the linked list which includes the new one(s) added by the parseComplex() call.\n\t\t\t */\n\t\t\t_parseComplex = CSSPlugin.parseComplex = function(t, p, b, e, clrs, dflt, pt, pr, plugin, setRatio) {\n\t\t\t\t//DEBUG: _log(\"parseComplex: \"+p+\", b: \"+b+\", e: \"+e);\n\t\t\t\tb = b || dflt || \"\";\n\t\t\t\tif (typeof(e) === \"function\") {\n\t\t\t\t\te = e(_index, _target);\n\t\t\t\t}\n\t\t\t\tpt = new CSSPropTween(t, p, 0, 0, pt, (setRatio ? 2 : 1), null, false, pr, b, e);\n\t\t\t\te += \"\"; //ensures it's a string\n\t\t\t\tif (clrs && _colorExp.test(e + b)) { //if colors are found, normalize the formatting to rgba() or hsla().\n\t\t\t\t\te = [b, e];\n\t\t\t\t\tCSSPlugin.colorStringFilter(e);\n\t\t\t\t\tb = e[0];\n\t\t\t\t\te = e[1];\n\t\t\t\t}\n\t\t\t\tvar ba = b.split(\", \").join(\",\").split(\" \"), //beginning array\n\t\t\t\t\tea = e.split(\", \").join(\",\").split(\" \"), //ending array\n\t\t\t\t\tl = ba.length,\n\t\t\t\t\tautoRound = (_autoRound !== false),\n\t\t\t\t\ti, xi, ni, bv, ev, bnums, enums, bn, hasAlpha, temp, cv, str, useHSL;\n\t\t\t\tif (e.indexOf(\",\") !== -1 || b.indexOf(\",\") !== -1) {\n\t\t\t\t\tif ((e + b).indexOf(\"rgb\") !== -1 || (e + b).indexOf(\"hsl\") !== -1) { //keep rgb(), rgba(), hsl(), and hsla() values together! (remember, we're splitting on spaces)\n\t\t\t\t\t\tba = ba.join(\" \").replace(_commasOutsideParenExp, \", \").split(\" \");\n\t\t\t\t\t\tea = ea.join(\" \").replace(_commasOutsideParenExp, \", \").split(\" \");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tba = ba.join(\" \").split(\",\").join(\", \").split(\" \");\n\t\t\t\t\t\tea = ea.join(\" \").split(\",\").join(\", \").split(\" \");\n\t\t\t\t\t}\n\t\t\t\t\tl = ba.length;\n\t\t\t\t}\n\t\t\t\tif (l !== ea.length) {\n\t\t\t\t\t//DEBUG: _log(\"mismatched formatting detected on \" + p + \" (\" + b + \" vs \" + e + \")\");\n\t\t\t\t\tba = (dflt || \"\").split(\" \");\n\t\t\t\t\tl = ba.length;\n\t\t\t\t}\n\t\t\t\tpt.plugin = plugin;\n\t\t\t\tpt.setRatio = setRatio;\n\t\t\t\t_colorExp.lastIndex = 0;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tbv = ba[i];\n\t\t\t\t\tev = ea[i] + \"\";\n\t\t\t\t\tbn = parseFloat(bv);\n\t\t\t\t\t//if the value begins with a number (most common). It's fine if it has a suffix like px\n\t\t\t\t\tif (bn || bn === 0) {\n\t\t\t\t\t\tpt.appendXtra(\"\", bn, _parseChange(ev, bn), ev.replace(_relNumExp, \"\"), (autoRound && ev.indexOf(\"px\") !== -1) ? Math.round : false, true);\n\n\t\t\t\t\t//if the value is a color\n\t\t\t\t\t} else if (clrs && _colorExp.test(bv)) {\n\t\t\t\t\t\tstr = ev.indexOf(\")\") + 1;\n\t\t\t\t\t\tstr = \")\" + (str ? ev.substr(str) : \"\"); //if there's a comma or ) at the end, retain it.\n\t\t\t\t\t\tuseHSL = (ev.indexOf(\"hsl\") !== -1 && _supportsOpacity);\n\t\t\t\t\t\ttemp = ev; //original string value so we can look for any prefix later.\n\t\t\t\t\t\tbv = _parseColor(bv, useHSL);\n\t\t\t\t\t\tev = _parseColor(ev, useHSL);\n\t\t\t\t\t\thasAlpha = (bv.length + ev.length > 6);\n\t\t\t\t\t\tif (hasAlpha && !_supportsOpacity && ev[3] === 0) { //older versions of IE don't support rgba(), so if the destination alpha is 0, just use \"transparent\" for the end color\n\t\t\t\t\t\t\tpt[\"xs\" + pt.l] += pt.l ? \" transparent\" : \"transparent\";\n\t\t\t\t\t\t\tpt.e = pt.e.split(ea[i]).join(\"transparent\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!_supportsOpacity) { //old versions of IE don't support rgba().\n\t\t\t\t\t\t\t\thasAlpha = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (useHSL) {\n\t\t\t\t\t\t\t\tpt.appendXtra(temp.substr(0, temp.indexOf(\"hsl\")) + (hasAlpha ? \"hsla(\" : \"hsl(\"), bv[0], _parseChange(ev[0], bv[0]), \",\", false, true)\n\t\t\t\t\t\t\t\t\t.appendXtra(\"\", bv[1], _parseChange(ev[1], bv[1]), \"%,\", false)\n\t\t\t\t\t\t\t\t\t.appendXtra(\"\", bv[2], _parseChange(ev[2], bv[2]), (hasAlpha ? \"%,\" : \"%\" + str), false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpt.appendXtra(temp.substr(0, temp.indexOf(\"rgb\")) + (hasAlpha ? \"rgba(\" : \"rgb(\"), bv[0], ev[0] - bv[0], \",\", Math.round, true)\n\t\t\t\t\t\t\t\t\t.appendXtra(\"\", bv[1], ev[1] - bv[1], \",\", Math.round)\n\t\t\t\t\t\t\t\t\t.appendXtra(\"\", bv[2], ev[2] - bv[2], (hasAlpha ? \",\" : str), Math.round);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (hasAlpha) {\n\t\t\t\t\t\t\t\tbv = (bv.length < 4) ? 1 : bv[3];\n\t\t\t\t\t\t\t\tpt.appendXtra(\"\", bv, ((ev.length < 4) ? 1 : ev[3]) - bv, str, false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_colorExp.lastIndex = 0; //otherwise the test() on the RegExp could move the lastIndex and taint future results.\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbnums = bv.match(_numExp); //gets each group of numbers in the beginning value string and drops them into an array\n\n\t\t\t\t\t\t//if no number is found, treat it as a non-tweening value and just append the string to the current xs.\n\t\t\t\t\t\tif (!bnums) {\n\t\t\t\t\t\t\tpt[\"xs\" + pt.l] += (pt.l || pt[\"xs\" + pt.l]) ? \" \" + ev : ev;\n\n\t\t\t\t\t\t//loop through all the numbers that are found and construct the extra values on the pt.\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tenums = ev.match(_relNumExp); //get each group of numbers in the end value string and drop them into an array. We allow relative values too, like +=50 or -=.5\n\t\t\t\t\t\t\tif (!enums || enums.length !== bnums.length) {\n\t\t\t\t\t\t\t\t//DEBUG: _log(\"mismatched formatting detected on \" + p + \" (\" + b + \" vs \" + e + \")\");\n\t\t\t\t\t\t\t\treturn pt;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tni = 0;\n\t\t\t\t\t\t\tfor (xi = 0; xi < bnums.length; xi++) {\n\t\t\t\t\t\t\t\tcv = bnums[xi];\n\t\t\t\t\t\t\t\ttemp = bv.indexOf(cv, ni);\n\t\t\t\t\t\t\t\tpt.appendXtra(bv.substr(ni, temp - ni), Number(cv), _parseChange(enums[xi], cv), \"\", (autoRound && bv.substr(temp + cv.length, 2) === \"px\") ? Math.round : false, (xi === 0));\n\t\t\t\t\t\t\t\tni = temp + cv.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpt[\"xs\" + pt.l] += bv.substr(ni);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//if there are relative values (\"+=\" or \"-=\" prefix), we need to adjust the ending value to eliminate the prefixes and combine the values properly.\n\t\t\t\tif (e.indexOf(\"=\") !== -1) if (pt.data) {\n\t\t\t\t\tstr = pt.xs0 + pt.data.s;\n\t\t\t\t\tfor (i = 1; i < pt.l; i++) {\n\t\t\t\t\t\tstr += pt[\"xs\" + i] + pt.data[\"xn\" + i];\n\t\t\t\t\t}\n\t\t\t\t\tpt.e = str + pt[\"xs\" + i];\n\t\t\t\t}\n\t\t\t\tif (!pt.l) {\n\t\t\t\t\tpt.type = -1;\n\t\t\t\t\tpt.xs0 = pt.e;\n\t\t\t\t}\n\t\t\t\treturn pt.xfirst || pt;\n\t\t\t},\n\t\t\ti = 9;\n\n\n\t\tp = CSSPropTween.prototype;\n\t\tp.l = p.pr = 0; //length (number of extra properties like xn1, xn2, xn3, etc.\n\t\twhile (--i > 0) {\n\t\t\tp[\"xn\" + i] = 0;\n\t\t\tp[\"xs\" + i] = \"\";\n\t\t}\n\t\tp.xs0 = \"\";\n\t\tp._next = p._prev = p.xfirst = p.data = p.plugin = p.setRatio = p.rxp = null;\n\n\n\t\t/**\n\t\t * Appends and extra tweening value to a CSSPropTween and automatically manages any prefix and suffix strings. The first extra value is stored in the s and c of the main CSSPropTween instance, but thereafter any extras are stored in the xn1, xn2, xn3, etc. The prefixes and suffixes are stored in the xs0, xs1, xs2, etc. properties. For example, if I walk through a clip value like \"rect(10px, 5px, 0px, 20px)\", the values would be stored like this:\n\t\t * xs0:\"rect(\", s:10, xs1:\"px, \", xn1:5, xs2:\"px, \", xn2:0, xs3:\"px, \", xn3:20, xn4:\"px)\"\n\t\t * And they'd all get joined together when the CSSPlugin renders (in the setRatio() method).\n\t\t * @param {string=} pfx Prefix (if any)\n\t\t * @param {!number} s Starting value\n\t\t * @param {!number} c Change in numeric value over the course of the entire tween. For example, if the start is 5 and the end is 100, the change would be 95.\n\t\t * @param {string=} sfx Suffix (if any)\n\t\t * @param {boolean=} r Round (if true).\n\t\t * @param {boolean=} pad If true, this extra value should be separated by the previous one by a space. If there is no previous extra and pad is true, it will automatically drop the space.\n\t\t * @return {CSSPropTween} returns itself so that multiple methods can be chained together.\n\t\t */\n\t\tp.appendXtra = function(pfx, s, c, sfx, r, pad) {\n\t\t\tvar pt = this,\n\t\t\t\tl = pt.l;\n\t\t\tpt[\"xs\" + l] += (pad && (l || pt[\"xs\" + l])) ? \" \" + pfx : pfx || \"\";\n\t\t\tif (!c) if (l !== 0 && !pt.plugin) { //typically we'll combine non-changing values right into the xs to optimize performance, but we don't combine them when there's a plugin that will be tweening the values because it may depend on the values being split apart, like for a bezier, if a value doesn't change between the first and second iteration but then it does on the 3rd, we'll run into trouble because there's no xn slot for that value!\n\t\t\t\tpt[\"xs\" + l] += s + (sfx || \"\");\n\t\t\t\treturn pt;\n\t\t\t}\n\t\t\tpt.l++;\n\t\t\tpt.type = pt.setRatio ? 2 : 1;\n\t\t\tpt[\"xs\" + pt.l] = sfx || \"\";\n\t\t\tif (l > 0) {\n\t\t\t\tpt.data[\"xn\" + l] = s + c;\n\t\t\t\tpt.rxp[\"xn\" + l] = r; //round extra property (we need to tap into this in the _parseToProxy() method)\n\t\t\t\tpt[\"xn\" + l] = s;\n\t\t\t\tif (!pt.plugin) {\n\t\t\t\t\tpt.xfirst = new CSSPropTween(pt, \"xn\" + l, s, c, pt.xfirst || pt, 0, pt.n, r, pt.pr);\n\t\t\t\t\tpt.xfirst.xs0 = 0; //just to ensure that the property stays numeric which helps modern browsers speed up processing. Remember, in the setRatio() method, we do pt.t[pt.p] = val + pt.xs0 so if pt.xs0 is \"\" (the default), it'll cast the end value as a string. When a property is a number sometimes and a string sometimes, it prevents the compiler from locking in the data type, slowing things down slightly.\n\t\t\t\t}\n\t\t\t\treturn pt;\n\t\t\t}\n\t\t\tpt.data = {s:s + c};\n\t\t\tpt.rxp = {};\n\t\t\tpt.s = s;\n\t\t\tpt.c = c;\n\t\t\tpt.r = r;\n\t\t\treturn pt;\n\t\t};\n\n\t\t/**\n\t\t * @constructor A SpecialProp is basically a css property that needs to be treated in a non-standard way, like if it may contain a complex value like boxShadow:\"5px 10px 15px rgb(255, 102, 51)\" or if it is associated with another plugin like ThrowPropsPlugin or BezierPlugin. Every SpecialProp is associated with a particular property name like \"boxShadow\" or \"throwProps\" or \"bezier\" and it will intercept those values in the vars object that's passed to the CSSPlugin and handle them accordingly.\n\t\t * @param {!string} p Property name (like \"boxShadow\" or \"throwProps\")\n\t\t * @param {Object=} options An object containing any of the following configuration options:\n\t\t *                      - defaultValue: the default value\n\t\t *                      - parser: A function that should be called when the associated property name is found in the vars. This function should return a CSSPropTween instance and it should ensure that it is properly inserted into the linked list. It will receive 4 paramters: 1) The target, 2) The value defined in the vars, 3) The CSSPlugin instance (whose _firstPT should be used for the linked list), and 4) A computed style object if one was calculated (this is a speed optimization that allows retrieval of starting values quicker)\n\t\t *                      - formatter: a function that formats any value received for this special property (for example, boxShadow could take \"5px 5px red\" and format it to \"5px 5px 0px 0px red\" so that both the beginning and ending values have a common order and quantity of values.)\n\t\t *                      - prefix: if true, we'll determine whether or not this property requires a vendor prefix (like Webkit or Moz or ms or O)\n\t\t *                      - color: set this to true if the value for this SpecialProp may contain color-related values like rgb(), rgba(), etc.\n\t\t *                      - priority: priority in the linked list order. Higher priority SpecialProps will be updated before lower priority ones. The default priority is 0.\n\t\t *                      - multi: if true, the formatter should accommodate a comma-delimited list of values, like boxShadow could have multiple boxShadows listed out.\n\t\t *                      - collapsible: if true, the formatter should treat the value like it's a top/right/bottom/left value that could be collapsed, like \"5px\" would apply to all, \"5px, 10px\" would use 5px for top/bottom and 10px for right/left, etc.\n\t\t *                      - keyword: a special keyword that can [optionally] be found inside the value (like \"inset\" for boxShadow). This allows us to validate beginning/ending values to make sure they match (if the keyword is found in one, it'll be added to the other for consistency by default).\n\t\t */\n\t\tvar SpecialProp = function(p, options) {\n\t\t\t\toptions = options || {};\n\t\t\t\tthis.p = options.prefix ? _checkPropPrefix(p) || p : p;\n\t\t\t\t_specialProps[p] = _specialProps[this.p] = this;\n\t\t\t\tthis.format = options.formatter || _getFormatter(options.defaultValue, options.color, options.collapsible, options.multi);\n\t\t\t\tif (options.parser) {\n\t\t\t\t\tthis.parse = options.parser;\n\t\t\t\t}\n\t\t\t\tthis.clrs = options.color;\n\t\t\t\tthis.multi = options.multi;\n\t\t\t\tthis.keyword = options.keyword;\n\t\t\t\tthis.dflt = options.defaultValue;\n\t\t\t\tthis.allowFunc = options.allowFunc;\n\t\t\t\tthis.pr = options.priority || 0;\n\t\t\t},\n\n\t\t\t//shortcut for creating a new SpecialProp that can accept multiple properties as a comma-delimited list (helps minification). dflt can be an array for multiple values (we don't do a comma-delimited list because the default value may contain commas, like rect(0px,0px,0px,0px)). We attach this method to the SpecialProp class/object instead of using a private _createSpecialProp() method so that we can tap into it externally if necessary, like from another plugin.\n\t\t\t_registerComplexSpecialProp = _internals._registerComplexSpecialProp = function(p, options, defaults) {\n\t\t\t\tif (typeof(options) !== \"object\") {\n\t\t\t\t\toptions = {parser:defaults}; //to make backwards compatible with older versions of BezierPlugin and ThrowPropsPlugin\n\t\t\t\t}\n\t\t\t\tvar a = p.split(\",\"),\n\t\t\t\t\td = options.defaultValue,\n\t\t\t\t\ti, temp;\n\t\t\t\tdefaults = defaults || [d];\n\t\t\t\tfor (i = 0; i < a.length; i++) {\n\t\t\t\t\toptions.prefix = (i === 0 && options.prefix);\n\t\t\t\t\toptions.defaultValue = defaults[i] || d;\n\t\t\t\t\ttemp = new SpecialProp(a[i], options);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t//creates a placeholder special prop for a plugin so that the property gets caught the first time a tween of it is attempted, and at that time it makes the plugin register itself, thus taking over for all future tweens of that property. This allows us to not mandate that things load in a particular order and it also allows us to log() an error that informs the user when they attempt to tween an external plugin-related property without loading its .js file.\n\t\t\t_registerPluginProp = _internals._registerPluginProp = function(p) {\n\t\t\t\tif (!_specialProps[p]) {\n\t\t\t\t\tvar pluginName = p.charAt(0).toUpperCase() + p.substr(1) + \"Plugin\";\n\t\t\t\t\t_registerComplexSpecialProp(p, {parser:function(t, e, p, cssp, pt, plugin, vars) {\n\t\t\t\t\t\tvar pluginClass = _globals.com.greensock.plugins[pluginName];\n\t\t\t\t\t\tif (!pluginClass) {\n\t\t\t\t\t\t\t_log(\"Error: \" + pluginName + \" js file not loaded.\");\n\t\t\t\t\t\t\treturn pt;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpluginClass._cssRegister();\n\t\t\t\t\t\treturn _specialProps[p].parse(t, e, p, cssp, pt, plugin, vars);\n\t\t\t\t\t}});\n\t\t\t\t}\n\t\t\t};\n\n\n\t\tp = SpecialProp.prototype;\n\n\t\t/**\n\t\t * Alias for _parseComplex() that automatically plugs in certain values for this SpecialProp, like its property name, whether or not colors should be sensed, the default value, and priority. It also looks for any keyword that the SpecialProp defines (like \"inset\" for boxShadow) and ensures that the beginning and ending values have the same number of values for SpecialProps where multi is true (like boxShadow and textShadow can have a comma-delimited list)\n\t\t * @param {!Object} t target element\n\t\t * @param {(string|number|object)} b beginning value\n\t\t * @param {(string|number|object)} e ending (destination) value\n\t\t * @param {CSSPropTween=} pt next CSSPropTween in the linked list\n\t\t * @param {TweenPlugin=} plugin If another plugin will be tweening the complex value, that TweenPlugin instance goes here.\n\t\t * @param {function=} setRatio If a custom setRatio() method should be used to handle this complex value, that goes here.\n\t\t * @return {CSSPropTween=} First CSSPropTween in the linked list\n\t\t */\n\t\tp.parseComplex = function(t, b, e, pt, plugin, setRatio) {\n\t\t\tvar kwd = this.keyword,\n\t\t\t\ti, ba, ea, l, bi, ei;\n\t\t\t//if this SpecialProp's value can contain a comma-delimited list of values (like boxShadow or textShadow), we must parse them in a special way, and look for a keyword (like \"inset\" for boxShadow) and ensure that the beginning and ending BOTH have it if the end defines it as such. We also must ensure that there are an equal number of values specified (we can't tween 1 boxShadow to 3 for example)\n\t\t\tif (this.multi) if (_commasOutsideParenExp.test(e) || _commasOutsideParenExp.test(b)) {\n\t\t\t\tba = b.replace(_commasOutsideParenExp, \"|\").split(\"|\");\n\t\t\t\tea = e.replace(_commasOutsideParenExp, \"|\").split(\"|\");\n\t\t\t} else if (kwd) {\n\t\t\t\tba = [b];\n\t\t\t\tea = [e];\n\t\t\t}\n\t\t\tif (ea) {\n\t\t\t\tl = (ea.length > ba.length) ? ea.length : ba.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tb = ba[i] = ba[i] || this.dflt;\n\t\t\t\t\te = ea[i] = ea[i] || this.dflt;\n\t\t\t\t\tif (kwd) {\n\t\t\t\t\t\tbi = b.indexOf(kwd);\n\t\t\t\t\t\tei = e.indexOf(kwd);\n\t\t\t\t\t\tif (bi !== ei) {\n\t\t\t\t\t\t\tif (ei === -1) { //if the keyword isn't in the end value, remove it from the beginning one.\n\t\t\t\t\t\t\t\tba[i] = ba[i].split(kwd).join(\"\");\n\t\t\t\t\t\t\t} else if (bi === -1) { //if the keyword isn't in the beginning, add it.\n\t\t\t\t\t\t\t\tba[i] += \" \" + kwd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tb = ba.join(\", \");\n\t\t\t\te = ea.join(\", \");\n\t\t\t}\n\t\t\treturn _parseComplex(t, this.p, b, e, this.clrs, this.dflt, pt, this.pr, plugin, setRatio);\n\t\t};\n\n\t\t/**\n\t\t * Accepts a target and end value and spits back a CSSPropTween that has been inserted into the CSSPlugin's linked list and conforms with all the conventions we use internally, like type:-1, 0, 1, or 2, setting up any extra property tweens, priority, etc. For example, if we have a boxShadow SpecialProp and call:\n\t\t * this._firstPT = sp.parse(element, \"5px 10px 20px rgb(2550,102,51)\", \"boxShadow\", this);\n\t\t * It should figure out the starting value of the element's boxShadow, compare it to the provided end value and create all the necessary CSSPropTweens of the appropriate types to tween the boxShadow. The CSSPropTween that gets spit back should already be inserted into the linked list (the 4th parameter is the current head, so prepend to that).\n\t\t * @param {!Object} t Target object whose property is being tweened\n\t\t * @param {Object} e End value as provided in the vars object (typically a string, but not always - like a throwProps would be an object).\n\t\t * @param {!string} p Property name\n\t\t * @param {!CSSPlugin} cssp The CSSPlugin instance that should be associated with this tween.\n\t\t * @param {?CSSPropTween} pt The CSSPropTween that is the current head of the linked list (we'll prepend to it)\n\t\t * @param {TweenPlugin=} plugin If a plugin will be used to tween the parsed value, this is the plugin instance.\n\t\t * @param {Object=} vars Original vars object that contains the data for parsing.\n\t\t * @return {CSSPropTween} The first CSSPropTween in the linked list which includes the new one(s) added by the parse() call.\n\t\t */\n\t\tp.parse = function(t, e, p, cssp, pt, plugin, vars) {\n\t\t\treturn this.parseComplex(t.style, this.format(_getStyle(t, this.p, _cs, false, this.dflt)), this.format(e), pt, plugin);\n\t\t};\n\n\t\t/**\n\t\t * Registers a special property that should be intercepted from any \"css\" objects defined in tweens. This allows you to handle them however you want without CSSPlugin doing it for you. The 2nd parameter should be a function that accepts 3 parameters:\n\t\t *  1) Target object whose property should be tweened (typically a DOM element)\n\t\t *  2) The end/destination value (could be a string, number, object, or whatever you want)\n\t\t *  3) The tween instance (you probably don't need to worry about this, but it can be useful for looking up information like the duration)\n\t\t *\n\t\t * Then, your function should return a function which will be called each time the tween gets rendered, passing a numeric \"ratio\" parameter to your function that indicates the change factor (usually between 0 and 1). For example:\n\t\t *\n\t\t * CSSPlugin.registerSpecialProp(\"myCustomProp\", function(target, value, tween) {\n\t\t *      var start = target.style.width;\n\t\t *      return function(ratio) {\n\t\t *              target.style.width = (start + value * ratio) + \"px\";\n\t\t *              console.log(\"set width to \" + target.style.width);\n\t\t *          }\n\t\t * }, 0);\n\t\t *\n\t\t * Then, when I do this tween, it will trigger my special property:\n\t\t *\n\t\t * TweenLite.to(element, 1, {css:{myCustomProp:100}});\n\t\t *\n\t\t * In the example, of course, we're just changing the width, but you can do anything you want.\n\t\t *\n\t\t * @param {!string} name Property name (or comma-delimited list of property names) that should be intercepted and handled by your function. For example, if I define \"myCustomProp\", then it would handle that portion of the following tween: TweenLite.to(element, 1, {css:{myCustomProp:100}})\n\t\t * @param {!function(Object, Object, Object, string):function(number)} onInitTween The function that will be called when a tween of this special property is performed. The function will receive 4 parameters: 1) Target object that should be tweened, 2) Value that was passed to the tween, 3) The tween instance itself (rarely used), and 4) The property name that's being tweened. Your function should return a function that should be called on every update of the tween. That function will receive a single parameter that is a \"change factor\" value (typically between 0 and 1) indicating the amount of change as a ratio. You can use this to determine how to set the values appropriately in your function.\n\t\t * @param {number=} priority Priority that helps the engine determine the order in which to set the properties (default: 0). Higher priority properties will be updated before lower priority ones.\n\t\t */\n\t\tCSSPlugin.registerSpecialProp = function(name, onInitTween, priority) {\n\t\t\t_registerComplexSpecialProp(name, {parser:function(t, e, p, cssp, pt, plugin, vars) {\n\t\t\t\tvar rv = new CSSPropTween(t, p, 0, 0, pt, 2, p, false, priority);\n\t\t\t\trv.plugin = plugin;\n\t\t\t\trv.setRatio = onInitTween(t, e, cssp._tween, p);\n\t\t\t\treturn rv;\n\t\t\t}, priority:priority});\n\t\t};\n\n\n\n\n\n\n\t\t//transform-related methods and properties\n\t\tCSSPlugin.useSVGTransformAttr = true; //Safari and Firefox both have some rendering bugs when applying CSS transforms to SVG elements, so default to using the \"transform\" attribute instead (users can override this).\n\t\tvar _transformProps = (\"scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent\").split(\",\"),\n\t\t\t_transformProp = _checkPropPrefix(\"transform\"), //the Javascript (camelCase) transform property, like msTransform, WebkitTransform, MozTransform, or OTransform.\n\t\t\t_transformPropCSS = _prefixCSS + \"transform\",\n\t\t\t_transformOriginProp = _checkPropPrefix(\"transformOrigin\"),\n\t\t\t_supports3D = (_checkPropPrefix(\"perspective\") !== null),\n\t\t\tTransform = _internals.Transform = function() {\n\t\t\t\tthis.perspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0;\n\t\t\t\tthis.force3D = (CSSPlugin.defaultForce3D === false || !_supports3D) ? false : CSSPlugin.defaultForce3D || \"auto\";\n\t\t\t},\n\t\t\t_SVGElement = _gsScope.SVGElement,\n\t\t\t_useSVGTransformAttr,\n\t\t\t//Some browsers (like Firefox and IE) don't honor transform-origin properly in SVG elements, so we need to manually adjust the matrix accordingly. We feature detect here rather than always doing the conversion for certain browsers because they may fix the problem at some point in the future.\n\n\t\t\t_createSVG = function(type, container, attributes) {\n\t\t\t\tvar element = _doc.createElementNS(\"http://www.w3.org/2000/svg\", type),\n\t\t\t\t\treg = /([a-z])([A-Z])/g,\n\t\t\t\t\tp;\n\t\t\t\tfor (p in attributes) {\n\t\t\t\t\telement.setAttributeNS(null, p.replace(reg, \"$1-$2\").toLowerCase(), attributes[p]);\n\t\t\t\t}\n\t\t\t\tcontainer.appendChild(element);\n\t\t\t\treturn element;\n\t\t\t},\n\t\t\t_docElement = _doc.documentElement || {},\n\t\t\t_forceSVGTransformAttr = (function() {\n\t\t\t\t//IE and Android stock don't support CSS transforms on SVG elements, so we must write them to the \"transform\" attribute. We populate this variable in the _parseTransform() method, and only if/when we come across an SVG element\n\t\t\t\tvar force = _ieVers || (/Android/i.test(_agent) && !_gsScope.chrome),\n\t\t\t\t\tsvg, rect, width;\n\t\t\t\tif (_doc.createElementNS && _docElement.appendChild && !force) { //IE8 and earlier doesn't support SVG anyway\n\t\t\t\t\tsvg = _createSVG(\"svg\", _docElement);\n\t\t\t\t\trect = _createSVG(\"rect\", svg, {width:100, height:50, x:100});\n\t\t\t\t\twidth = rect.getBoundingClientRect().width;\n\t\t\t\t\trect.style[_transformOriginProp] = \"50% 50%\";\n\t\t\t\t\trect.style[_transformProp] = \"scaleX(0.5)\";\n\t\t\t\t\tforce = (width === rect.getBoundingClientRect().width && !(_isFirefox && _supports3D)); //note: Firefox fails the test even though it does support CSS transforms in 3D. Since we can't push 3D stuff into the transform attribute, we force Firefox to pass the test here (as long as it does truly support 3D).\n\t\t\t\t\t_docElement.removeChild(svg);\n\t\t\t\t}\n\t\t\t\treturn force;\n\t\t\t})(),\n\t\t\t_parseSVGOrigin = function(e, local, decoratee, absolute, smoothOrigin, skipRecord) {\n\t\t\t\tvar tm = e._gsTransform,\n\t\t\t\t\tm = _getMatrix(e, true),\n\t\t\t\t\tv, x, y, xOrigin, yOrigin, a, b, c, d, tx, ty, determinant, xOriginOld, yOriginOld;\n\t\t\t\tif (tm) {\n\t\t\t\t\txOriginOld = tm.xOrigin; //record the original values before we alter them.\n\t\t\t\t\tyOriginOld = tm.yOrigin;\n\t\t\t\t}\n\t\t\t\tif (!absolute || (v = absolute.split(\" \")).length < 2) {\n\t\t\t\t\tb = e.getBBox();\n\t\t\t\t\tif (b.x === 0 && b.y === 0 && b.width + b.height === 0) { //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\t\t\t\t\t\tb = {x: parseFloat(e.hasAttribute(\"x\") ? e.getAttribute(\"x\") : e.hasAttribute(\"cx\") ? e.getAttribute(\"cx\") : 0) || 0, y: parseFloat(e.hasAttribute(\"y\") ? e.getAttribute(\"y\") : e.hasAttribute(\"cy\") ? e.getAttribute(\"cy\") : 0) || 0, width:0, height:0};\n\t\t\t\t\t}\n\t\t\t\t\tlocal = _parsePosition(local).split(\" \");\n\t\t\t\t\tv = [(local[0].indexOf(\"%\") !== -1 ? parseFloat(local[0]) / 100 * b.width : parseFloat(local[0])) + b.x,\n\t\t\t\t\t\t (local[1].indexOf(\"%\") !== -1 ? parseFloat(local[1]) / 100 * b.height : parseFloat(local[1])) + b.y];\n\t\t\t\t}\n\t\t\t\tdecoratee.xOrigin = xOrigin = parseFloat(v[0]);\n\t\t\t\tdecoratee.yOrigin = yOrigin = parseFloat(v[1]);\n\t\t\t\tif (absolute && m !== _identity2DMatrix) { //if svgOrigin is being set, we must invert the matrix and determine where the absolute point is, factoring in the current transforms. Otherwise, the svgOrigin would be based on the element's non-transformed position on the canvas.\n\t\t\t\t\ta = m[0];\n\t\t\t\t\tb = m[1];\n\t\t\t\t\tc = m[2];\n\t\t\t\t\td = m[3];\n\t\t\t\t\ttx = m[4];\n\t\t\t\t\tty = m[5];\n\t\t\t\t\tdeterminant = (a * d - b * c);\n\t\t\t\t\tif (determinant) { //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n\t\t\t\t\t\tx = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + ((c * ty - d * tx) / determinant);\n\t\t\t\t\t\ty = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - ((a * ty - b * tx) / determinant);\n\t\t\t\t\t\txOrigin = decoratee.xOrigin = v[0] = x;\n\t\t\t\t\t\tyOrigin = decoratee.yOrigin = v[1] = y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (tm) { //avoid jump when transformOrigin is changed - adjust the x/y values accordingly\n\t\t\t\t\tif (skipRecord) {\n\t\t\t\t\t\tdecoratee.xOffset = tm.xOffset;\n\t\t\t\t\t\tdecoratee.yOffset = tm.yOffset;\n\t\t\t\t\t\ttm = decoratee;\n\t\t\t\t\t}\n\t\t\t\t\tif (smoothOrigin || (smoothOrigin !== false && CSSPlugin.defaultSmoothOrigin !== false)) {\n\t\t\t\t\t\tx = xOrigin - xOriginOld;\n\t\t\t\t\t\ty = yOrigin - yOriginOld;\n\t\t\t\t\t\t//originally, we simply adjusted the x and y values, but that would cause problems if, for example, you created a rotational tween part-way through an x/y tween. Managing the offset in a separate variable gives us ultimate flexibility.\n\t\t\t\t\t\t//tm.x -= x - (x * m[0] + y * m[2]);\n\t\t\t\t\t\t//tm.y -= y - (x * m[1] + y * m[3]);\n\t\t\t\t\t\ttm.xOffset += (x * m[0] + y * m[2]) - x;\n\t\t\t\t\t\ttm.yOffset += (x * m[1] + y * m[3]) - y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttm.xOffset = tm.yOffset = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skipRecord) {\n\t\t\t\t\te.setAttribute(\"data-svg-origin\", v.join(\" \"));\n\t\t\t\t}\n\t\t\t},\n\t\t\t_getBBoxHack = function(swapIfPossible) { //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n\t\t\t\tvar svg = _createElement(\"svg\", (this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\")) || \"http://www.w3.org/2000/svg\"),\n\t\t\t\t\toldParent = this.parentNode,\n\t\t\t\t\toldSibling = this.nextSibling,\n\t\t\t\t\toldCSS = this.style.cssText,\n\t\t\t\t\tbbox;\n\t\t\t\t_docElement.appendChild(svg);\n\t\t\t\tsvg.appendChild(this);\n\t\t\t\tthis.style.display = \"block\";\n\t\t\t\tif (swapIfPossible) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tbbox = this.getBBox();\n\t\t\t\t\t\tthis._originalGetBBox = this.getBBox;\n\t\t\t\t\t\tthis.getBBox = _getBBoxHack;\n\t\t\t\t\t} catch (e) { }\n\t\t\t\t} else if (this._originalGetBBox) {\n\t\t\t\t\tbbox = this._originalGetBBox();\n\t\t\t\t}\n\t\t\t\tif (oldSibling) {\n\t\t\t\t\toldParent.insertBefore(this, oldSibling);\n\t\t\t\t} else {\n\t\t\t\t\toldParent.appendChild(this);\n\t\t\t\t}\n\t\t\t\t_docElement.removeChild(svg);\n\t\t\t\tthis.style.cssText = oldCSS;\n\t\t\t\treturn bbox;\n\t\t\t},\n\t\t\t_getBBox = function(e) {\n\t\t\t\ttry {\n\t\t\t\t\treturn e.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n\t\t\t\t} catch (error) {\n\t\t\t\t\treturn _getBBoxHack.call(e, true);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_isSVG = function(e) { //reports if the element is an SVG on which getBBox() actually works\n\t\t\t\treturn !!(_SVGElement && e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n\t\t\t},\n\t\t\t_identity2DMatrix = [1,0,0,1,0,0],\n\t\t\t_getMatrix = function(e, force2D) {\n\t\t\t\tvar tm = e._gsTransform || new Transform(),\n\t\t\t\t\trnd = 100000,\n\t\t\t\t\tstyle = e.style,\n\t\t\t\t\tisDefault, s, m, n, dec, nextSibling, parent;\n\t\t\t\tif (_transformProp) {\n\t\t\t\t\ts = _getStyle(e, _transformPropCSS, null, true);\n\t\t\t\t} else if (e.currentStyle) {\n\t\t\t\t\t//for older versions of IE, we need to interpret the filter portion that is in the format: progid:DXImageTransform.Microsoft.Matrix(M11=6.123233995736766e-17, M12=-1, M21=1, M22=6.123233995736766e-17, sizingMethod='auto expand') Notice that we need to swap b and c compared to a normal matrix.\n\t\t\t\t\ts = e.currentStyle.filter.match(_ieGetMatrixExp);\n\t\t\t\t\ts = (s && s.length === 4) ? [s[0].substr(4), Number(s[2].substr(4)), Number(s[1].substr(4)), s[3].substr(4), (tm.x || 0), (tm.y || 0)].join(\",\") : \"\";\n\t\t\t\t}\n\t\t\t\tisDefault = (!s || s === \"none\" || s === \"matrix(1, 0, 0, 1, 0, 0)\");\n\t\t\t\tif (_transformProp && isDefault && !e.offsetParent && e !== _docElement) { //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n\t\t\t\t\t//browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n\t\t\t\t\tn = style.display;\n\t\t\t\t\tstyle.display = \"block\";\n\t\t\t\t\tparent = e.parentNode;\n\t\t\t\t\tif (!parent || !e.offsetParent) {\n\t\t\t\t\t\tdec = 1; //flag\n\t\t\t\t\t\tnextSibling = e.nextSibling;\n\t\t\t\t\t\t_docElement.appendChild(e); //we must add it to the DOM in order to get values properly\n\t\t\t\t\t}\n\t\t\t\t\ts = _getStyle(e, _transformPropCSS, null, true);\n\t\t\t\t\tisDefault = (!s || s === \"none\" || s === \"matrix(1, 0, 0, 1, 0, 0)\");\n\t\t\t\t\tif (n) {\n\t\t\t\t\t\tstyle.display = n;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_removeProp(style, \"display\");\n\t\t\t\t\t}\n\t\t\t\t\tif (dec) {\n\t\t\t\t\t\tif (nextSibling) {\n\t\t\t\t\t\t\tparent.insertBefore(e, nextSibling);\n\t\t\t\t\t\t} else if (parent) {\n\t\t\t\t\t\t\tparent.appendChild(e);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_docElement.removeChild(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (tm.svg || (e.getCTM && _isSVG(e))) {\n\t\t\t\t\tif (isDefault && (style[_transformProp] + \"\").indexOf(\"matrix\") !== -1) { //some browsers (like Chrome 40) don't correctly report transforms that are applied inline on an SVG element (they don't get included in the computed style), so we double-check here and accept matrix values\n\t\t\t\t\t\ts = style[_transformProp];\n\t\t\t\t\t\tisDefault = 0;\n\t\t\t\t\t}\n\t\t\t\t\tm = e.getAttribute(\"transform\");\n\t\t\t\t\tif (isDefault && m) {\n\t\t\t\t\t\tm = e.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\t\t\t\t\t\ts = \"matrix(\" + m.a + \",\" + m.b + \",\" + m.c + \",\" + m.d + \",\" + m.e + \",\" + m.f + \")\";\n\t\t\t\t\t\tisDefault = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isDefault) {\n\t\t\t\t\treturn _identity2DMatrix;\n\t\t\t\t}\n\t\t\t\t//split the matrix values out into an array (m for matrix)\n\t\t\t\tm = (s || \"\").match(_numExp) || [];\n\t\t\t\ti = m.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tn = Number(m[i]);\n\t\t\t\t\tm[i] = (dec = n - (n |= 0)) ? ((dec * rnd + (dec < 0 ? -0.5 : 0.5)) | 0) / rnd + n : n; //convert strings to Numbers and round to 5 decimal places to avoid issues with tiny numbers. Roughly 20x faster than Number.toFixed(). We also must make sure to round before dividing so that values like 0.9999999999 become 1 to avoid glitches in browser rendering and interpretation of flipped/rotated 3D matrices. And don't just multiply the number by rnd, floor it, and then divide by rnd because the bitwise operations max out at a 32-bit signed integer, thus it could get clipped at a relatively low value (like 22,000.00000 for example).\n\t\t\t\t}\n\t\t\t\treturn (force2D && m.length > 6) ? [m[0], m[1], m[4], m[5], m[12], m[13]] : m;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Parses the transform values for an element, returning an object with x, y, z, scaleX, scaleY, scaleZ, rotation, rotationX, rotationY, skewX, and skewY properties. Note: by default (for performance reasons), all skewing is combined into skewX and rotation but skewY still has a place in the transform object so that we can record how much of the skew is attributed to skewX vs skewY. Remember, a skewY of 10 looks the same as a rotation of 10 and skewX of -10.\n\t\t\t * @param {!Object} t target element\n\t\t\t * @param {Object=} cs computed style object (optional)\n\t\t\t * @param {boolean=} rec if true, the transform values will be recorded to the target element's _gsTransform object, like target._gsTransform = {x:0, y:0, z:0, scaleX:1...}\n\t\t\t * @param {boolean=} parse if true, we'll ignore any _gsTransform values that already exist on the element, and force a reparsing of the css (calculated style)\n\t\t\t * @return {object} object containing all of the transform properties/values like {x:0, y:0, z:0, scaleX:1...}\n\t\t\t */\n\t\t\t_getTransform = _internals.getTransform = function(t, cs, rec, parse) {\n\t\t\t\tif (t._gsTransform && rec && !parse) {\n\t\t\t\t\treturn t._gsTransform; //if the element already has a _gsTransform, use that. Note: some browsers don't accurately return the calculated style for the transform (particularly for SVG), so it's almost always safest to just use the values we've already applied rather than re-parsing things.\n\t\t\t\t}\n\t\t\t\tvar tm = rec ? t._gsTransform || new Transform() : new Transform(),\n\t\t\t\t\tinvX = (tm.scaleX < 0), //in order to interpret things properly, we need to know if the user applied a negative scaleX previously so that we can adjust the rotation and skewX accordingly. Otherwise, if we always interpret a flipped matrix as affecting scaleY and the user only wants to tween the scaleX on multiple sequential tweens, it would keep the negative scaleY without that being the user's intent.\n\t\t\t\t\tmin = 0.00002,\n\t\t\t\t\trnd = 100000,\n\t\t\t\t\tzOrigin = _supports3D ? parseFloat(_getStyle(t, _transformOriginProp, cs, false, \"0 0 0\").split(\" \")[2]) || tm.zOrigin  || 0 : 0,\n\t\t\t\t\tdefaultTransformPerspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0,\n\t\t\t\t\tm, i, scaleX, scaleY, rotation, skewX;\n\n\t\t\t\ttm.svg = !!(t.getCTM && _isSVG(t));\n\t\t\t\tif (tm.svg) {\n\t\t\t\t\t_parseSVGOrigin(t, _getStyle(t, _transformOriginProp, cs, false, \"50% 50%\") + \"\", tm, t.getAttribute(\"data-svg-origin\"));\n\t\t\t\t\t_useSVGTransformAttr = CSSPlugin.useSVGTransformAttr || _forceSVGTransformAttr;\n\t\t\t\t}\n\t\t\t\tm = _getMatrix(t);\n\t\t\t\tif (m !== _identity2DMatrix) {\n\n\t\t\t\t\tif (m.length === 16) {\n\t\t\t\t\t\t//we'll only look at these position-related 6 variables first because if x/y/z all match, it's relatively safe to assume we don't need to re-parse everything which risks losing important rotational information (like rotationX:180 plus rotationY:180 would look the same as rotation:180 - there's no way to know for sure which direction was taken based solely on the matrix3d() values)\n\t\t\t\t\t\tvar a11 = m[0], a21 = m[1], a31 = m[2], a41 = m[3],\n\t\t\t\t\t\t\ta12 = m[4], a22 = m[5], a32 = m[6], a42 = m[7],\n\t\t\t\t\t\t\ta13 = m[8], a23 = m[9], a33 = m[10],\n\t\t\t\t\t\t\ta14 = m[12], a24 = m[13], a34 = m[14],\n\t\t\t\t\t\t\ta43 = m[11],\n\t\t\t\t\t\t\tangle = Math.atan2(a32, a33),\n\t\t\t\t\t\t\tt1, t2, t3, t4, cos, sin;\n\t\t\t\t\t\t//we manually compensate for non-zero z component of transformOrigin to work around bugs in Safari\n\t\t\t\t\t\tif (tm.zOrigin) {\n\t\t\t\t\t\t\ta34 = -tm.zOrigin;\n\t\t\t\t\t\t\ta14 = a13*a34-m[12];\n\t\t\t\t\t\t\ta24 = a23*a34-m[13];\n\t\t\t\t\t\t\ta34 = a33*a34+tm.zOrigin-m[14];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//note for possible future consolidation: rotationX: Math.atan2(a32, a33), rotationY: Math.atan2(-a31, Math.sqrt(a33 * a33 + a32 * a32)), rotation: Math.atan2(a21, a11), skew: Math.atan2(a12, a22). However, it doesn't seem to be quite as reliable as the full-on backwards rotation procedure.\n\t\t\t\t\t\ttm.rotationX = angle * _RAD2DEG;\n\t\t\t\t\t\t//rotationX\n\t\t\t\t\t\tif (angle) {\n\t\t\t\t\t\t\tcos = Math.cos(-angle);\n\t\t\t\t\t\t\tsin = Math.sin(-angle);\n\t\t\t\t\t\t\tt1 = a12*cos+a13*sin;\n\t\t\t\t\t\t\tt2 = a22*cos+a23*sin;\n\t\t\t\t\t\t\tt3 = a32*cos+a33*sin;\n\t\t\t\t\t\t\ta13 = a12*-sin+a13*cos;\n\t\t\t\t\t\t\ta23 = a22*-sin+a23*cos;\n\t\t\t\t\t\t\ta33 = a32*-sin+a33*cos;\n\t\t\t\t\t\t\ta43 = a42*-sin+a43*cos;\n\t\t\t\t\t\t\ta12 = t1;\n\t\t\t\t\t\t\ta22 = t2;\n\t\t\t\t\t\t\ta32 = t3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//rotationY\n\t\t\t\t\t\tangle = Math.atan2(-a31, a33);\n\t\t\t\t\t\ttm.rotationY = angle * _RAD2DEG;\n\t\t\t\t\t\tif (angle) {\n\t\t\t\t\t\t\tcos = Math.cos(-angle);\n\t\t\t\t\t\t\tsin = Math.sin(-angle);\n\t\t\t\t\t\t\tt1 = a11*cos-a13*sin;\n\t\t\t\t\t\t\tt2 = a21*cos-a23*sin;\n\t\t\t\t\t\t\tt3 = a31*cos-a33*sin;\n\t\t\t\t\t\t\ta23 = a21*sin+a23*cos;\n\t\t\t\t\t\t\ta33 = a31*sin+a33*cos;\n\t\t\t\t\t\t\ta43 = a41*sin+a43*cos;\n\t\t\t\t\t\t\ta11 = t1;\n\t\t\t\t\t\t\ta21 = t2;\n\t\t\t\t\t\t\ta31 = t3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//rotationZ\n\t\t\t\t\t\tangle = Math.atan2(a21, a11);\n\t\t\t\t\t\ttm.rotation = angle * _RAD2DEG;\n\t\t\t\t\t\tif (angle) {\n\t\t\t\t\t\t\tcos = Math.cos(angle);\n\t\t\t\t\t\t\tsin = Math.sin(angle);\n\t\t\t\t\t\t\tt1 = a11*cos+a21*sin;\n\t\t\t\t\t\t\tt2 = a12*cos+a22*sin;\n\t\t\t\t\t\t\tt3 = a13*cos+a23*sin;\n\t\t\t\t\t\t\ta21 = a21*cos-a11*sin;\n\t\t\t\t\t\t\ta22 = a22*cos-a12*sin;\n\t\t\t\t\t\t\ta23 = a23*cos-a13*sin;\n\t\t\t\t\t\t\ta11 = t1;\n\t\t\t\t\t\t\ta12 = t2;\n\t\t\t\t\t\t\ta13 = t3;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tm.rotationX && Math.abs(tm.rotationX) + Math.abs(tm.rotation) > 359.9) { //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n\t\t\t\t\t\t\ttm.rotationX = tm.rotation = 0;\n\t\t\t\t\t\t\ttm.rotationY = 180 - tm.rotationY;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//skewX\n\t\t\t\t\t\tangle = Math.atan2(a12, a22);\n\n\t\t\t\t\t\t//scales\n\t\t\t\t\t\ttm.scaleX = ((Math.sqrt(a11 * a11 + a21 * a21 + a31 * a31) * rnd + 0.5) | 0) / rnd;\n\t\t\t\t\t\ttm.scaleY = ((Math.sqrt(a22 * a22 + a32 * a32) * rnd + 0.5) | 0) / rnd;\n\t\t\t\t\t\ttm.scaleZ = ((Math.sqrt(a13 * a13 + a23 * a23 + a33 * a33) * rnd + 0.5) | 0) / rnd;\n\t\t\t\t\t\ta11 /= tm.scaleX;\n\t\t\t\t\t\ta12 /= tm.scaleY;\n\t\t\t\t\t\ta21 /= tm.scaleX;\n\t\t\t\t\t\ta22 /= tm.scaleY;\n\t\t\t\t\t\tif (Math.abs(angle) > min) {\n\t\t\t\t\t\t\ttm.skewX = angle * _RAD2DEG;\n\t\t\t\t\t\t\ta12 = 0; //unskews\n\t\t\t\t\t\t\tif (tm.skewType !== \"simple\") {\n\t\t\t\t\t\t\t\ttm.scaleY *= 1 / Math.cos(angle); //by default, we compensate the scale based on the skew so that the element maintains a similar proportion when skewed, so we have to alter the scaleY here accordingly to match the default (non-adjusted) skewing that CSS does (stretching more and more as it skews).\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttm.skewX = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* //for testing purposes\n\t\t\t\t\t\tvar transform = \"matrix3d(\",\n\t\t\t\t\t\t\tcomma = \",\",\n\t\t\t\t\t\t\tzero = \"0\";\n\t\t\t\t\t\ta13 /= tm.scaleZ;\n\t\t\t\t\t\ta23 /= tm.scaleZ;\n\t\t\t\t\t\ta31 /= tm.scaleX;\n\t\t\t\t\t\ta32 /= tm.scaleY;\n\t\t\t\t\t\ta33 /= tm.scaleZ;\n\t\t\t\t\t\ttransform += ((a11 < min && a11 > -min) ? zero : a11) + comma + ((a21 < min && a21 > -min) ? zero : a21) + comma + ((a31 < min && a31 > -min) ? zero : a31);\n\t\t\t\t\t\ttransform += comma + ((a41 < min && a41 > -min) ? zero : a41) + comma + ((a12 < min && a12 > -min) ? zero : a12) + comma + ((a22 < min && a22 > -min) ? zero : a22);\n\t\t\t\t\t\ttransform += comma + ((a32 < min && a32 > -min) ? zero : a32) + comma + ((a42 < min && a42 > -min) ? zero : a42) + comma + ((a13 < min && a13 > -min) ? zero : a13);\n\t\t\t\t\t\ttransform += comma + ((a23 < min && a23 > -min) ? zero : a23) + comma + ((a33 < min && a33 > -min) ? zero : a33) + comma + ((a43 < min && a43 > -min) ? zero : a43) + comma;\n\t\t\t\t\t\ttransform += a14 + comma + a24 + comma + a34 + comma + (tm.perspective ? (1 + (-a34 / tm.perspective)) : 1) + \")\";\n\t\t\t\t\t\tconsole.log(transform);\n\t\t\t\t\t\tdocument.querySelector(\".test\").style[_transformProp] = transform;\n\t\t\t\t\t\t*/\n\n\t\t\t\t\t\ttm.perspective = a43 ? 1 / ((a43 < 0) ? -a43 : a43) : 0;\n\t\t\t\t\t\ttm.x = a14;\n\t\t\t\t\t\ttm.y = a24;\n\t\t\t\t\t\ttm.z = a34;\n\t\t\t\t\t\tif (tm.svg) {\n\t\t\t\t\t\t\ttm.x -= tm.xOrigin - (tm.xOrigin * a11 - tm.yOrigin * a12);\n\t\t\t\t\t\t\ttm.y -= tm.yOrigin - (tm.yOrigin * a21 - tm.xOrigin * a22);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ((!_supports3D || parse || !m.length || tm.x !== m[4] || tm.y !== m[5] || (!tm.rotationX && !tm.rotationY))) { //sometimes a 6-element matrix is returned even when we performed 3D transforms, like if rotationX and rotationY are 180. In cases like this, we still need to honor the 3D transforms. If we just rely on the 2D info, it could affect how the data is interpreted, like scaleY might get set to -1 or rotation could get offset by 180 degrees. For example, do a TweenLite.to(element, 1, {css:{rotationX:180, rotationY:180}}) and then later, TweenLite.to(element, 1, {css:{rotationX:0}}) and without this conditional logic in place, it'd jump to a state of being unrotated when the 2nd tween starts. Then again, we need to honor the fact that the user COULD alter the transforms outside of CSSPlugin, like by manually applying new css, so we try to sense that by looking at x and y because if those changed, we know the changes were made outside CSSPlugin and we force a reinterpretation of the matrix values. Also, in Webkit browsers, if the element's \"display\" is \"none\", its calculated style value will always return empty, so if we've already recorded the values in the _gsTransform object, we'll just rely on those.\n\t\t\t\t\t\tvar k = (m.length >= 6),\n\t\t\t\t\t\t\ta = k ? m[0] : 1,\n\t\t\t\t\t\t\tb = m[1] || 0,\n\t\t\t\t\t\t\tc = m[2] || 0,\n\t\t\t\t\t\t\td = k ? m[3] : 1;\n\t\t\t\t\t\ttm.x = m[4] || 0;\n\t\t\t\t\t\ttm.y = m[5] || 0;\n\t\t\t\t\t\tscaleX = Math.sqrt(a * a + b * b);\n\t\t\t\t\t\tscaleY = Math.sqrt(d * d + c * c);\n\t\t\t\t\t\trotation = (a || b) ? Math.atan2(b, a) * _RAD2DEG : tm.rotation || 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\t\t\t\t\t\tskewX = (c || d) ? Math.atan2(c, d) * _RAD2DEG + rotation : tm.skewX || 0;\n\t\t\t\t\t\ttm.scaleX = scaleX;\n\t\t\t\t\t\ttm.scaleY = scaleY;\n\t\t\t\t\t\ttm.rotation = rotation;\n\t\t\t\t\t\ttm.skewX = skewX;\n\t\t\t\t\t\tif (_supports3D) {\n\t\t\t\t\t\t\ttm.rotationX = tm.rotationY = tm.z = 0;\n\t\t\t\t\t\t\ttm.perspective = defaultTransformPerspective;\n\t\t\t\t\t\t\ttm.scaleZ = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tm.svg) {\n\t\t\t\t\t\t\ttm.x -= tm.xOrigin - (tm.xOrigin * a + tm.yOrigin * c);\n\t\t\t\t\t\t\ttm.y -= tm.yOrigin - (tm.xOrigin * b + tm.yOrigin * d);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (Math.abs(tm.skewX) > 90 && Math.abs(tm.skewX) < 270) {\n\t\t\t\t\t\tif (invX) {\n\t\t\t\t\t\t\ttm.scaleX *= -1;\n\t\t\t\t\t\t\ttm.skewX += (tm.rotation <= 0) ? 180 : -180;\n\t\t\t\t\t\t\ttm.rotation += (tm.rotation <= 0) ? 180 : -180;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttm.scaleY *= -1;\n\t\t\t\t\t\t\ttm.skewX += (tm.skewX <= 0) ? 180 : -180;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttm.zOrigin = zOrigin;\n\t\t\t\t\t//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the \"e-\" towards the end) and would render the object slightly off. So we round to 0 in these cases. The conditional logic here is faster than calling Math.abs(). Also, browsers tend to render a SLIGHTLY rotated object in a fuzzy way, so we need to snap to exactly 0 when appropriate.\n\t\t\t\t\tfor (i in tm) {\n\t\t\t\t\t\tif (tm[i] < min) if (tm[i] > -min) {\n\t\t\t\t\t\t\ttm[i] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//DEBUG: _log(\"parsed rotation of \" + t.getAttribute(\"id\")+\": \"+(tm.rotationX)+\", \"+(tm.rotationY)+\", \"+(tm.rotation)+\", scale: \"+tm.scaleX+\", \"+tm.scaleY+\", \"+tm.scaleZ+\", position: \"+tm.x+\", \"+tm.y+\", \"+tm.z+\", perspective: \"+tm.perspective+ \", origin: \"+ tm.xOrigin+ \",\"+ tm.yOrigin);\n\t\t\t\tif (rec) {\n\t\t\t\t\tt._gsTransform = tm; //record to the object's _gsTransform which we use so that tweens can control individual properties independently (we need all the properties to accurately recompose the matrix in the setRatio() method)\n\t\t\t\t\tif (tm.svg) { //if we're supposed to apply transforms to the SVG element's \"transform\" attribute, make sure there aren't any CSS transforms applied or they'll override the attribute ones. Also clear the transform attribute if we're using CSS, just to be clean.\n\t\t\t\t\t\tif (_useSVGTransformAttr && t.style[_transformProp]) {\n\t\t\t\t\t\t\tTweenLite.delayedCall(0.001, function(){ //if we apply this right away (before anything has rendered), we risk there being no transforms for a brief moment and it also interferes with adjusting the transformOrigin in a tween with immediateRender:true (it'd try reading the matrix and it wouldn't have the appropriate data in place because we just removed it).\n\t\t\t\t\t\t\t\t_removeProp(t.style, _transformProp);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (!_useSVGTransformAttr && t.getAttribute(\"transform\")) {\n\t\t\t\t\t\t\tTweenLite.delayedCall(0.001, function(){\n\t\t\t\t\t\t\t\tt.removeAttribute(\"transform\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn tm;\n\t\t\t},\n\n\t\t\t//for setting 2D transforms in IE6, IE7, and IE8 (must use a \"filter\" to emulate the behavior of modern day browser transforms)\n\t\t\t_setIETransformRatio = function(v) {\n\t\t\t\tvar t = this.data, //refers to the element's _gsTransform object\n\t\t\t\t\tang = -t.rotation * _DEG2RAD,\n\t\t\t\t\tskew = ang + t.skewX * _DEG2RAD,\n\t\t\t\t\trnd = 100000,\n\t\t\t\t\ta = ((Math.cos(ang) * t.scaleX * rnd) | 0) / rnd,\n\t\t\t\t\tb = ((Math.sin(ang) * t.scaleX * rnd) | 0) / rnd,\n\t\t\t\t\tc = ((Math.sin(skew) * -t.scaleY * rnd) | 0) / rnd,\n\t\t\t\t\td = ((Math.cos(skew) * t.scaleY * rnd) | 0) / rnd,\n\t\t\t\t\tstyle = this.t.style,\n\t\t\t\t\tcs = this.t.currentStyle,\n\t\t\t\t\tfilters, val;\n\t\t\t\tif (!cs) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tval = b; //just for swapping the variables an inverting them (reused \"val\" to avoid creating another variable in memory). IE's filter matrix uses a non-standard matrix configuration (angle goes the opposite way, and b and c are reversed and inverted)\n\t\t\t\tb = -c;\n\t\t\t\tc = -val;\n\t\t\t\tfilters = cs.filter;\n\t\t\t\tstyle.filter = \"\"; //remove filters so that we can accurately measure offsetWidth/offsetHeight\n\t\t\t\tvar w = this.t.offsetWidth,\n\t\t\t\t\th = this.t.offsetHeight,\n\t\t\t\t\tclip = (cs.position !== \"absolute\"),\n\t\t\t\t\tm = \"progid:DXImageTransform.Microsoft.Matrix(M11=\" + a + \", M12=\" + b + \", M21=\" + c + \", M22=\" + d,\n\t\t\t\t\tox = t.x + (w * t.xPercent / 100),\n\t\t\t\t\toy = t.y + (h * t.yPercent / 100),\n\t\t\t\t\tdx, dy;\n\n\t\t\t\t//if transformOrigin is being used, adjust the offset x and y\n\t\t\t\tif (t.ox != null) {\n\t\t\t\t\tdx = ((t.oxp) ? w * t.ox * 0.01 : t.ox) - w / 2;\n\t\t\t\t\tdy = ((t.oyp) ? h * t.oy * 0.01 : t.oy) - h / 2;\n\t\t\t\t\tox += dx - (dx * a + dy * b);\n\t\t\t\t\toy += dy - (dx * c + dy * d);\n\t\t\t\t}\n\n\t\t\t\tif (!clip) {\n\t\t\t\t\tm += \", sizingMethod='auto expand')\";\n\t\t\t\t} else {\n\t\t\t\t\tdx = (w / 2);\n\t\t\t\t\tdy = (h / 2);\n\t\t\t\t\t//translate to ensure that transformations occur around the correct origin (default is center).\n\t\t\t\t\tm += \", Dx=\" + (dx - (dx * a + dy * b) + ox) + \", Dy=\" + (dy - (dx * c + dy * d) + oy) + \")\";\n\t\t\t\t}\n\t\t\t\tif (filters.indexOf(\"DXImageTransform.Microsoft.Matrix(\") !== -1) {\n\t\t\t\t\tstyle.filter = filters.replace(_ieSetMatrixExp, m);\n\t\t\t\t} else {\n\t\t\t\t\tstyle.filter = m + \" \" + filters; //we must always put the transform/matrix FIRST (before alpha(opacity=xx)) to avoid an IE bug that slices part of the object when rotation is applied with alpha.\n\t\t\t\t}\n\n\t\t\t\t//at the end or beginning of the tween, if the matrix is normal (1, 0, 0, 1) and opacity is 100 (or doesn't exist), remove the filter to improve browser performance.\n\t\t\t\tif (v === 0 || v === 1) if (a === 1) if (b === 0) if (c === 0) if (d === 1) if (!clip || m.indexOf(\"Dx=0, Dy=0\") !== -1) if (!_opacityExp.test(filters) || parseFloat(RegExp.$1) === 100) if (filters.indexOf(\"gradient(\" && filters.indexOf(\"Alpha\")) === -1) {\n\t\t\t\t\tstyle.removeAttribute(\"filter\");\n\t\t\t\t}\n\n\t\t\t\t//we must set the margins AFTER applying the filter in order to avoid some bugs in IE8 that could (in rare scenarios) cause them to be ignored intermittently (vibration).\n\t\t\t\tif (!clip) {\n\t\t\t\t\tvar mult = (_ieVers < 8) ? 1 : -1, //in Internet Explorer 7 and before, the box model is broken, causing the browser to treat the width/height of the actual rotated filtered image as the width/height of the box itself, but Microsoft corrected that in IE8. We must use a negative offset in IE8 on the right/bottom\n\t\t\t\t\t\tmarg, prop, dif;\n\t\t\t\t\tdx = t.ieOffsetX || 0;\n\t\t\t\t\tdy = t.ieOffsetY || 0;\n\t\t\t\t\tt.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox);\n\t\t\t\t\tt.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy);\n\t\t\t\t\tfor (i = 0; i < 4; i++) {\n\t\t\t\t\t\tprop = _margins[i];\n\t\t\t\t\t\tmarg = cs[prop];\n\t\t\t\t\t\t//we need to get the current margin in case it is being tweened separately (we want to respect that tween's changes)\n\t\t\t\t\t\tval = (marg.indexOf(\"px\") !== -1) ? parseFloat(marg) : _convertToPixels(this.t, prop, parseFloat(marg), marg.replace(_suffixExp, \"\")) || 0;\n\t\t\t\t\t\tif (val !== t[prop]) {\n\t\t\t\t\t\t\tdif = (i < 2) ? -t.ieOffsetX : -t.ieOffsetY; //if another tween is controlling a margin, we cannot only apply the difference in the ieOffsets, so we essentially zero-out the dx and dy here in that case. We record the margin(s) later so that we can keep comparing them, making this code very flexible.\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdif = (i < 2) ? dx - t.ieOffsetX : dy - t.ieOffsetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle[prop] = (t[prop] = Math.round( val - dif * ((i === 0 || i === 2) ? 1 : mult) )) + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/* translates a super small decimal to a string WITHOUT scientific notation\n\t\t\t_safeDecimal = function(n) {\n\t\t\t\tvar s = (n < 0 ? -n : n) + \"\",\n\t\t\t\t\ta = s.split(\"e-\");\n\t\t\t\treturn (n < 0 ? \"-0.\" : \"0.\") + new Array(parseInt(a[1], 10) || 0).join(\"0\") + a[0].split(\".\").join(\"\");\n\t\t\t},\n\t\t\t*/\n\n\t\t\t_setTransformRatio = _internals.set3DTransformRatio = _internals.setTransformRatio = function(v) {\n\t\t\t\tvar t = this.data, //refers to the element's _gsTransform object\n\t\t\t\t\tstyle = this.t.style,\n\t\t\t\t\tangle = t.rotation,\n\t\t\t\t\trotationX = t.rotationX,\n\t\t\t\t\trotationY = t.rotationY,\n\t\t\t\t\tsx = t.scaleX,\n\t\t\t\t\tsy = t.scaleY,\n\t\t\t\t\tsz = t.scaleZ,\n\t\t\t\t\tx = t.x,\n\t\t\t\t\ty = t.y,\n\t\t\t\t\tz = t.z,\n\t\t\t\t\tisSVG = t.svg,\n\t\t\t\t\tperspective = t.perspective,\n\t\t\t\t\tforce3D = t.force3D,\n\t\t\t\t\tskewY = t.skewY,\n\t\t\t\t\tskewX = t.skewX,\n\t\t\t\t\tt1,\ta11, a12, a13, a21, a22, a23, a31, a32, a33, a41, a42, a43,\n\t\t\t\t\tzOrigin, min, cos, sin, t2, transform, comma, zero, skew, rnd;\n\t\t\t\tif (skewY) { //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n\t\t\t\t\tskewX += skewY;\n\t\t\t\t\tangle += skewY;\n\t\t\t\t}\n\n\t\t\t\t//check to see if we should render as 2D (and SVGs must use 2D when _useSVGTransformAttr is true)\n\t\t\t\tif (((((v === 1 || v === 0) && force3D === \"auto\" && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime)) || !force3D) && !z && !perspective && !rotationY && !rotationX && sz === 1) || (_useSVGTransformAttr && isSVG) || !_supports3D) { //on the final render (which could be 0 for a from tween), if there are no 3D aspects, render in 2D to free up memory and improve performance especially on mobile devices. Check the tween's totalTime/totalDuration too in order to make sure it doesn't happen between repeats if it's a repeating tween.\n\n\t\t\t\t\t//2D\n\t\t\t\t\tif (angle || skewX || isSVG) {\n\t\t\t\t\t\tangle *= _DEG2RAD;\n\t\t\t\t\t\tskew = skewX * _DEG2RAD;\n\t\t\t\t\t\trnd = 100000;\n\t\t\t\t\t\ta11 = Math.cos(angle) * sx;\n\t\t\t\t\t\ta21 = Math.sin(angle) * sx;\n\t\t\t\t\t\ta12 = Math.sin(angle - skew) * -sy;\n\t\t\t\t\t\ta22 = Math.cos(angle - skew) * sy;\n\t\t\t\t\t\tif (skew && t.skewType === \"simple\") { //by default, we compensate skewing on the other axis to make it look more natural, but you can set the skewType to \"simple\" to use the uncompensated skewing that CSS does\n\t\t\t\t\t\t\tt1 = Math.tan(skew - skewY * _DEG2RAD);\n\t\t\t\t\t\t\tt1 = Math.sqrt(1 + t1 * t1);\n\t\t\t\t\t\t\ta12 *= t1;\n\t\t\t\t\t\t\ta22 *= t1;\n\t\t\t\t\t\t\tif (skewY) {\n\t\t\t\t\t\t\t\tt1 = Math.tan(skewY * _DEG2RAD);\n\t\t\t\t\t\t\t\tt1 = Math.sqrt(1 + t1 * t1);\n\t\t\t\t\t\t\t\ta11 *= t1;\n\t\t\t\t\t\t\t\ta21 *= t1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSVG) {\n\t\t\t\t\t\t\tx += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset;\n\t\t\t\t\t\t\ty += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset;\n\t\t\t\t\t\t\tif (_useSVGTransformAttr && (t.xPercent || t.yPercent)) { //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the matrix to simulate it.\n\t\t\t\t\t\t\t\tmin = this.t.getBBox();\n\t\t\t\t\t\t\t\tx += t.xPercent * 0.01 * min.width;\n\t\t\t\t\t\t\t\ty += t.yPercent * 0.01 * min.height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin = 0.000001;\n\t\t\t\t\t\t\tif (x < min) if (x > -min) {\n\t\t\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (y < min) if (y > -min) {\n\t\t\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttransform = (((a11 * rnd) | 0) / rnd) + \",\" + (((a21 * rnd) | 0) / rnd) + \",\" + (((a12 * rnd) | 0) / rnd) + \",\" + (((a22 * rnd) | 0) / rnd) + \",\" + x + \",\" + y + \")\";\n\t\t\t\t\t\tif (isSVG && _useSVGTransformAttr) {\n\t\t\t\t\t\t\tthis.t.setAttribute(\"transform\", \"matrix(\" + transform);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the \"e-\" towards the end) and would render the object slightly off. So we round to 5 decimal places.\n\t\t\t\t\t\t\tstyle[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix(\" : \"matrix(\") + transform;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix(\" : \"matrix(\") + sx + \",0,0,\" + sy + \",\" + x + \",\" + y + \")\";\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\t\t\t\tif (_isFirefox) { //Firefox has a bug (at least in v25) that causes it to render the transparent part of 32-bit PNG images as black when displayed inside an iframe and the 3D scale is very small and doesn't change sufficiently enough between renders (like if you use a Power4.easeInOut to scale from 0 to 1 where the beginning values only change a tiny amount to begin the tween before accelerating). In this case, we force the scale to be 0.00002 instead which is visually the same but works around the Firefox issue.\n\t\t\t\t\tmin = 0.0001;\n\t\t\t\t\tif (sx < min && sx > -min) {\n\t\t\t\t\t\tsx = sz = 0.00002;\n\t\t\t\t\t}\n\t\t\t\t\tif (sy < min && sy > -min) {\n\t\t\t\t\t\tsy = sz = 0.00002;\n\t\t\t\t\t}\n\t\t\t\t\tif (perspective && !t.z && !t.rotationX && !t.rotationY) { //Firefox has a bug that causes elements to have an odd super-thin, broken/dotted black border on elements that have a perspective set but aren't utilizing 3D space (no rotationX, rotationY, or z).\n\t\t\t\t\t\tperspective = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (angle || skewX) {\n\t\t\t\t\tangle *= _DEG2RAD;\n\t\t\t\t\tcos = a11 = Math.cos(angle);\n\t\t\t\t\tsin = a21 = Math.sin(angle);\n\t\t\t\t\tif (skewX) {\n\t\t\t\t\t\tangle -= skewX * _DEG2RAD;\n\t\t\t\t\t\tcos = Math.cos(angle);\n\t\t\t\t\t\tsin = Math.sin(angle);\n\t\t\t\t\t\tif (t.skewType === \"simple\") { //by default, we compensate skewing on the other axis to make it look more natural, but you can set the skewType to \"simple\" to use the uncompensated skewing that CSS does\n\t\t\t\t\t\t\tt1 = Math.tan((skewX - skewY) * _DEG2RAD);\n\t\t\t\t\t\t\tt1 = Math.sqrt(1 + t1 * t1);\n\t\t\t\t\t\t\tcos *= t1;\n\t\t\t\t\t\t\tsin *= t1;\n\t\t\t\t\t\t\tif (t.skewY) {\n\t\t\t\t\t\t\t\tt1 = Math.tan(skewY * _DEG2RAD);\n\t\t\t\t\t\t\t\tt1 = Math.sqrt(1 + t1 * t1);\n\t\t\t\t\t\t\t\ta11 *= t1;\n\t\t\t\t\t\t\t\ta21 *= t1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ta12 = -sin;\n\t\t\t\t\ta22 = cos;\n\n\t\t\t\t} else if (!rotationY && !rotationX && sz === 1 && !perspective && !isSVG) { //if we're only translating and/or 2D scaling, this is faster...\n\t\t\t\t\tstyle[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) translate3d(\" : \"translate3d(\") + x + \"px,\" + y + \"px,\" + z +\"px)\" + ((sx !== 1 || sy !== 1) ? \" scale(\" + sx + \",\" + sy + \")\" : \"\");\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\ta11 = a22 = 1;\n\t\t\t\t\ta12 = a21 = 0;\n\t\t\t\t}\n\t\t\t\t// KEY  INDEX   AFFECTS a[row][column]\n\t\t\t\t// a11  0       rotation, rotationY, scaleX\n\t\t\t\t// a21  1       rotation, rotationY, scaleX\n\t\t\t\t// a31  2       rotationY, scaleX\n\t\t\t\t// a41  3       rotationY, scaleX\n\t\t\t\t// a12  4       rotation, skewX, rotationX, scaleY\n\t\t\t\t// a22  5       rotation, skewX, rotationX, scaleY\n\t\t\t\t// a32  6       rotationX, scaleY\n\t\t\t\t// a42  7       rotationX, scaleY\n\t\t\t\t// a13  8       rotationY, rotationX, scaleZ\n\t\t\t\t// a23  9       rotationY, rotationX, scaleZ\n\t\t\t\t// a33  10      rotationY, rotationX, scaleZ\n\t\t\t\t// a43  11      rotationY, rotationX, perspective, scaleZ\n\t\t\t\t// a14  12      x, zOrigin, svgOrigin\n\t\t\t\t// a24  13      y, zOrigin, svgOrigin\n\t\t\t\t// a34  14      z, zOrigin\n\t\t\t\t// a44  15\n\t\t\t\t// rotation: Math.atan2(a21, a11)\n\t\t\t\t// rotationY: Math.atan2(a13, a33) (or Math.atan2(a13, a11))\n\t\t\t\t// rotationX: Math.atan2(a32, a33)\n\t\t\t\ta33 = 1;\n\t\t\t\ta13 = a23 = a31 = a32 = a41 = a42 = 0;\n\t\t\t\ta43 = (perspective) ? -1 / perspective : 0;\n\t\t\t\tzOrigin = t.zOrigin;\n\t\t\t\tmin = 0.000001; //threshold below which browsers use scientific notation which won't work.\n\t\t\t\tcomma = \",\";\n\t\t\t\tzero = \"0\";\n\t\t\t\tangle = rotationY * _DEG2RAD;\n\t\t\t\tif (angle) {\n\t\t\t\t\tcos = Math.cos(angle);\n\t\t\t\t\tsin = Math.sin(angle);\n\t\t\t\t\ta31 = -sin;\n\t\t\t\t\ta41 = a43*-sin;\n\t\t\t\t\ta13 = a11*sin;\n\t\t\t\t\ta23 = a21*sin;\n\t\t\t\t\ta33 = cos;\n\t\t\t\t\ta43 *= cos;\n\t\t\t\t\ta11 *= cos;\n\t\t\t\t\ta21 *= cos;\n\t\t\t\t}\n\t\t\t\tangle = rotationX * _DEG2RAD;\n\t\t\t\tif (angle) {\n\t\t\t\t\tcos = Math.cos(angle);\n\t\t\t\t\tsin = Math.sin(angle);\n\t\t\t\t\tt1 = a12*cos+a13*sin;\n\t\t\t\t\tt2 = a22*cos+a23*sin;\n\t\t\t\t\ta32 = a33*sin;\n\t\t\t\t\ta42 = a43*sin;\n\t\t\t\t\ta13 = a12*-sin+a13*cos;\n\t\t\t\t\ta23 = a22*-sin+a23*cos;\n\t\t\t\t\ta33 = a33*cos;\n\t\t\t\t\ta43 = a43*cos;\n\t\t\t\t\ta12 = t1;\n\t\t\t\t\ta22 = t2;\n\t\t\t\t}\n\t\t\t\tif (sz !== 1) {\n\t\t\t\t\ta13*=sz;\n\t\t\t\t\ta23*=sz;\n\t\t\t\t\ta33*=sz;\n\t\t\t\t\ta43*=sz;\n\t\t\t\t}\n\t\t\t\tif (sy !== 1) {\n\t\t\t\t\ta12*=sy;\n\t\t\t\t\ta22*=sy;\n\t\t\t\t\ta32*=sy;\n\t\t\t\t\ta42*=sy;\n\t\t\t\t}\n\t\t\t\tif (sx !== 1) {\n\t\t\t\t\ta11*=sx;\n\t\t\t\t\ta21*=sx;\n\t\t\t\t\ta31*=sx;\n\t\t\t\t\ta41*=sx;\n\t\t\t\t}\n\n\t\t\t\tif (zOrigin || isSVG) {\n\t\t\t\t\tif (zOrigin) {\n\t\t\t\t\t\tx += a13*-zOrigin;\n\t\t\t\t\t\ty += a23*-zOrigin;\n\t\t\t\t\t\tz += a33*-zOrigin+zOrigin;\n\t\t\t\t\t}\n\t\t\t\t\tif (isSVG) { //due to bugs in some browsers, we need to manage the transform-origin of SVG manually\n\t\t\t\t\t\tx += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset;\n\t\t\t\t\t\ty += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset;\n\t\t\t\t\t}\n\t\t\t\t\tif (x < min && x > -min) {\n\t\t\t\t\t\tx = zero;\n\t\t\t\t\t}\n\t\t\t\t\tif (y < min && y > -min) {\n\t\t\t\t\t\ty = zero;\n\t\t\t\t\t}\n\t\t\t\t\tif (z < min && z > -min) {\n\t\t\t\t\t\tz = 0; //don't use string because we calculate perspective later and need the number.\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//optimized way of concatenating all the values into a string. If we do it all in one shot, it's slower because of the way browsers have to create temp strings and the way it affects memory. If we do it piece-by-piece with +=, it's a bit slower too. We found that doing it in these sized chunks works best overall:\n\t\t\t\ttransform = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix3d(\" : \"matrix3d(\");\n\t\t\t\ttransform += ((a11 < min && a11 > -min) ? zero : a11) + comma + ((a21 < min && a21 > -min) ? zero : a21) + comma + ((a31 < min && a31 > -min) ? zero : a31);\n\t\t\t\ttransform += comma + ((a41 < min && a41 > -min) ? zero : a41) + comma + ((a12 < min && a12 > -min) ? zero : a12) + comma + ((a22 < min && a22 > -min) ? zero : a22);\n\t\t\t\tif (rotationX || rotationY || sz !== 1) { //performance optimization (often there's no rotationX or rotationY, so we can skip these calculations)\n\t\t\t\t\ttransform += comma + ((a32 < min && a32 > -min) ? zero : a32) + comma + ((a42 < min && a42 > -min) ? zero : a42) + comma + ((a13 < min && a13 > -min) ? zero : a13);\n\t\t\t\t\ttransform += comma + ((a23 < min && a23 > -min) ? zero : a23) + comma + ((a33 < min && a33 > -min) ? zero : a33) + comma + ((a43 < min && a43 > -min) ? zero : a43) + comma;\n\t\t\t\t} else {\n\t\t\t\t\ttransform += \",0,0,0,0,1,0,\";\n\t\t\t\t}\n\t\t\t\ttransform += x + comma + y + comma + z + comma + (perspective ? (1 + (-z / perspective)) : 1) + \")\";\n\n\t\t\t\tstyle[_transformProp] = transform;\n\t\t\t};\n\n\t\tp = Transform.prototype;\n\t\tp.x = p.y = p.z = p.skewX = p.skewY = p.rotation = p.rotationX = p.rotationY = p.zOrigin = p.xPercent = p.yPercent = p.xOffset = p.yOffset = 0;\n\t\tp.scaleX = p.scaleY = p.scaleZ = 1;\n\n\t\t_registerComplexSpecialProp(\"transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin\", {parser:function(t, e, parsingProp, cssp, pt, plugin, vars) {\n\t\t\tif (cssp._lastParsedTransform === vars) { return pt; } //only need to parse the transform once, and only if the browser supports it.\n\t\t\tcssp._lastParsedTransform = vars;\n\t\t\tvar scaleFunc = (vars.scale && typeof(vars.scale) === \"function\") ? vars.scale : 0; //if there's a function-based \"scale\" value, swap in the resulting numeric value temporarily. Otherwise, if it's called for both scaleX and scaleY independently, they may not match (like if the function uses Math.random()).\n\t\t\tif (scaleFunc) {\n\t\t\t\tvars.scale = scaleFunc(_index, t);\n\t\t\t}\n\t\t\tvar originalGSTransform = t._gsTransform,\n\t\t\t\tstyle = t.style,\n\t\t\t\tmin = 0.000001,\n\t\t\t\ti = _transformProps.length,\n\t\t\t\tv = vars,\n\t\t\t\tendRotations = {},\n\t\t\t\ttransformOriginString = \"transformOrigin\",\n\t\t\t\tm1 = _getTransform(t, _cs, true, v.parseTransform),\n\t\t\t\torig = v.transform && ((typeof(v.transform) === \"function\") ? v.transform(_index, _target) : v.transform),\n\t\t\t\tm2, copy, has3D, hasChange, dr, x, y, matrix, p;\n\t\t\tm1.skewType = v.skewType || m1.skewType || CSSPlugin.defaultSkewType;\n\t\t\tcssp._transform = m1;\n\t\t\tif (\"rotationZ\" in v) {\n\t\t\t\tv.rotation = v.rotationZ;\n\t\t\t}\n\t\t\tif (orig && typeof(orig) === \"string\" && _transformProp) { //for values like transform:\"rotate(60deg) scale(0.5, 0.8)\"\n\t\t\t\tcopy = _tempDiv.style; //don't use the original target because it might be SVG in which case some browsers don't report computed style correctly.\n\t\t\t\tcopy[_transformProp] = orig;\n\t\t\t\tcopy.display = \"block\"; //if display is \"none\", the browser often refuses to report the transform properties correctly.\n\t\t\t\tcopy.position = \"absolute\";\n\t\t\t\tif (orig.indexOf(\"%\") !== -1) { //%-based translations will fail unless we set the width/height to match the original target...\n\t\t\t\t\tcopy.width = _getStyle(t, \"width\");\n\t\t\t\t\tcopy.height = _getStyle(t, \"height\");\n\t\t\t\t}\n\t\t\t\t_doc.body.appendChild(_tempDiv);\n\t\t\t\tm2 = _getTransform(_tempDiv, null, false);\n\t\t\t\tif (m1.skewType === \"simple\") { //the default _getTransform() reports the skewX/scaleY as if skewType is \"compensated\", thus we need to adjust that here if skewType is \"simple\".\n\t\t\t\t\tm2.scaleY *= Math.cos(m2.skewX * _DEG2RAD);\n\t\t\t\t}\n\t\t\t\tif (m1.svg) { //if it's an SVG element, x/y part of the matrix will be affected by whatever we use as the origin and the offsets, so compensate here...\n\t\t\t\t\tx = m1.xOrigin;\n\t\t\t\t\ty = m1.yOrigin;\n\t\t\t\t\tm2.x -= m1.xOffset;\n\t\t\t\t\tm2.y -= m1.yOffset;\n\t\t\t\t\tif (v.transformOrigin || v.svgOrigin) { //if this tween is altering the origin, we must factor that in here. The actual work of recording the transformOrigin values and setting up the PropTween is done later (still inside this function) so we cannot leave the changes intact here - we only want to update the x/y accordingly.\n\t\t\t\t\t\torig = {};\n\t\t\t\t\t\t_parseSVGOrigin(t, _parsePosition(v.transformOrigin), orig, v.svgOrigin, v.smoothOrigin, true);\n\t\t\t\t\t\tx = orig.xOrigin;\n\t\t\t\t\t\ty = orig.yOrigin;\n\t\t\t\t\t\tm2.x -= orig.xOffset - m1.xOffset;\n\t\t\t\t\t\tm2.y -= orig.yOffset - m1.yOffset;\n\t\t\t\t\t}\n\t\t\t\t\tif (x || y) {\n\t\t\t\t\t\tmatrix = _getMatrix(_tempDiv, true);\n\t\t\t\t\t\tm2.x -= x - (x * matrix[0] + y * matrix[2]);\n\t\t\t\t\t\tm2.y -= y - (x * matrix[1] + y * matrix[3]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_doc.body.removeChild(_tempDiv);\n\t\t\t\tif (!m2.perspective) {\n\t\t\t\t\tm2.perspective = m1.perspective; //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n\t\t\t\t}\n\t\t\t\tif (v.xPercent != null) {\n\t\t\t\t\tm2.xPercent = _parseVal(v.xPercent, m1.xPercent);\n\t\t\t\t}\n\t\t\t\tif (v.yPercent != null) {\n\t\t\t\t\tm2.yPercent = _parseVal(v.yPercent, m1.yPercent);\n\t\t\t\t}\n\t\t\t} else if (typeof(v) === \"object\") { //for values like scaleX, scaleY, rotation, x, y, skewX, and skewY or transform:{...} (object)\n\t\t\t\tm2 = {scaleX:_parseVal((v.scaleX != null) ? v.scaleX : v.scale, m1.scaleX),\n\t\t\t\t\tscaleY:_parseVal((v.scaleY != null) ? v.scaleY : v.scale, m1.scaleY),\n\t\t\t\t\tscaleZ:_parseVal(v.scaleZ, m1.scaleZ),\n\t\t\t\t\tx:_parseVal(v.x, m1.x),\n\t\t\t\t\ty:_parseVal(v.y, m1.y),\n\t\t\t\t\tz:_parseVal(v.z, m1.z),\n\t\t\t\t\txPercent:_parseVal(v.xPercent, m1.xPercent),\n\t\t\t\t\tyPercent:_parseVal(v.yPercent, m1.yPercent),\n\t\t\t\t\tperspective:_parseVal(v.transformPerspective, m1.perspective)};\n\t\t\t\tdr = v.directionalRotation;\n\t\t\t\tif (dr != null) {\n\t\t\t\t\tif (typeof(dr) === \"object\") {\n\t\t\t\t\t\tfor (copy in dr) {\n\t\t\t\t\t\t\tv[copy] = dr[copy];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv.rotation = dr;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof(v.x) === \"string\" && v.x.indexOf(\"%\") !== -1) {\n\t\t\t\t\tm2.x = 0;\n\t\t\t\t\tm2.xPercent = _parseVal(v.x, m1.xPercent);\n\t\t\t\t}\n\t\t\t\tif (typeof(v.y) === \"string\" && v.y.indexOf(\"%\") !== -1) {\n\t\t\t\t\tm2.y = 0;\n\t\t\t\t\tm2.yPercent = _parseVal(v.y, m1.yPercent);\n\t\t\t\t}\n\n\t\t\t\tm2.rotation = _parseAngle((\"rotation\" in v) ? v.rotation : (\"shortRotation\" in v) ? v.shortRotation + \"_short\" : m1.rotation, m1.rotation, \"rotation\", endRotations);\n\t\t\t\tif (_supports3D) {\n\t\t\t\t\tm2.rotationX = _parseAngle((\"rotationX\" in v) ? v.rotationX : (\"shortRotationX\" in v) ? v.shortRotationX + \"_short\" : m1.rotationX || 0, m1.rotationX, \"rotationX\", endRotations);\n\t\t\t\t\tm2.rotationY = _parseAngle((\"rotationY\" in v) ? v.rotationY : (\"shortRotationY\" in v) ? v.shortRotationY + \"_short\" : m1.rotationY || 0, m1.rotationY, \"rotationY\", endRotations);\n\t\t\t\t}\n\t\t\t\tm2.skewX = _parseAngle(v.skewX, m1.skewX);\n\t\t\t\tm2.skewY = _parseAngle(v.skewY, m1.skewY);\n\t\t\t}\n\t\t\tif (_supports3D && v.force3D != null) {\n\t\t\t\tm1.force3D = v.force3D;\n\t\t\t\thasChange = true;\n\t\t\t}\n\n\t\t\thas3D = (m1.force3D || m1.z || m1.rotationX || m1.rotationY || m2.z || m2.rotationX || m2.rotationY || m2.perspective);\n\t\t\tif (!has3D && v.scale != null) {\n\t\t\t\tm2.scaleZ = 1; //no need to tween scaleZ.\n\t\t\t}\n\n\t\t\twhile (--i > -1) {\n\t\t\t\tp = _transformProps[i];\n\t\t\t\torig = m2[p] - m1[p];\n\t\t\t\tif (orig > min || orig < -min || v[p] != null || _forcePT[p] != null) {\n\t\t\t\t\thasChange = true;\n\t\t\t\t\tpt = new CSSPropTween(m1, p, m1[p], orig, pt);\n\t\t\t\t\tif (p in endRotations) {\n\t\t\t\t\t\tpt.e = endRotations[p]; //directional rotations typically have compensated values during the tween, but we need to make sure they end at exactly what the user requested\n\t\t\t\t\t}\n\t\t\t\t\tpt.xs0 = 0; //ensures the value stays numeric in setRatio()\n\t\t\t\t\tpt.plugin = plugin;\n\t\t\t\t\tcssp._overwriteProps.push(pt.n);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\torig = (typeof(v.transformOrigin) === \"function\") ? v.transformOrigin(_index, _target) : v.transformOrigin;\n\t\t\tif (m1.svg && (orig || v.svgOrigin)) {\n\t\t\t\tx = m1.xOffset; //when we change the origin, in order to prevent things from jumping we adjust the x/y so we must record those here so that we can create PropTweens for them and flip them at the same time as the origin\n\t\t\t\ty = m1.yOffset;\n\t\t\t\t_parseSVGOrigin(t, _parsePosition(orig), m2, v.svgOrigin, v.smoothOrigin);\n\t\t\t\tpt = _addNonTweeningNumericPT(m1, \"xOrigin\", (originalGSTransform ? m1 : m2).xOrigin, m2.xOrigin, pt, transformOriginString); //note: if there wasn't a transformOrigin defined yet, just start with the destination one; it's wasteful otherwise, and it causes problems with fromTo() tweens. For example, TweenLite.to(\"#wheel\", 3, {rotation:180, transformOrigin:\"50% 50%\", delay:1}); TweenLite.fromTo(\"#wheel\", 3, {scale:0.5, transformOrigin:\"50% 50%\"}, {scale:1, delay:2}); would cause a jump when the from values revert at the beginning of the 2nd tween.\n\t\t\t\tpt = _addNonTweeningNumericPT(m1, \"yOrigin\", (originalGSTransform ? m1 : m2).yOrigin, m2.yOrigin, pt, transformOriginString);\n\t\t\t\tif (x !== m1.xOffset || y !== m1.yOffset) {\n\t\t\t\t\tpt = _addNonTweeningNumericPT(m1, \"xOffset\", (originalGSTransform ? x : m1.xOffset), m1.xOffset, pt, transformOriginString);\n\t\t\t\t\tpt = _addNonTweeningNumericPT(m1, \"yOffset\", (originalGSTransform ? y : m1.yOffset), m1.yOffset, pt, transformOriginString);\n\t\t\t\t}\n\t\t\t\torig = \"0px 0px\"; //certain browsers (like firefox) completely botch transform-origin, so we must remove it to prevent it from contaminating transforms. We manage it ourselves with xOrigin and yOrigin\n\t\t\t}\n\t\t\tif (orig || (_supports3D && has3D && m1.zOrigin)) { //if anything 3D is happening and there's a transformOrigin with a z component that's non-zero, we must ensure that the transformOrigin's z-component is set to 0 so that we can manually do those calculations to get around Safari bugs. Even if the user didn't specifically define a \"transformOrigin\" in this particular tween (maybe they did it via css directly).\n\t\t\t\tif (_transformProp) {\n\t\t\t\t\thasChange = true;\n\t\t\t\t\tp = _transformOriginProp;\n\t\t\t\t\tif (!orig) {\n\t\t\t\t\t\torig = (_getStyle(t, p, _cs, false, \"50% 50%\") + \"\").split(\" \");\n\t\t\t\t\t\torig = orig[0] + \" \" + orig[1] + \" \" + m1.zOrigin + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\torig += \"\";\n\t\t\t\t\tpt = new CSSPropTween(style, p, 0, 0, pt, -1, transformOriginString);\n\t\t\t\t\tpt.b = style[p];\n\t\t\t\t\tpt.plugin = plugin;\n\t\t\t\t\tif (_supports3D) {\n\t\t\t\t\t\tcopy = m1.zOrigin;\n\t\t\t\t\t\torig = orig.split(\" \");\n\t\t\t\t\t\tm1.zOrigin = ((orig.length > 2) ? parseFloat(orig[2]) : copy) || 0; //Safari doesn't handle the z part of transformOrigin correctly, so we'll manually handle it in the _set3DTransformRatio() method.\n\t\t\t\t\t\tpt.xs0 = pt.e = orig[0] + \" \" + (orig[1] || \"50%\") + \" 0px\"; //we must define a z value of 0px specifically otherwise iOS 5 Safari will stick with the old one (if one was defined)!\n\t\t\t\t\t\tpt = new CSSPropTween(m1, \"zOrigin\", 0, 0, pt, -1, pt.n); //we must create a CSSPropTween for the _gsTransform.zOrigin so that it gets reset properly at the beginning if the tween runs backward (as opposed to just setting m1.zOrigin here)\n\t\t\t\t\t\tpt.b = copy;\n\t\t\t\t\t\tpt.xs0 = pt.e = m1.zOrigin;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.xs0 = pt.e = orig;\n\t\t\t\t\t}\n\n\t\t\t\t\t//for older versions of IE (6-8), we need to manually calculate things inside the setRatio() function. We record origin x and y (ox and oy) and whether or not the values are percentages (oxp and oyp).\n\t\t\t\t} else {\n\t\t\t\t\t_parsePosition(orig + \"\", m1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasChange) {\n\t\t\t\tcssp._transformType = (!(m1.svg && _useSVGTransformAttr) && (has3D || this._transformType === 3)) ? 3 : 2; //quicker than calling cssp._enableTransforms();\n\t\t\t}\n\t\t\tif (scaleFunc) {\n\t\t\t\tvars.scale = scaleFunc;\n\t\t\t}\n\t\t\treturn pt;\n\t\t}, allowFunc:true, prefix:true});\n\n\t\t_registerComplexSpecialProp(\"boxShadow\", {defaultValue:\"0px 0px 0px 0px #999\", prefix:true, color:true, multi:true, keyword:\"inset\"});\n\t\t_registerComplexSpecialProp(\"clipPath\", {defaultValue:\"inset(0%)\", prefix:true, multi:true, formatter:_getFormatter(\"inset(0% 0% 0% 0%)\", false, true)});\n\n\t\t_registerComplexSpecialProp(\"borderRadius\", {defaultValue:\"0px\", parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\te = this.format(e);\n\t\t\tvar props = [\"borderTopLeftRadius\",\"borderTopRightRadius\",\"borderBottomRightRadius\",\"borderBottomLeftRadius\"],\n\t\t\t\tstyle = t.style,\n\t\t\t\tea1, i, es2, bs2, bs, es, bn, en, w, h, esfx, bsfx, rel, hn, vn, em;\n\t\t\tw = parseFloat(t.offsetWidth);\n\t\t\th = parseFloat(t.offsetHeight);\n\t\t\tea1 = e.split(\" \");\n\t\t\tfor (i = 0; i < props.length; i++) { //if we're dealing with percentages, we must convert things separately for the horizontal and vertical axis!\n\t\t\t\tif (this.p.indexOf(\"border\")) { //older browsers used a prefix\n\t\t\t\t\tprops[i] = _checkPropPrefix(props[i]);\n\t\t\t\t}\n\t\t\t\tbs = bs2 = _getStyle(t, props[i], _cs, false, \"0px\");\n\t\t\t\tif (bs.indexOf(\" \") !== -1) {\n\t\t\t\t\tbs2 = bs.split(\" \");\n\t\t\t\t\tbs = bs2[0];\n\t\t\t\t\tbs2 = bs2[1];\n\t\t\t\t}\n\t\t\t\tes = es2 = ea1[i];\n\t\t\t\tbn = parseFloat(bs);\n\t\t\t\tbsfx = bs.substr((bn + \"\").length);\n\t\t\t\trel = (es.charAt(1) === \"=\");\n\t\t\t\tif (rel) {\n\t\t\t\t\ten = parseInt(es.charAt(0)+\"1\", 10);\n\t\t\t\t\tes = es.substr(2);\n\t\t\t\t\ten *= parseFloat(es);\n\t\t\t\t\tesfx = es.substr((en + \"\").length - (en < 0 ? 1 : 0)) || \"\";\n\t\t\t\t} else {\n\t\t\t\t\ten = parseFloat(es);\n\t\t\t\t\tesfx = es.substr((en + \"\").length);\n\t\t\t\t}\n\t\t\t\tif (esfx === \"\") {\n\t\t\t\t\tesfx = _suffixMap[p] || bsfx;\n\t\t\t\t}\n\t\t\t\tif (esfx !== bsfx) {\n\t\t\t\t\thn = _convertToPixels(t, \"borderLeft\", bn, bsfx); //horizontal number (we use a bogus \"borderLeft\" property just because the _convertToPixels() method searches for the keywords \"Left\", \"Right\", \"Top\", and \"Bottom\" to determine of it's a horizontal or vertical property, and we need \"border\" in the name so that it knows it should measure relative to the element itself, not its parent.\n\t\t\t\t\tvn = _convertToPixels(t, \"borderTop\", bn, bsfx); //vertical number\n\t\t\t\t\tif (esfx === \"%\") {\n\t\t\t\t\t\tbs = (hn / w * 100) + \"%\";\n\t\t\t\t\t\tbs2 = (vn / h * 100) + \"%\";\n\t\t\t\t\t} else if (esfx === \"em\") {\n\t\t\t\t\t\tem = _convertToPixels(t, \"borderLeft\", 1, \"em\");\n\t\t\t\t\t\tbs = (hn / em) + \"em\";\n\t\t\t\t\t\tbs2 = (vn / em) + \"em\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbs = hn + \"px\";\n\t\t\t\t\t\tbs2 = vn + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif (rel) {\n\t\t\t\t\t\tes = (parseFloat(bs) + en) + esfx;\n\t\t\t\t\t\tes2 = (parseFloat(bs2) + en) + esfx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpt = _parseComplex(style, props[i], bs + \" \" + bs2, es + \" \" + es2, false, \"0px\", pt);\n\t\t\t}\n\t\t\treturn pt;\n\t\t}, prefix:true, formatter:_getFormatter(\"0px 0px 0px 0px\", false, true)});\n\t\t_registerComplexSpecialProp(\"borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius\", {defaultValue:\"0px\", parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\treturn _parseComplex(t.style, p, this.format(_getStyle(t, p, _cs, false, \"0px 0px\")), this.format(e), false, \"0px\", pt);\n\t\t}, prefix:true, formatter:_getFormatter(\"0px 0px\", false, true)});\n\t\t_registerComplexSpecialProp(\"backgroundPosition\", {defaultValue:\"0 0\", parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\tvar bp = \"background-position\",\n\t\t\t\tcs = (_cs || _getComputedStyle(t, null)),\n\t\t\t\tbs = this.format( ((cs) ? _ieVers ? cs.getPropertyValue(bp + \"-x\") + \" \" + cs.getPropertyValue(bp + \"-y\") : cs.getPropertyValue(bp) : t.currentStyle.backgroundPositionX + \" \" + t.currentStyle.backgroundPositionY) || \"0 0\"), //Internet Explorer doesn't report background-position correctly - we must query background-position-x and background-position-y and combine them (even in IE10). Before IE9, we must do the same with the currentStyle object and use camelCase\n\t\t\t\tes = this.format(e),\n\t\t\t\tba, ea, i, pct, overlap, src;\n\t\t\tif ((bs.indexOf(\"%\") !== -1) !== (es.indexOf(\"%\") !== -1) && es.split(\",\").length < 2) {\n\t\t\t\tsrc = _getStyle(t, \"backgroundImage\").replace(_urlExp, \"\");\n\t\t\t\tif (src && src !== \"none\") {\n\t\t\t\t\tba = bs.split(\" \");\n\t\t\t\t\tea = es.split(\" \");\n\t\t\t\t\t_tempImg.setAttribute(\"src\", src); //set the temp IMG's src to the background-image so that we can measure its width/height\n\t\t\t\t\ti = 2;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tbs = ba[i];\n\t\t\t\t\t\tpct = (bs.indexOf(\"%\") !== -1);\n\t\t\t\t\t\tif (pct !== (ea[i].indexOf(\"%\") !== -1)) {\n\t\t\t\t\t\t\toverlap = (i === 0) ? t.offsetWidth - _tempImg.width : t.offsetHeight - _tempImg.height;\n\t\t\t\t\t\t\tba[i] = pct ? (parseFloat(bs) / 100 * overlap) + \"px\" : (parseFloat(bs) / overlap * 100) + \"%\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbs = ba.join(\" \");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.parseComplex(t.style, bs, es, pt, plugin);\n\t\t}, formatter:_parsePosition});\n\t\t_registerComplexSpecialProp(\"backgroundSize\", {defaultValue:\"0 0\", formatter:function(v) {\n\t\t\tv += \"\"; //ensure it's a string\n\t\t\treturn (v.substr(0,2) === \"co\") ? v : _parsePosition(v.indexOf(\" \") === -1 ? v + \" \" + v : v); //if set to something like \"100% 100%\", Safari typically reports the computed style as just \"100%\" (no 2nd value), but we should ensure that there are two values, so copy the first one. Otherwise, it'd be interpreted as \"100% 0\" (wrong). Also remember that it could be \"cover\" or \"contain\" which we can't tween but should be able to set.\n\t\t}});\n\t\t_registerComplexSpecialProp(\"perspective\", {defaultValue:\"0px\", prefix:true});\n\t\t_registerComplexSpecialProp(\"perspectiveOrigin\", {defaultValue:\"50% 50%\", prefix:true});\n\t\t_registerComplexSpecialProp(\"transformStyle\", {prefix:true});\n\t\t_registerComplexSpecialProp(\"backfaceVisibility\", {prefix:true});\n\t\t_registerComplexSpecialProp(\"userSelect\", {prefix:true});\n\t\t_registerComplexSpecialProp(\"margin\", {parser:_getEdgeParser(\"marginTop,marginRight,marginBottom,marginLeft\")});\n\t\t_registerComplexSpecialProp(\"padding\", {parser:_getEdgeParser(\"paddingTop,paddingRight,paddingBottom,paddingLeft\")});\n\t\t_registerComplexSpecialProp(\"clip\", {defaultValue:\"rect(0px,0px,0px,0px)\", parser:function(t, e, p, cssp, pt, plugin){\n\t\t\tvar b, cs, delim;\n\t\t\tif (_ieVers < 9) { //IE8 and earlier don't report a \"clip\" value in the currentStyle - instead, the values are split apart into clipTop, clipRight, clipBottom, and clipLeft. Also, in IE7 and earlier, the values inside rect() are space-delimited, not comma-delimited.\n\t\t\t\tcs = t.currentStyle;\n\t\t\t\tdelim = _ieVers < 8 ? \" \" : \",\";\n\t\t\t\tb = \"rect(\" + cs.clipTop + delim + cs.clipRight + delim + cs.clipBottom + delim + cs.clipLeft + \")\";\n\t\t\t\te = this.format(e).split(\",\").join(delim);\n\t\t\t} else {\n\t\t\t\tb = this.format(_getStyle(t, this.p, _cs, false, this.dflt));\n\t\t\t\te = this.format(e);\n\t\t\t}\n\t\t\treturn this.parseComplex(t.style, b, e, pt, plugin);\n\t\t}});\n\t\t_registerComplexSpecialProp(\"textShadow\", {defaultValue:\"0px 0px 0px #999\", color:true, multi:true});\n\t\t_registerComplexSpecialProp(\"autoRound,strictUnits\", {parser:function(t, e, p, cssp, pt) {return pt;}}); //just so that we can ignore these properties (not tween them)\n\t\t_registerComplexSpecialProp(\"border\", {defaultValue:\"0px solid #000\", parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\tvar bw = _getStyle(t, \"borderTopWidth\", _cs, false, \"0px\"),\n\t\t\t\tend = this.format(e).split(\" \"),\n\t\t\t\tesfx = end[0].replace(_suffixExp, \"\");\n\t\t\tif (esfx !== \"px\") { //if we're animating to a non-px value, we need to convert the beginning width to that unit.\n\t\t\t\tbw = (parseFloat(bw) / _convertToPixels(t, \"borderTopWidth\", 1, esfx)) + esfx;\n\t\t\t}\n\t\t\treturn this.parseComplex(t.style, this.format(bw + \" \" + _getStyle(t, \"borderTopStyle\", _cs, false, \"solid\") + \" \" + _getStyle(t, \"borderTopColor\", _cs, false, \"#000\")), end.join(\" \"), pt, plugin);\n\t\t\t}, color:true, formatter:function(v) {\n\t\t\t\tvar a = v.split(\" \");\n\t\t\t\treturn a[0] + \" \" + (a[1] || \"solid\") + \" \" + (v.match(_colorExp) || [\"#000\"])[0];\n\t\t\t}});\n\t\t_registerComplexSpecialProp(\"borderWidth\", {parser:_getEdgeParser(\"borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth\")}); //Firefox doesn't pick up on borderWidth set in style sheets (only inline).\n\t\t_registerComplexSpecialProp(\"float,cssFloat,styleFloat\", {parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\tvar s = t.style,\n\t\t\t\tprop = (\"cssFloat\" in s) ? \"cssFloat\" : \"styleFloat\";\n\t\t\treturn new CSSPropTween(s, prop, 0, 0, pt, -1, p, false, 0, s[prop], e);\n\t\t}});\n\n\t\t//opacity-related\n\t\tvar _setIEOpacityRatio = function(v) {\n\t\t\t\tvar t = this.t, //refers to the element's style property\n\t\t\t\t\tfilters = t.filter || _getStyle(this.data, \"filter\") || \"\",\n\t\t\t\t\tval = (this.s + this.c * v) | 0,\n\t\t\t\t\tskip;\n\t\t\t\tif (val === 100) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance, but make sure there isn't a transform (matrix) or gradient in the filters.\n\t\t\t\t\tif (filters.indexOf(\"atrix(\") === -1 && filters.indexOf(\"radient(\") === -1 && filters.indexOf(\"oader(\") === -1) {\n\t\t\t\t\t\tt.removeAttribute(\"filter\");\n\t\t\t\t\t\tskip = (!_getStyle(this.data, \"filter\")); //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.filter = filters.replace(_alphaFilterExp, \"\");\n\t\t\t\t\t\tskip = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skip) {\n\t\t\t\t\tif (this.xn1) {\n\t\t\t\t\t\tt.filter = filters = filters || (\"alpha(opacity=\" + val + \")\"); //works around bug in IE7/8 that prevents changes to \"visibility\" from being applied properly if the filter is changed to a different alpha on the same frame.\n\t\t\t\t\t}\n\t\t\t\t\tif (filters.indexOf(\"pacity\") === -1) { //only used if browser doesn't support the standard opacity style property (IE 7 and 8). We omit the \"O\" to avoid case-sensitivity issues\n\t\t\t\t\t\tif (val !== 0 || !this.xn1) { //bugs in IE7/8 won't render the filter properly if opacity is ADDED on the same frame/render as \"visibility\" changes (this.xn1 is 1 if this tween is an \"autoAlpha\" tween)\n\t\t\t\t\t\t\tt.filter = filters + \" alpha(opacity=\" + val + \")\"; //we round the value because otherwise, bugs in IE7/8 can prevent \"visibility\" changes from being applied properly.\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.filter = filters.replace(_opacityExp, \"opacity=\" + val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t_registerComplexSpecialProp(\"opacity,alpha,autoAlpha\", {defaultValue:\"1\", parser:function(t, e, p, cssp, pt, plugin) {\n\t\t\tvar b = parseFloat(_getStyle(t, \"opacity\", _cs, false, \"1\")),\n\t\t\t\tstyle = t.style,\n\t\t\t\tisAutoAlpha = (p === \"autoAlpha\");\n\t\t\tif (typeof(e) === \"string\" && e.charAt(1) === \"=\") {\n\t\t\t\te = ((e.charAt(0) === \"-\") ? -1 : 1) * parseFloat(e.substr(2)) + b;\n\t\t\t}\n\t\t\tif (isAutoAlpha && b === 1 && _getStyle(t, \"visibility\", _cs) === \"hidden\" && e !== 0) { //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n\t\t\t\tb = 0;\n\t\t\t}\n\t\t\tif (_supportsOpacity) {\n\t\t\t\tpt = new CSSPropTween(style, \"opacity\", b, e - b, pt);\n\t\t\t} else {\n\t\t\t\tpt = new CSSPropTween(style, \"opacity\", b * 100, (e - b) * 100, pt);\n\t\t\t\tpt.xn1 = isAutoAlpha ? 1 : 0; //we need to record whether or not this is an autoAlpha so that in the setRatio(), we know to duplicate the setting of the alpha in order to work around a bug in IE7 and IE8 that prevents changes to \"visibility\" from taking effect if the filter is changed to a different alpha(opacity) at the same time. Setting it to the SAME value first, then the new value works around the IE7/8 bug.\n\t\t\t\tstyle.zoom = 1; //helps correct an IE issue.\n\t\t\t\tpt.type = 2;\n\t\t\t\tpt.b = \"alpha(opacity=\" + pt.s + \")\";\n\t\t\t\tpt.e = \"alpha(opacity=\" + (pt.s + pt.c) + \")\";\n\t\t\t\tpt.data = t;\n\t\t\t\tpt.plugin = plugin;\n\t\t\t\tpt.setRatio = _setIEOpacityRatio;\n\t\t\t}\n\t\t\tif (isAutoAlpha) { //we have to create the \"visibility\" PropTween after the opacity one in the linked list so that they run in the order that works properly in IE8 and earlier\n\t\t\t\tpt = new CSSPropTween(style, \"visibility\", 0, 0, pt, -1, null, false, 0, ((b !== 0) ? \"inherit\" : \"hidden\"), ((e === 0) ? \"hidden\" : \"inherit\"));\n\t\t\t\tpt.xs0 = \"inherit\";\n\t\t\t\tcssp._overwriteProps.push(pt.n);\n\t\t\t\tcssp._overwriteProps.push(p);\n\t\t\t}\n\t\t\treturn pt;\n\t\t}});\n\n\n\t\tvar _removeProp = function(s, p) {\n\t\t\t\tif (p) {\n\t\t\t\t\tif (s.removeProperty) {\n\t\t\t\t\t\tif (p.substr(0,2) === \"ms\" || p.substr(0,6) === \"webkit\") { //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n\t\t\t\t\t\t\tp = \"-\" + p;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ts.removeProperty(p.replace(_capsExp, \"-$1\").toLowerCase());\n\t\t\t\t\t} else { //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n\t\t\t\t\t\ts.removeAttribute(p);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t_setClassNameRatio = function(v) {\n\t\t\t\tthis.t._gsClassPT = this;\n\t\t\t\tif (v === 1 || v === 0) {\n\t\t\t\t\tthis.t.setAttribute(\"class\", (v === 0) ? this.b : this.e);\n\t\t\t\t\tvar mpt = this.data, //first MiniPropTween\n\t\t\t\t\t\ts = this.t.style;\n\t\t\t\t\twhile (mpt) {\n\t\t\t\t\t\tif (!mpt.v) {\n\t\t\t\t\t\t\t_removeProp(s, mpt.p);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ts[mpt.p] = mpt.v;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmpt = mpt._next;\n\t\t\t\t\t}\n\t\t\t\t\tif (v === 1 && this.t._gsClassPT === this) {\n\t\t\t\t\t\tthis.t._gsClassPT = null;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.t.getAttribute(\"class\") !== this.e) {\n\t\t\t\t\tthis.t.setAttribute(\"class\", this.e);\n\t\t\t\t}\n\t\t\t};\n\t\t_registerComplexSpecialProp(\"className\", {parser:function(t, e, p, cssp, pt, plugin, vars) {\n\t\t\tvar b = t.getAttribute(\"class\") || \"\", //don't use t.className because it doesn't work consistently on SVG elements; getAttribute(\"class\") and setAttribute(\"class\", value\") is more reliable.\n\t\t\t\tcssText = t.style.cssText,\n\t\t\t\tdifData, bs, cnpt, cnptLookup, mpt;\n\t\t\tpt = cssp._classNamePT = new CSSPropTween(t, p, 0, 0, pt, 2);\n\t\t\tpt.setRatio = _setClassNameRatio;\n\t\t\tpt.pr = -11;\n\t\t\t_hasPriority = true;\n\t\t\tpt.b = b;\n\t\t\tbs = _getAllStyles(t, _cs);\n\t\t\t//if there's a className tween already operating on the target, force it to its end so that the necessary inline styles are removed and the class name is applied before we determine the end state (we don't want inline styles interfering that were there just for class-specific values)\n\t\t\tcnpt = t._gsClassPT;\n\t\t\tif (cnpt) {\n\t\t\t\tcnptLookup = {};\n\t\t\t\tmpt = cnpt.data; //first MiniPropTween which stores the inline styles - we need to force these so that the inline styles don't contaminate things. Otherwise, there's a small chance that a tween could start and the inline values match the destination values and they never get cleaned.\n\t\t\t\twhile (mpt) {\n\t\t\t\t\tcnptLookup[mpt.p] = 1;\n\t\t\t\t\tmpt = mpt._next;\n\t\t\t\t}\n\t\t\t\tcnpt.setRatio(1);\n\t\t\t}\n\t\t\tt._gsClassPT = pt;\n\t\t\tpt.e = (e.charAt(1) !== \"=\") ? e : b.replace(new RegExp(\"(?:\\\\s|^)\" + e.substr(2) + \"(?![\\\\w-])\"), \"\") + ((e.charAt(0) === \"+\") ? \" \" + e.substr(2) : \"\");\n\t\t\tt.setAttribute(\"class\", pt.e);\n\t\t\tdifData = _cssDif(t, bs, _getAllStyles(t), vars, cnptLookup);\n\t\t\tt.setAttribute(\"class\", b);\n\t\t\tpt.data = difData.firstMPT;\n\t\t\tif (t.style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n\t\t\t\tt.style.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n\t\t\t}\n\t\t\tpt = pt.xfirst = cssp.parse(t, difData.difs, pt, plugin); //we record the CSSPropTween as the xfirst so that we can handle overwriting propertly (if \"className\" gets overwritten, we must kill all the properties associated with the className part of the tween, so we can loop through from xfirst to the pt itself)\n\t\t\treturn pt;\n\t\t}});\n\n\n\t\tvar _setClearPropsRatio = function(v) {\n\t\t\tif (v === 1 || v === 0) if (this.data._totalTime === this.data._totalDuration && this.data.data !== \"isFromStart\") { //this.data refers to the tween. Only clear at the END of the tween (remember, from() tweens make the ratio go from 1 to 0, so we can't just check that and if the tween is the zero-duration one that's created internally to render the starting values in a from() tween, ignore that because otherwise, for example, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in).\n\t\t\t\tvar s = this.t.style,\n\t\t\t\t\ttransformParse = _specialProps.transform.parse,\n\t\t\t\t\ta, p, i, clearTransform, transform;\n\t\t\t\tif (this.e === \"all\") {\n\t\t\t\t\ts.cssText = \"\";\n\t\t\t\t\tclearTransform = true;\n\t\t\t\t} else {\n\t\t\t\t\ta = this.e.split(\" \").join(\"\").split(\",\");\n\t\t\t\t\ti = a.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tp = a[i];\n\t\t\t\t\t\tif (_specialProps[p]) {\n\t\t\t\t\t\t\tif (_specialProps[p].parse === transformParse) {\n\t\t\t\t\t\t\t\tclearTransform = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp = (p === \"transformOrigin\") ? _transformOriginProp : _specialProps[p].p; //ensures that special properties use the proper browser-specific property name, like \"scaleX\" might be \"-webkit-transform\" or \"boxShadow\" might be \"-moz-box-shadow\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_removeProp(s, p);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (clearTransform) {\n\t\t\t\t\t_removeProp(s, _transformProp);\n\t\t\t\t\ttransform = this.t._gsTransform;\n\t\t\t\t\tif (transform) {\n\t\t\t\t\t\tif (transform.svg) {\n\t\t\t\t\t\t\tthis.t.removeAttribute(\"data-svg-origin\");\n\t\t\t\t\t\t\tthis.t.removeAttribute(\"transform\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this.t._gsTransform;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\t_registerComplexSpecialProp(\"clearProps\", {parser:function(t, e, p, cssp, pt) {\n\t\t\tpt = new CSSPropTween(t, p, 0, 0, pt, 2);\n\t\t\tpt.setRatio = _setClearPropsRatio;\n\t\t\tpt.e = e;\n\t\t\tpt.pr = -10;\n\t\t\tpt.data = cssp._tween;\n\t\t\t_hasPriority = true;\n\t\t\treturn pt;\n\t\t}});\n\n\t\tp = \"bezier,throwProps,physicsProps,physics2D\".split(\",\");\n\t\ti = p.length;\n\t\twhile (i--) {\n\t\t\t_registerPluginProp(p[i]);\n\t\t}\n\n\n\n\n\n\n\n\n\t\tp = CSSPlugin.prototype;\n\t\tp._firstPT = p._lastParsedTransform = p._transform = null;\n\n\t\t//gets called when the tween renders for the first time. This kicks everything off, recording start/end values, etc.\n\t\tp._onInitTween = function(target, vars, tween, index) {\n\t\t\tif (!target.nodeType) { //css is only for dom elements\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._target = _target = target;\n\t\t\tthis._tween = tween;\n\t\t\tthis._vars = vars;\n\t\t\t_index = index;\n\t\t\t_autoRound = vars.autoRound;\n\t\t\t_hasPriority = false;\n\t\t\t_suffixMap = vars.suffixMap || CSSPlugin.suffixMap;\n\t\t\t_cs = _getComputedStyle(target, \"\");\n\t\t\t_overwriteProps = this._overwriteProps;\n\t\t\tvar style = target.style,\n\t\t\t\tv, pt, pt2, first, last, next, zIndex, tpt, threeD;\n\t\t\tif (_reqSafariFix) if (style.zIndex === \"\") {\n\t\t\t\tv = _getStyle(target, \"zIndex\", _cs);\n\t\t\t\tif (v === \"auto\" || v === \"\") {\n\t\t\t\t\t//corrects a bug in [non-Android] Safari that prevents it from repainting elements in their new positions if they don't have a zIndex set. We also can't just apply this inside _parseTransform() because anything that's moved in any way (like using \"left\" or \"top\" instead of transforms like \"x\" and \"y\") can be affected, so it is best to ensure that anything that's tweening has a z-index. Setting \"WebkitPerspective\" to a non-zero value worked too except that on iOS Safari things would flicker randomly. Plus zIndex is less memory-intensive.\n\t\t\t\t\tthis._addLazySet(style, \"zIndex\", 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof(vars) === \"string\") {\n\t\t\t\tfirst = style.cssText;\n\t\t\t\tv = _getAllStyles(target, _cs);\n\t\t\t\tstyle.cssText = first + \";\" + vars;\n\t\t\t\tv = _cssDif(target, v, _getAllStyles(target)).difs;\n\t\t\t\tif (!_supportsOpacity && _opacityValExp.test(vars)) {\n\t\t\t\t\tv.opacity = parseFloat( RegExp.$1 );\n\t\t\t\t}\n\t\t\t\tvars = v;\n\t\t\t\tstyle.cssText = first;\n\t\t\t}\n\n\t\t\tif (vars.className) { //className tweens will combine any differences they find in the css with the vars that are passed in, so {className:\"myClass\", scale:0.5, left:20} would work.\n\t\t\t\tthis._firstPT = pt = _specialProps.className.parse(target, vars.className, \"className\", this, null, null, vars);\n\t\t\t} else {\n\t\t\t\tthis._firstPT = pt = this.parse(target, vars, null);\n\t\t\t}\n\n\t\t\tif (this._transformType) {\n\t\t\t\tthreeD = (this._transformType === 3);\n\t\t\t\tif (!_transformProp) {\n\t\t\t\t\tstyle.zoom = 1; //helps correct an IE issue.\n\t\t\t\t} else if (_isSafari) {\n\t\t\t\t\t_reqSafariFix = true;\n\t\t\t\t\t//if zIndex isn't set, iOS Safari doesn't repaint things correctly sometimes (seemingly at random).\n\t\t\t\t\tif (style.zIndex === \"\") {\n\t\t\t\t\t\tzIndex = _getStyle(target, \"zIndex\", _cs);\n\t\t\t\t\t\tif (zIndex === \"auto\" || zIndex === \"\") {\n\t\t\t\t\t\t\tthis._addLazySet(style, \"zIndex\", 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//Setting WebkitBackfaceVisibility corrects 3 bugs:\n\t\t\t\t\t// 1) [non-Android] Safari skips rendering changes to \"top\" and \"left\" that are made on the same frame/render as a transform update.\n\t\t\t\t\t// 2) iOS Safari sometimes neglects to repaint elements in their new positions. Setting \"WebkitPerspective\" to a non-zero value worked too except that on iOS Safari things would flicker randomly.\n\t\t\t\t\t// 3) Safari sometimes displayed odd artifacts when tweening the transform (or WebkitTransform) property, like ghosts of the edges of the element remained. Definitely a browser bug.\n\t\t\t\t\t//Note: we allow the user to override the auto-setting by defining WebkitBackfaceVisibility in the vars of the tween.\n\t\t\t\t\tif (_isSafariLT6) {\n\t\t\t\t\t\tthis._addLazySet(style, \"WebkitBackfaceVisibility\", this._vars.WebkitBackfaceVisibility || (threeD ? \"visible\" : \"hidden\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpt2 = pt;\n\t\t\t\twhile (pt2 && pt2._next) {\n\t\t\t\t\tpt2 = pt2._next;\n\t\t\t\t}\n\t\t\t\ttpt = new CSSPropTween(target, \"transform\", 0, 0, null, 2);\n\t\t\t\tthis._linkCSSP(tpt, null, pt2);\n\t\t\t\ttpt.setRatio = _transformProp ? _setTransformRatio : _setIETransformRatio;\n\t\t\t\ttpt.data = this._transform || _getTransform(target, _cs, true);\n\t\t\t\ttpt.tween = tween;\n\t\t\t\ttpt.pr = -1; //ensures that the transforms get applied after the components are updated.\n\t\t\t\t_overwriteProps.pop(); //we don't want to force the overwrite of all \"transform\" tweens of the target - we only care about individual transform properties like scaleX, rotation, etc. The CSSPropTween constructor automatically adds the property to _overwriteProps which is why we need to pop() here.\n\t\t\t}\n\n\t\t\tif (_hasPriority) {\n\t\t\t\t//reorders the linked list in order of pr (priority)\n\t\t\t\twhile (pt) {\n\t\t\t\t\tnext = pt._next;\n\t\t\t\t\tpt2 = first;\n\t\t\t\t\twhile (pt2 && pt2.pr > pt.pr) {\n\t\t\t\t\t\tpt2 = pt2._next;\n\t\t\t\t\t}\n\t\t\t\t\tif ((pt._prev = pt2 ? pt2._prev : last)) {\n\t\t\t\t\t\tpt._prev._next = pt;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfirst = pt;\n\t\t\t\t\t}\n\t\t\t\t\tif ((pt._next = pt2)) {\n\t\t\t\t\t\tpt2._prev = pt;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlast = pt;\n\t\t\t\t\t}\n\t\t\t\t\tpt = next;\n\t\t\t\t}\n\t\t\t\tthis._firstPT = first;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\n\t\tp.parse = function(target, vars, pt, plugin) {\n\t\t\tvar style = target.style,\n\t\t\t\tp, sp, bn, en, bs, es, bsfx, esfx, isStr, rel;\n\t\t\tfor (p in vars) {\n\t\t\t\tes = vars[p]; //ending value string\n\t\t\t\tsp = _specialProps[p]; //SpecialProp lookup.\n\t\t\t\tif (typeof(es) === \"function\" && !(sp && sp.allowFunc)) {\n\t\t\t\t\tes = es(_index, _target);\n\t\t\t\t}\n\t\t\t\tif (sp) {\n\t\t\t\t\tpt = sp.parse(target, es, p, this, pt, plugin, vars);\n\t\t\t\t} else if (p.substr(0,2) === \"--\") { //for tweening CSS variables (which always start with \"--\"). To maximize performance and simplicity, we bypass CSSPlugin altogether and just add a normal property tween to the tween instance itself.\n\t\t\t\t\tthis._tween._propLookup[p] = this._addTween.call(this._tween, target.style, \"setProperty\", _getComputedStyle(target).getPropertyValue(p) + \"\", es + \"\", p, false, p);\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tbs = _getStyle(target, p, _cs) + \"\";\n\t\t\t\t\tisStr = (typeof(es) === \"string\");\n\t\t\t\t\tif (p === \"color\" || p === \"fill\" || p === \"stroke\" || p.indexOf(\"Color\") !== -1 || (isStr && _rgbhslExp.test(es))) { //Opera uses background: to define color sometimes in addition to backgroundColor:\n\t\t\t\t\t\tif (!isStr) {\n\t\t\t\t\t\t\tes = _parseColor(es);\n\t\t\t\t\t\t\tes = ((es.length > 3) ? \"rgba(\" : \"rgb(\") + es.join(\",\") + \")\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpt = _parseComplex(style, p, bs, es, true, \"transparent\", pt, 0, plugin);\n\n\t\t\t\t\t} else if (isStr && _complexExp.test(es)) {\n\t\t\t\t\t\tpt = _parseComplex(style, p, bs, es, true, null, pt, 0, plugin);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbn = parseFloat(bs);\n\t\t\t\t\t\tbsfx = (bn || bn === 0) ? bs.substr((bn + \"\").length) : \"\"; //remember, bs could be non-numeric like \"normal\" for fontWeight, so we should default to a blank suffix in that case.\n\n\t\t\t\t\t\tif (bs === \"\" || bs === \"auto\") {\n\t\t\t\t\t\t\tif (p === \"width\" || p === \"height\") {\n\t\t\t\t\t\t\t\tbn = _getDimension(target, p, _cs);\n\t\t\t\t\t\t\t\tbsfx = \"px\";\n\t\t\t\t\t\t\t} else if (p === \"left\" || p === \"top\") {\n\t\t\t\t\t\t\t\tbn = _calculateOffset(target, p, _cs);\n\t\t\t\t\t\t\t\tbsfx = \"px\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbn = (p !== \"opacity\") ? 0 : 1;\n\t\t\t\t\t\t\t\tbsfx = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trel = (isStr && es.charAt(1) === \"=\");\n\t\t\t\t\t\tif (rel) {\n\t\t\t\t\t\t\ten = parseInt(es.charAt(0) + \"1\", 10);\n\t\t\t\t\t\t\tes = es.substr(2);\n\t\t\t\t\t\t\ten *= parseFloat(es);\n\t\t\t\t\t\t\tesfx = es.replace(_suffixExp, \"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ten = parseFloat(es);\n\t\t\t\t\t\t\tesfx = isStr ? es.replace(_suffixExp, \"\") : \"\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (esfx === \"\") {\n\t\t\t\t\t\t\tesfx = (p in _suffixMap) ? _suffixMap[p] : bsfx; //populate the end suffix, prioritizing the map, then if none is found, use the beginning suffix.\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tes = (en || en === 0) ? (rel ? en + bn : en) + esfx : vars[p]; //ensures that any += or -= prefixes are taken care of. Record the end value before normalizing the suffix because we always want to end the tween on exactly what they intended even if it doesn't match the beginning value's suffix.\n\t\t\t\t\t\t//if the beginning/ending suffixes don't match, normalize them...\n\t\t\t\t\t\tif (bsfx !== esfx) if (esfx !== \"\" || p === \"lineHeight\") if (en || en === 0) if (bn) { //note: if the beginning value (bn) is 0, we don't need to convert units!\n\t\t\t\t\t\t\tbn = _convertToPixels(target, p, bn, bsfx);\n\t\t\t\t\t\t\tif (esfx === \"%\") {\n\t\t\t\t\t\t\t\tbn /= _convertToPixels(target, p, 100, \"%\") / 100;\n\t\t\t\t\t\t\t\tif (vars.strictUnits !== true) { //some browsers report only \"px\" values instead of allowing \"%\" with getComputedStyle(), so we assume that if we're tweening to a %, we should start there too unless strictUnits:true is defined. This approach is particularly useful for responsive designs that use from() tweens.\n\t\t\t\t\t\t\t\t\tbs = bn + \"%\";\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else if (esfx === \"em\" || esfx === \"rem\" || esfx === \"vw\" || esfx === \"vh\") {\n\t\t\t\t\t\t\t\tbn /= _convertToPixels(target, p, 1, esfx);\n\n\t\t\t\t\t\t\t//otherwise convert to pixels.\n\t\t\t\t\t\t\t} else if (esfx !== \"px\") {\n\t\t\t\t\t\t\t\ten = _convertToPixels(target, p, en, esfx);\n\t\t\t\t\t\t\t\tesfx = \"px\"; //we don't use bsfx after this, so we don't need to set it to px too.\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (rel) if (en || en === 0) {\n\t\t\t\t\t\t\t\tes = (en + bn) + esfx; //the changes we made affect relative calculations, so adjust the end value here.\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rel) {\n\t\t\t\t\t\t\ten += bn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((bn || bn === 0) && (en || en === 0)) { //faster than isNaN(). Also, previously we required en !== bn but that doesn't really gain much performance and it prevents _parseToProxy() from working properly if beginning and ending values match but need to get tweened by an external plugin anyway. For example, a bezier tween where the target starts at left:0 and has these points: [{left:50},{left:0}] wouldn't work properly because when parsing the last point, it'd match the first (current) one and a non-tweening CSSPropTween would be recorded when we actually need a normal tween (type:0) so that things get updated during the tween properly.\n\t\t\t\t\t\t\tpt = new CSSPropTween(style, p, bn, en - bn, pt, 0, p, (_autoRound !== false && (esfx === \"px\" || p === \"zIndex\")), 0, bs, es);\n\t\t\t\t\t\t\tpt.xs0 = esfx;\n\t\t\t\t\t\t\t//DEBUG: _log(\"tween \"+p+\" from \"+pt.b+\" (\"+bn+esfx+\") to \"+pt.e+\" with suffix: \"+pt.xs0);\n\t\t\t\t\t\t} else if (style[p] === undefined || !es && (es + \"\" === \"NaN\" || es == null)) {\n\t\t\t\t\t\t\t_log(\"invalid \" + p + \" tween value: \" + vars[p]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = new CSSPropTween(style, p, en || bn || 0, 0, pt, -1, p, false, 0, bs, es);\n\t\t\t\t\t\t\tpt.xs0 = (es === \"none\" && (p === \"display\" || p.indexOf(\"Style\") !== -1)) ? bs : es; //intermediate value should typically be set immediately (end value) except for \"display\" or things like borderTopStyle, borderBottomStyle, etc. which should use the beginning value during the tween.\n\t\t\t\t\t\t\t//DEBUG: _log(\"non-tweening value \"+p+\": \"+pt.xs0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (plugin) if (pt && !pt.plugin) {\n\t\t\t\t\tpt.plugin = plugin;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pt;\n\t\t};\n\n\n\t\t//gets called every time the tween updates, passing the new ratio (typically a value between 0 and 1, but not always (for example, if an Elastic.easeOut is used, the value can jump above 1 mid-tween). It will always start and 0 and end at 1.\n\t\tp.setRatio = function(v) {\n\t\t\tvar pt = this._firstPT,\n\t\t\t\tmin = 0.000001,\n\t\t\t\tval, str, i;\n\t\t\t//at the end of the tween, we set the values to exactly what we received in order to make sure non-tweening values (like \"position\" or \"float\" or whatever) are set and so that if the beginning/ending suffixes (units) didn't match and we normalized to px, the value that the user passed in is used here. We check to see if the tween is at its beginning in case it's a from() tween in which case the ratio will actually go from 1 to 0 over the course of the tween (backwards).\n\t\t\tif (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {\n\t\t\t\twhile (pt) {\n\t\t\t\t\tif (pt.type !== 2) {\n\t\t\t\t\t\tif (pt.r && pt.type !== -1) {\n\t\t\t\t\t\t\tval = pt.r(pt.s + pt.c);\n\t\t\t\t\t\t\tif (!pt.type) {\n\t\t\t\t\t\t\t\tpt.t[pt.p] = val + pt.xs0;\n\t\t\t\t\t\t\t} else if (pt.type === 1) { //complex value (one that typically has multiple numbers inside a string, like \"rect(5px,10px,20px,25px)\"\n\t\t\t\t\t\t\t\ti = pt.l;\n\t\t\t\t\t\t\t\tstr = pt.xs0 + val + pt.xs1;\n\t\t\t\t\t\t\t\tfor (i = 1; i < pt.l; i++) {\n\t\t\t\t\t\t\t\t\tstr += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpt.t[pt.p] = str;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt.t[pt.p] = pt.e;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.setRatio(v);\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\n\t\t\t} else if (v || !(this._tween._time === this._tween._duration || this._tween._time === 0) || this._tween._rawPrevTime === -0.000001) {\n\t\t\t\twhile (pt) {\n\t\t\t\t\tval = pt.c * v + pt.s;\n\t\t\t\t\tif (pt.r) {\n\t\t\t\t\t\tval = pt.r(val);\n\t\t\t\t\t} else if (val < min) if (val > -min) {\n\t\t\t\t\t\tval = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (!pt.type) {\n\t\t\t\t\t\tpt.t[pt.p] = val + pt.xs0;\n\t\t\t\t\t} else if (pt.type === 1) { //complex value (one that typically has multiple numbers inside a string, like \"rect(5px,10px,20px,25px)\"\n\t\t\t\t\t\ti = pt.l;\n\t\t\t\t\t\tif (i === 2) {\n\t\t\t\t\t\t\tpt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2;\n\t\t\t\t\t\t} else if (i === 3) {\n\t\t\t\t\t\t\tpt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3;\n\t\t\t\t\t\t} else if (i === 4) {\n\t\t\t\t\t\t\tpt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4;\n\t\t\t\t\t\t} else if (i === 5) {\n\t\t\t\t\t\t\tpt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4 + pt.xn4 + pt.xs5;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstr = pt.xs0 + val + pt.xs1;\n\t\t\t\t\t\t\tfor (i = 1; i < pt.l; i++) {\n\t\t\t\t\t\t\t\tstr += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpt.t[pt.p] = str;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (pt.type === -1) { //non-tweening value\n\t\t\t\t\t\tpt.t[pt.p] = pt.xs0;\n\n\t\t\t\t\t} else if (pt.setRatio) { //custom setRatio() for things like SpecialProps, external plugins, etc.\n\t\t\t\t\t\tpt.setRatio(v);\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\n\t\t\t//if the tween is reversed all the way back to the beginning, we need to restore the original values which may have different units (like % instead of px or em or whatever).\n\t\t\t} else {\n\t\t\t\twhile (pt) {\n\t\t\t\t\tif (pt.type !== 2) {\n\t\t\t\t\t\tpt.t[pt.p] = pt.b;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.setRatio(v);\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @private\n\t\t * Forces rendering of the target's transforms (rotation, scale, etc.) whenever the CSSPlugin's setRatio() is called.\n\t\t * Basically, this tells the CSSPlugin to create a CSSPropTween (type 2) after instantiation that runs last in the linked\n\t\t * list and calls the appropriate (3D or 2D) rendering function. We separate this into its own method so that we can call\n\t\t * it from other plugins like BezierPlugin if, for example, it needs to apply an autoRotation and this CSSPlugin\n\t\t * doesn't have any transform-related properties of its own. You can call this method as many times as you\n\t\t * want and it won't create duplicate CSSPropTweens.\n\t\t *\n\t\t * @param {boolean} threeD if true, it should apply 3D tweens (otherwise, just 2D ones are fine and typically faster)\n\t\t */\n\t\tp._enableTransforms = function(threeD) {\n\t\t\tthis._transform = this._transform || _getTransform(this._target, _cs, true); //ensures that the element has a _gsTransform property with the appropriate values.\n\t\t\tthis._transformType = (!(this._transform.svg && _useSVGTransformAttr) && (threeD || this._transformType === 3)) ? 3 : 2;\n\t\t};\n\n\t\tvar lazySet = function(v) {\n\t\t\tthis.t[this.p] = this.e;\n\t\t\tthis.data._linkCSSP(this, this._next, null, true); //we purposefully keep this._next even though it'd make sense to null it, but this is a performance optimization, as this happens during the while (pt) {} loop in setRatio() at the bottom of which it sets pt = pt._next, so if we null it, the linked list will be broken in that loop.\n\t\t};\n\t\t/** @private Gives us a way to set a value on the first render (and only the first render). **/\n\t\tp._addLazySet = function(t, p, v) {\n\t\t\tvar pt = this._firstPT = new CSSPropTween(t, p, 0, 0, this._firstPT, 2);\n\t\t\tpt.e = v;\n\t\t\tpt.setRatio = lazySet;\n\t\t\tpt.data = this;\n\t\t};\n\n\t\t/** @private **/\n\t\tp._linkCSSP = function(pt, next, prev, remove) {\n\t\t\tif (pt) {\n\t\t\t\tif (next) {\n\t\t\t\t\tnext._prev = pt;\n\t\t\t\t}\n\t\t\t\tif (pt._next) {\n\t\t\t\t\tpt._next._prev = pt._prev;\n\t\t\t\t}\n\t\t\t\tif (pt._prev) {\n\t\t\t\t\tpt._prev._next = pt._next;\n\t\t\t\t} else if (this._firstPT === pt) {\n\t\t\t\t\tthis._firstPT = pt._next;\n\t\t\t\t\tremove = true; //just to prevent resetting this._firstPT 5 lines down in case pt._next is null. (optimized for speed)\n\t\t\t\t}\n\t\t\t\tif (prev) {\n\t\t\t\t\tprev._next = pt;\n\t\t\t\t} else if (!remove && this._firstPT === null) {\n\t\t\t\t\tthis._firstPT = pt;\n\t\t\t\t}\n\t\t\t\tpt._next = next;\n\t\t\t\tpt._prev = prev;\n\t\t\t}\n\t\t\treturn pt;\n\t\t};\n\n\t\tp._mod = function(lookup) {\n\t\t\tvar pt = this._firstPT;\n\t\t\twhile (pt) {\n\t\t\t\tif (typeof(lookup[pt.p]) === \"function\") { //only gets called by RoundPropsPlugin (ModifyPlugin manages all the rendering internally for CSSPlugin properties that need modification). Remember, we handle rounding a bit differently in this plugin for performance reasons, leveraging \"r\" as an indicator that the value should be rounded internally.\n\t\t\t\t\tpt.r = lookup[pt.p];\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\t\t};\n\n\t\t//we need to make sure that if alpha or autoAlpha is killed, opacity is too. And autoAlpha affects the \"visibility\" property.\n\t\tp._kill = function(lookup) {\n\t\t\tvar copy = lookup,\n\t\t\t\tpt, p, xfirst;\n\t\t\tif (lookup.autoAlpha || lookup.alpha) {\n\t\t\t\tcopy = {};\n\t\t\t\tfor (p in lookup) { //copy the lookup so that we're not changing the original which may be passed elsewhere.\n\t\t\t\t\tcopy[p] = lookup[p];\n\t\t\t\t}\n\t\t\t\tcopy.opacity = 1;\n\t\t\t\tif (copy.autoAlpha) {\n\t\t\t\t\tcopy.visibility = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (lookup.className && (pt = this._classNamePT)) { //for className tweens, we need to kill any associated CSSPropTweens too; a linked list starts at the className's \"xfirst\".\n\t\t\t\txfirst = pt.xfirst;\n\t\t\t\tif (xfirst && xfirst._prev) {\n\t\t\t\t\tthis._linkCSSP(xfirst._prev, pt._next, xfirst._prev._prev); //break off the prev\n\t\t\t\t} else if (xfirst === this._firstPT) {\n\t\t\t\t\tthis._firstPT = pt._next;\n\t\t\t\t}\n\t\t\t\tif (pt._next) {\n\t\t\t\t\tthis._linkCSSP(pt._next, pt._next._next, xfirst._prev);\n\t\t\t\t}\n\t\t\t\tthis._classNamePT = null;\n\t\t\t}\n\t\t\tpt = this._firstPT;\n\t\t\twhile (pt) {\n\t\t\t\tif (pt.plugin && pt.plugin !== p && pt.plugin._kill) { //for plugins that are registered with CSSPlugin, we should notify them of the kill.\n\t\t\t\t\tpt.plugin._kill(lookup);\n\t\t\t\t\tp = pt.plugin;\n\t\t\t\t}\n\t\t\t\tpt = pt._next;\n\t\t\t}\n\t\t\treturn TweenPlugin.prototype._kill.call(this, copy);\n\t\t};\n\n\n\n\t\t//used by cascadeTo() for gathering all the style properties of each child element into an array for comparison.\n\t\tvar _getChildStyles = function(e, props, targets) {\n\t\t\t\tvar children, i, child, type;\n\t\t\t\tif (e.slice) {\n\t\t\t\t\ti = e.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t_getChildStyles(e[i], props, targets);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tchildren = e.childNodes;\n\t\t\t\ti = children.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\ttype = child.type;\n\t\t\t\t\tif (child.style) {\n\t\t\t\t\t\tprops.push(_getAllStyles(child));\n\t\t\t\t\t\tif (targets) {\n\t\t\t\t\t\t\ttargets.push(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ((type === 1 || type === 9 || type === 11) && child.childNodes.length) {\n\t\t\t\t\t\t_getChildStyles(child, props, targets);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t/**\n\t\t * Typically only useful for className tweens that may affect child elements, this method creates a TweenLite\n\t\t * and then compares the style properties of all the target's child elements at the tween's start and end, and\n\t\t * if any are different, it also creates tweens for those and returns an array containing ALL of the resulting\n\t\t * tweens (so that you can easily add() them to a TimelineLite, for example). The reason this functionality is\n\t\t * wrapped into a separate static method of CSSPlugin instead of being integrated into all regular className tweens\n\t\t * is because it creates entirely new tweens that may have completely different targets than the original tween,\n\t\t * so if they were all lumped into the original tween instance, it would be inconsistent with the rest of the API\n\t\t * and it would create other problems. For example:\n\t\t *  - If I create a tween of elementA, that tween instance may suddenly change its target to include 50 other elements (unintuitive if I specifically defined the target I wanted)\n\t\t *  - We can't just create new independent tweens because otherwise, what happens if the original/parent tween is reversed or pause or dropped into a TimelineLite for tight control? You'd expect that tween's behavior to affect all the others.\n\t\t *  - Analyzing every style property of every child before and after the tween is an expensive operation when there are many children, so this behavior shouldn't be imposed on all className tweens by default, especially since it's probably rare that this extra functionality is needed.\n\t\t *\n\t\t * @param {Object} target object to be tweened\n\t\t * @param {number} Duration in seconds (or frames for frames-based tweens)\n\t\t * @param {Object} Object containing the end values, like {className:\"newClass\", ease:Linear.easeNone}\n\t\t * @return {Array} An array of TweenLite instances\n\t\t */\n\t\tCSSPlugin.cascadeTo = function(target, duration, vars) {\n\t\t\tvar tween = TweenLite.to(target, duration, vars),\n\t\t\t\tresults = [tween],\n\t\t\t\tb = [],\n\t\t\t\te = [],\n\t\t\t\ttargets = [],\n\t\t\t\t_reservedProps = TweenLite._internals.reservedProps,\n\t\t\t\ti, difs, p, from;\n\t\t\ttarget = tween._targets || tween.target;\n\t\t\t_getChildStyles(target, b, targets);\n\t\t\ttween.render(duration, true, true);\n\t\t\t_getChildStyles(target, e);\n\t\t\ttween.render(0, true, true);\n\t\t\ttween._enabled(true);\n\t\t\ti = targets.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\tdifs = _cssDif(targets[i], b[i], e[i]);\n\t\t\t\tif (difs.firstMPT) {\n\t\t\t\t\tdifs = difs.difs;\n\t\t\t\t\tfor (p in vars) {\n\t\t\t\t\t\tif (_reservedProps[p]) {\n\t\t\t\t\t\t\tdifs[p] = vars[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfrom = {};\n\t\t\t\t\tfor (p in difs) {\n\t\t\t\t\t\tfrom[p] = b[i][p];\n\t\t\t\t\t}\n\t\t\t\t\tresults.push(TweenLite.fromTo(targets[i], duration, from, difs));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t\tTweenPlugin.activate([CSSPlugin]);\n\t\treturn CSSPlugin;\n\n\t}, true);\n\nexport var CSSPlugin = globals.CSSPlugin;\nexport { CSSPlugin as default };","/*!\n * VERSION: 0.6.1\n * DATE: 2018-08-27\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n\nimport { _gsScope } from \"./TweenLite.js\";\n\nexport var AttrPlugin = _gsScope._gsDefine.plugin({\n\tpropName: \"attr\",\n\tAPI: 2,\n\tversion: \"0.6.1\",\n\n\t//called when the tween renders for the first time. This is where initial values should be recorded and any setup routines should run.\n\tinit: function(target, value, tween, index) {\n\t\tvar p, end;\n\t\tif (typeof(target.setAttribute) !== \"function\") {\n\t\t\treturn false;\n\t\t}\n\t\tfor (p in value) {\n\t\t\tend = value[p];\n\t\t\tif (typeof(end) === \"function\") {\n\t\t\t\tend = end(index, target);\n\t\t\t}\n\t\t\tthis._addTween(target, \"setAttribute\", target.getAttribute(p) + \"\", end + \"\", p, false, p);\n\t\t\tthis._overwriteProps.push(p);\n\t\t}\n\t\treturn true;\n\t}\n\n});\n\nexport { AttrPlugin as default };\n\n\n\n","/*!\n * VERSION: 1.6.0\n * DATE: 2018-08-27\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\n\nimport { _gsScope } from \"./TweenLite.js\";\n\nexport var RoundPropsPlugin = _gsScope._gsDefine.plugin({\n\t\t\t\tpropName: \"roundProps\",\n\t\t\t\tversion: \"1.7.0\",\n\t\t\t\tpriority: -1,\n\t\t\t\tAPI: 2,\n\n\t\t\t\t//called when the tween renders for the first time. This is where initial values should be recorded and any setup routines should run.\n\t\t\t\tinit: function(target, value, tween) {\n\t\t\t\t\tthis._tween = tween;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t}),\n\t\t\t_getRoundFunc = function(v) { //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n\t\t\t\tvar p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\t\t\t\treturn function(n) {\n\t\t\t\t\treturn ((Math.round(n / v) * v * p) | 0) / p;\n\t\t\t\t};\n\t\t\t},\n\t\t\t_roundLinkedList = function(node, mod) {\n\t\t\t\twhile (node) {\n\t\t\t\t\tif (!node.f && !node.blob) {\n\t\t\t\t\t\tnode.m = mod || Math.round;\n\t\t\t\t\t}\n\t\t\t\t\tnode = node._next;\n\t\t\t\t}\n\t\t\t},\n\t\t\tp = RoundPropsPlugin.prototype;\n\n\t\tp._onInitAllProps = function() {\n\t\t\tvar tween = this._tween,\n\t\t\t\trp = tween.vars.roundProps,\n\t\t\t\tlookup = {},\n\t\t\t\trpt = tween._propLookup.roundProps,\n\t\t\t\tpt, next, i, p;\n\t\t\tif (typeof(rp) === \"object\" && !rp.push) {\n\t\t\t\tfor (p in rp) {\n\t\t\t\t\tlookup[p] = _getRoundFunc(rp[p]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof(rp) === \"string\") {\n\t\t\t\t\trp = rp.split(\",\");\n\t\t\t\t}\n\t\t\t\ti = rp.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tlookup[rp[i]] = Math.round;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (p in lookup) {\n\t\t\t\tpt = tween._firstPT;\n\t\t\t\twhile (pt) {\n\t\t\t\t\tnext = pt._next; //record here, because it may get removed\n\t\t\t\t\tif (pt.pg) {\n\t\t\t\t\t\tpt.t._mod(lookup);\n\t\t\t\t\t} else if (pt.n === p) {\n\t\t\t\t\t\tif (pt.f === 2 && pt.t) { //a blob (text containing multiple numeric values)\n\t\t\t\t\t\t\t_roundLinkedList(pt.t._firstPT, lookup[p]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._add(pt.t, p, pt.s, pt.c, lookup[p]);\n\t\t\t\t\t\t\t//remove from linked list\n\t\t\t\t\t\t\tif (next) {\n\t\t\t\t\t\t\t\tnext._prev = pt._prev;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (pt._prev) {\n\t\t\t\t\t\t\t\tpt._prev._next = next;\n\t\t\t\t\t\t\t} else if (tween._firstPT === pt) {\n\t\t\t\t\t\t\t\ttween._firstPT = next;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpt._next = pt._prev = null;\n\t\t\t\t\t\t\ttween._propLookup[p] = rpt;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpt = next;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tp._add = function(target, p, s, c, mod) {\n\t\t\tthis._addTween(target, p, s, s + c, p, mod || Math.round);\n\t\t\tthis._overwriteProps.push(p);\n\t\t};\n\nexport { RoundPropsPlugin as default };\n","/*!\n * VERSION: 0.3.1\n * DATE: 2018-08-27\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\n\nimport { _gsScope } from \"./TweenLite.js\";\n\nexport var DirectionalRotationPlugin = _gsScope._gsDefine.plugin({\n\t\tpropName: \"directionalRotation\",\n\t\tversion: \"0.3.1\",\n\t\tAPI: 2,\n\n\t\t//called when the tween renders for the first time. This is where initial values should be recorded and any setup routines should run.\n\t\tinit: function(target, value, tween, index) {\n\t\t\tif (typeof(value) !== \"object\") {\n\t\t\t\tvalue = {rotation:value};\n\t\t\t}\n\t\t\tthis.finals = {};\n\t\t\tvar cap = (value.useRadians === true) ? Math.PI * 2 : 360,\n\t\t\t\tmin = 0.000001,\n\t\t\t\tp, v, start, end, dif, split;\n\t\t\tfor (p in value) {\n\t\t\t\tif (p !== \"useRadians\") {\n\t\t\t\t\tend = value[p];\n\t\t\t\t\tif (typeof(end) === \"function\") {\n\t\t\t\t\t\tend = end(index, target);\n\t\t\t\t\t}\n\t\t\t\t\tsplit = (end + \"\").split(\"_\");\n\t\t\t\t\tv = split[0];\n\t\t\t\t\tstart = parseFloat( (typeof(target[p]) !== \"function\") ? target[p] : target[ ((p.indexOf(\"set\") || typeof(target[\"get\" + p.substr(3)]) !== \"function\") ? p : \"get\" + p.substr(3)) ]() );\n\t\t\t\t\tend = this.finals[p] = (typeof(v) === \"string\" && v.charAt(1) === \"=\") ? start + parseInt(v.charAt(0) + \"1\", 10) * Number(v.substr(2)) : Number(v) || 0;\n\t\t\t\t\tdif = end - start;\n\t\t\t\t\tif (split.length) {\n\t\t\t\t\t\tv = split.join(\"_\");\n\t\t\t\t\t\tif (v.indexOf(\"short\") !== -1) {\n\t\t\t\t\t\t\tdif = dif % cap;\n\t\t\t\t\t\t\tif (dif !== dif % (cap / 2)) {\n\t\t\t\t\t\t\t\tdif = (dif < 0) ? dif + cap : dif - cap;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (v.indexOf(\"_cw\") !== -1 && dif < 0) {\n\t\t\t\t\t\t\tdif = ((dif + cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\n\t\t\t\t\t\t} else if (v.indexOf(\"ccw\") !== -1 && dif > 0) {\n\t\t\t\t\t\t\tdif = ((dif - cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (dif > min || dif < -min) {\n\t\t\t\t\t\tthis._addTween(target, p, start, start + dif, p);\n\t\t\t\t\t\tthis._overwriteProps.push(p);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t//called each time the values should be updated, and the ratio gets passed as the only parameter (typically it's a value between 0 and 1, but it can exceed those when using an ease like Elastic.easeOut or Back.easeOut, etc.)\n\t\tset: function(ratio) {\n\t\t\tvar pt;\n\t\t\tif (ratio !== 1) {\n\t\t\t\tthis._super.setRatio.call(this, ratio);\n\t\t\t} else {\n\t\t\t\tpt = this._firstPT;\n\t\t\t\twhile (pt) {\n\t\t\t\t\tif (pt.f) {\n\t\t\t\t\t\tpt.t[pt.p](this.finals[pt.p]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt.t[pt.p] = this.finals[pt.p];\n\t\t\t\t\t}\n\t\t\t\t\tpt = pt._next;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\nDirectionalRotationPlugin._autoCSS = true;\n\nexport { DirectionalRotationPlugin as default };","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n\nimport TweenLite, { _gsScope, globals, Animation, SimpleTimeline } from \"./TweenLite.js\";\n\n_gsScope._gsDefine(\"TimelineLite\", [\"core.Animation\",\"core.SimpleTimeline\",\"TweenLite\"], function() {\n\n\t\tvar TimelineLite = function(vars) {\n\t\t\t\tSimpleTimeline.call(this, vars);\n\t\t\t\tvar self = this,\n\t\t\t\t\tv = self.vars,\n\t\t\t\t\tval, p;\n\t\t\t\tself._labels = {};\n\t\t\t\tself.autoRemoveChildren = !!v.autoRemoveChildren;\n\t\t\t\tself.smoothChildTiming = !!v.smoothChildTiming;\n\t\t\t\tself._sortChildren = true;\n\t\t\t\tself._onUpdate = v.onUpdate;\n\t\t\t\tfor (p in v) {\n\t\t\t\t\tval = v[p];\n\t\t\t\t\tif (_isArray(val)) if (val.join(\"\").indexOf(\"{self}\") !== -1) {\n\t\t\t\t\t\tv[p] = self._swapSelfInParams(val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (_isArray(v.tweens)) {\n\t\t\t\t\tself.add(v.tweens, 0, v.align, v.stagger);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_tinyNum = 0.00000001,\n\t\t\tTweenLiteInternals = TweenLite._internals,\n\t\t\t_internals = TimelineLite._internals = {},\n\t\t\t_isSelector = TweenLiteInternals.isSelector,\n\t\t\t_isArray = TweenLiteInternals.isArray,\n\t\t\t_lazyTweens = TweenLiteInternals.lazyTweens,\n\t\t\t_lazyRender = TweenLiteInternals.lazyRender,\n\t\t\t_globals = _gsScope._gsDefine.globals,\n\t\t\t_copy = function(vars) {\n\t\t\t\tvar copy = {}, p;\n\t\t\t\tfor (p in vars) {\n\t\t\t\t\tcopy[p] = vars[p];\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t},\n\t\t\t_applyCycle = function(vars, targets, i) {\n\t\t\t\tvar alt = vars.cycle,\n\t\t\t\t\tp, val;\n\t\t\t\tfor (p in alt) {\n\t\t\t\t\tval = alt[p];\n\t\t\t\t\tvars[p] = (typeof(val) === \"function\") ? val(i, targets[i], targets) : val[i % val.length];\n\t\t\t\t}\n\t\t\t\tdelete vars.cycle;\n\t\t\t},\n\t\t\t_pauseCallback = _internals.pauseCallback = function() {},\n\t\t\t_slice = function(a) { //don't use [].slice because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\n\t\t\t\tvar b = [],\n\t\t\t\t\tl = a.length,\n\t\t\t\t\ti;\n\t\t\t\tfor (i = 0; i !== l; b.push(a[i++]));\n\t\t\t\treturn b;\n\t\t\t},\n\t\t\t_defaultImmediateRender = function(tl, toVars, fromVars, defaultFalse) { //default to immediateRender:true unless otherwise set in toVars, fromVars or if defaultFalse is passed in as true\n\t\t\t\tvar ir = \"immediateRender\";\n\t\t\t\tif (!(ir in toVars)) {\n\t\t\t\t\ttoVars[ir] = !((fromVars && fromVars[ir] === false) || defaultFalse);\n\t\t\t\t}\n\t\t\t\treturn toVars;\n\t\t\t},\n\t\t\t//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\n\t\t\t_distribute = function(v) {\n\t\t\t\tif (typeof(v) === \"function\") {\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\tvar vars = (typeof(v) === \"object\") ? v : {each:v}, //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n\t\t\t\t\tease = vars.ease,\n\t\t\t\t\tfrom = vars.from || 0,\n\t\t\t\t\tbase = vars.base || 0,\n\t\t\t\t\tcache = {},\n\t\t\t\t\tisFromKeyword = isNaN(from),\n\t\t\t\t\taxis = vars.axis,\n\t\t\t\t\tratio = {center:0.5, end:1}[from] || 0;\n\t\t\t\treturn function(i, target, a) {\n\t\t\t\t\tvar l = (a || vars).length,\n\t\t\t\t\t\tdistances = cache[l],\n\t\t\t\t\t\toriginX, originY, x, y, d, j, max, min, wrap;\n\t\t\t\t\tif (!distances) {\n\t\t\t\t\t\twrap = (vars.grid === \"auto\") ? 0 : (vars.grid || [Infinity])[0];\n\t\t\t\t\t\tif (!wrap) {\n\t\t\t\t\t\t\tmax = -Infinity;\n\t\t\t\t\t\t\twhile (max < (max = a[wrap++].getBoundingClientRect().left) && wrap < l) { }\n\t\t\t\t\t\t\twrap--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdistances = cache[l] = [];\n\t\t\t\t\t\toriginX = isFromKeyword ? (Math.min(wrap, l) * ratio) - 0.5 : from % wrap;\n\t\t\t\t\t\toriginY = isFromKeyword ? l * ratio / wrap - 0.5 : (from / wrap) | 0;\n\t\t\t\t\t\tmax = 0;\n\t\t\t\t\t\tmin = Infinity;\n\t\t\t\t\t\tfor (j = 0; j < l; j++) {\n\t\t\t\t\t\t\tx = (j % wrap) - originX;\n\t\t\t\t\t\t\ty = originY - ((j / wrap) | 0);\n\t\t\t\t\t\t\tdistances[j] = d = !axis ? Math.sqrt(x * x + y * y) : Math.abs((axis === \"y\") ? y : x);\n\t\t\t\t\t\t\tif (d > max) {\n\t\t\t\t\t\t\t\tmax = d;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (d < min) {\n\t\t\t\t\t\t\t\tmin = d;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdistances.max = max - min;\n\t\t\t\t\t\tdistances.min = min;\n\t\t\t\t\t\tdistances.v = l = vars.amount || (vars.each * (wrap > l ? l - 1 : !axis ? Math.max(wrap, l / wrap) : axis === \"y\" ? l / wrap : wrap)) || 0;\n\t\t\t\t\t\tdistances.b = (l < 0) ? base - l : base;\n\t\t\t\t\t}\n\t\t\t\t\tl = (distances[i] - distances.min) / distances.max;\n\t\t\t\t\treturn distances.b + (ease ? ease.getRatio(l) : l) * distances.v;\n\t\t\t\t};\n\t\t\t},\n\t\t\tp = TimelineLite.prototype = new SimpleTimeline();\n\n\t\tTimelineLite.version = \"2.1.3\";\n\t\tTimelineLite.distribute = _distribute;\n\t\tp.constructor = TimelineLite;\n\t\tp.kill()._gc = p._forcingPlayhead = p._hasPause = false;\n\n\t\t/* might use later...\n\t\t//translates a local time inside an animation to the corresponding time on the root/global timeline, factoring in all nesting and timeScales.\n\t\tfunction localToGlobal(time, animation) {\n\t\t\twhile (animation) {\n\t\t\t\ttime = (time / animation._timeScale) + animation._startTime;\n\t\t\t\tanimation = animation.timeline;\n\t\t\t}\n\t\t\treturn time;\n\t\t}\n\n\t\t//translates the supplied time on the root/global timeline into the corresponding local time inside a particular animation, factoring in all nesting and timeScales\n\t\tfunction globalToLocal(time, animation) {\n\t\t\tvar scale = 1;\n\t\t\ttime -= localToGlobal(0, animation);\n\t\t\twhile (animation) {\n\t\t\t\tscale *= animation._timeScale;\n\t\t\t\tanimation = animation.timeline;\n\t\t\t}\n\t\t\treturn time * scale;\n\t\t}\n\t\t*/\n\n\t\tp.to = function(target, duration, vars, position) {\n\t\t\tvar Engine = (vars.repeat && _globals.TweenMax) || TweenLite;\n\t\t\treturn duration ? this.add( new Engine(target, duration, vars), position) : this.set(target, vars, position);\n\t\t};\n\n\t\tp.from = function(target, duration, vars, position) {\n\t\t\treturn this.add( ((vars.repeat && _globals.TweenMax) || TweenLite).from(target, duration, _defaultImmediateRender(this, vars)), position);\n\t\t};\n\n\t\tp.fromTo = function(target, duration, fromVars, toVars, position) {\n\t\t\tvar Engine = (toVars.repeat && _globals.TweenMax) || TweenLite;\n\t\t\ttoVars = _defaultImmediateRender(this, toVars, fromVars);\n\t\t\treturn duration ? this.add( Engine.fromTo(target, duration, fromVars, toVars), position) : this.set(target, toVars, position);\n\t\t};\n\n\t\tp.staggerTo = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\tvar tl = new TimelineLite({onComplete:onCompleteAll, onCompleteParams:onCompleteAllParams, callbackScope:onCompleteAllScope, smoothChildTiming:this.smoothChildTiming}),\n\t\t\t\tstaggerFunc = _distribute(vars.stagger || stagger),\n\t\t\t\tstartAt = vars.startAt,\n\t\t\t\tcycle = vars.cycle,\n\t\t\t\tcopy, i;\n\t\t\tif (typeof(targets) === \"string\") {\n\t\t\t\ttargets = TweenLite.selector(targets) || targets;\n\t\t\t}\n\t\t\ttargets = targets || [];\n\t\t\tif (_isSelector(targets)) { //if the targets object is a selector, translate it into an array.\n\t\t\t\ttargets = _slice(targets);\n\t\t\t}\n\t\t\tfor (i = 0; i < targets.length; i++) {\n\t\t\t\tcopy = _copy(vars);\n\t\t\t\tif (startAt) {\n\t\t\t\t\tcopy.startAt = _copy(startAt);\n\t\t\t\t\tif (startAt.cycle) {\n\t\t\t\t\t\t_applyCycle(copy.startAt, targets, i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (cycle) {\n\t\t\t\t\t_applyCycle(copy, targets, i);\n\t\t\t\t\tif (copy.duration != null) {\n\t\t\t\t\t\tduration = copy.duration;\n\t\t\t\t\t\tdelete copy.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttl.to(targets[i], duration, copy, staggerFunc(i, targets[i], targets));\n\t\t\t}\n\t\t\treturn this.add(tl, position);\n\t\t};\n\n\t\tp.staggerFrom = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\tvars.runBackwards = true;\n\t\t\treturn this.staggerTo(targets, duration, _defaultImmediateRender(this, vars), stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\n\t\t};\n\n\t\tp.staggerFromTo = function(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\n\t\t\ttoVars.startAt = fromVars;\n\t\t\treturn this.staggerTo(targets, duration, _defaultImmediateRender(this, toVars, fromVars), stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\n\t\t};\n\n\t\tp.call = function(callback, params, scope, position) {\n\t\t\treturn this.add( TweenLite.delayedCall(0, callback, params, scope), position);\n\t\t};\n\n\t\tp.set = function(target, vars, position) {\n\t\t\treturn this.add( new TweenLite(target, 0, _defaultImmediateRender(this, vars, null, true)), position);\n\t\t};\n\n\t\tTimelineLite.exportRoot = function(vars, ignoreDelayedCalls) {\n\t\t\tvars = vars || {};\n\t\t\tif (vars.smoothChildTiming == null) {\n\t\t\t\tvars.smoothChildTiming = true;\n\t\t\t}\n\t\t\tvar tl = new TimelineLite(vars),\n\t\t\t\troot = tl._timeline,\n\t\t\t\thasNegativeStart, time,\ttween, next;\n\t\t\tif (ignoreDelayedCalls == null) {\n\t\t\t\tignoreDelayedCalls = true;\n\t\t\t}\n\t\t\troot._remove(tl, true);\n\t\t\ttl._startTime = 0;\n\t\t\ttl._rawPrevTime = tl._time = tl._totalTime = root._time;\n\t\t\ttween = root._first;\n\t\t\twhile (tween) {\n\t\t\t\tnext = tween._next;\n\t\t\t\tif (!ignoreDelayedCalls || !(tween instanceof TweenLite && tween.target === tween.vars.onComplete)) {\n\t\t\t\t\ttime = tween._startTime - tween._delay;\n\t\t\t\t\tif (time < 0) {\n\t\t\t\t\t\thasNegativeStart = 1;\n\t\t\t\t\t}\n\t\t\t\t\ttl.add(tween, time);\n\t\t\t\t}\n\t\t\t\ttween = next;\n\t\t\t}\n\t\t\troot.add(tl, 0);\n\t\t\tif (hasNegativeStart) { //calling totalDuration() will force the adjustment necessary to shift the children forward so none of them start before zero, and moves the timeline backwards the same amount, so the playhead is still aligned where it should be globally, but the timeline doesn't have illegal children that start before zero.\n\t\t\t\ttl.totalDuration();\n\t\t\t}\n\t\t\treturn tl;\n\t\t};\n\n\t\tp.add = function(value, position, align, stagger) {\n\t\t\tvar self = this,\n\t\t\t\tcurTime, l, i, child, tl, beforeRawTime;\n\t\t\tif (typeof(position) !== \"number\") {\n\t\t\t\tposition = self._parseTimeOrLabel(position, 0, true, value);\n\t\t\t}\n\t\t\tif (!(value instanceof Animation)) {\n\t\t\t\tif ((value instanceof Array) || (value && value.push && _isArray(value))) {\n\t\t\t\t\talign = align || \"normal\";\n\t\t\t\t\tstagger = stagger || 0;\n\t\t\t\t\tcurTime = position;\n\t\t\t\t\tl = value.length;\n\t\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\t\tif (_isArray(child = value[i])) {\n\t\t\t\t\t\t\tchild = new TimelineLite({tweens:child});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.add(child, curTime);\n\t\t\t\t\t\tif (typeof(child) !== \"string\" && typeof(child) !== \"function\") {\n\t\t\t\t\t\t\tif (align === \"sequence\") {\n\t\t\t\t\t\t\t\tcurTime = child._startTime + (child.totalDuration() / child._timeScale);\n\t\t\t\t\t\t\t} else if (align === \"start\") {\n\t\t\t\t\t\t\t\tchild._startTime -= child.delay();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurTime += stagger;\n\t\t\t\t\t}\n\t\t\t\t\treturn self._uncache(true);\n\t\t\t\t} else if (typeof(value) === \"string\") {\n\t\t\t\t\treturn self.addLabel(value, position);\n\t\t\t\t} else if (typeof(value) === \"function\") {\n\t\t\t\t\tvalue = TweenLite.delayedCall(0, value);\n\t\t\t\t} else {\n\t\t\t\t\tthrow(\"Cannot add \" + value + \" into the timeline; it is not a tween, timeline, function, or string.\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSimpleTimeline.prototype.add.call(self, value, position);\n\n\t\t\tif (value._time || (!value._duration && value._initted)) { //in case, for example, the _startTime is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n\t\t\t\tcurTime = (self.rawTime() - value._startTime) * value._timeScale;\n\t\t\t\tif (!value._duration || Math.abs(Math.max(0, Math.min(value.totalDuration(), curTime))) - value._totalTime > 0.00001) {\n\t\t\t\t\tvalue.render(curTime, false, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\t\t\tif (self._gc || self._time === self._duration) if (!self._paused) if (self._duration < self.duration()) {\n\t\t\t\t//in case any of the ancestors had completed but should now be enabled...\n\t\t\t\ttl = self;\n\t\t\t\tbeforeRawTime = (tl.rawTime() > value._startTime); //if the tween is placed on the timeline so that it starts BEFORE the current rawTime, we should align the playhead (move the timeline). This is because sometimes users will create a timeline, let it finish, and much later append a tween and expect it to run instead of jumping to its end state. While technically one could argue that it should jump to its end state, that's not what users intuitively expect.\n\t\t\t\twhile (tl._timeline) {\n\t\t\t\t\tif (beforeRawTime && tl._timeline.smoothChildTiming) {\n\t\t\t\t\t\ttl.totalTime(tl._totalTime, true); //moves the timeline (shifts its startTime) if necessary, and also enables it.\n\t\t\t\t\t} else if (tl._gc) {\n\t\t\t\t\t\ttl._enabled(true, false);\n\t\t\t\t\t}\n\t\t\t\t\ttl = tl._timeline;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn self;\n\t\t};\n\n\t\tp.remove = function(value) {\n\t\t\tif (value instanceof Animation) {\n\t\t\t\tthis._remove(value, false);\n\t\t\t\tvar tl = value._timeline = value.vars.useFrames ? Animation._rootFramesTimeline : Animation._rootTimeline; //now that it's removed, default it to the root timeline so that if it gets played again, it doesn't jump back into this timeline.\n\t\t\t\tvalue._startTime = (value._paused ? value._pauseTime : tl._time) - ((!value._reversed ? value._totalTime : value.totalDuration() - value._totalTime) / value._timeScale); //ensure that if it gets played again, the timing is correct.\n\t\t\t\treturn this;\n\t\t\t} else if (value instanceof Array || (value && value.push && _isArray(value))) {\n\t\t\t\tvar i = value.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tthis.remove(value[i]);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t} else if (typeof(value) === \"string\") {\n\t\t\t\treturn this.removeLabel(value);\n\t\t\t}\n\t\t\treturn this.kill(null, value);\n\t\t};\n\n\t\tp._remove = function(tween, skipDisable) {\n\t\t\tSimpleTimeline.prototype._remove.call(this, tween, skipDisable);\n\t\t\tvar last = this._last;\n\t\t\tif (!last) {\n\t\t\t\tthis._time = this._totalTime = this._duration = this._totalDuration = 0;\n\t\t\t} else if (this._time > this.duration()) {\n\t\t\t\tthis._time = this._duration;\n\t\t\t\tthis._totalTime = this._totalDuration;\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.append = function(value, offsetOrLabel) {\n\t\t\treturn this.add(value, this._parseTimeOrLabel(null, offsetOrLabel, true, value));\n\t\t};\n\n\t\tp.insert = p.insertMultiple = function(value, position, align, stagger) {\n\t\t\treturn this.add(value, position || 0, align, stagger);\n\t\t};\n\n\t\tp.appendMultiple = function(tweens, offsetOrLabel, align, stagger) {\n\t\t\treturn this.add(tweens, this._parseTimeOrLabel(null, offsetOrLabel, true, tweens), align, stagger);\n\t\t};\n\n\t\tp.addLabel = function(label, position) {\n\t\t\tthis._labels[label] = this._parseTimeOrLabel(position);\n\t\t\treturn this;\n\t\t};\n\n\t\tp.addPause = function(position, callback, params, scope) {\n\t\t\tvar t = TweenLite.delayedCall(0, _pauseCallback, params, scope || this);\n\t\t\tt.vars.onComplete = t.vars.onReverseComplete = callback;\n\t\t\tt.data = \"isPause\";\n\t\t\tthis._hasPause = true;\n\t\t\treturn this.add(t, position);\n\t\t};\n\n\t\tp.removeLabel = function(label) {\n\t\t\tdelete this._labels[label];\n\t\t\treturn this;\n\t\t};\n\n\t\tp.getLabelTime = function(label) {\n\t\t\treturn (this._labels[label] != null) ? this._labels[label] : -1;\n\t\t};\n\n\t\tp._parseTimeOrLabel = function(timeOrLabel, offsetOrLabel, appendIfAbsent, ignore) {\n\t\t\tvar clippedDuration, i;\n\t\t\t//if we're about to add a tween/timeline (or an array of them) that's already a child of this timeline, we should remove it first so that it doesn't contaminate the duration().\n\t\t\tif (ignore instanceof Animation && ignore.timeline === this) {\n\t\t\t\tthis.remove(ignore);\n\t\t\t} else if (ignore && ((ignore instanceof Array) || (ignore.push && _isArray(ignore)))) {\n\t\t\t\ti = ignore.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (ignore[i] instanceof Animation && ignore[i].timeline === this) {\n\t\t\t\t\t\tthis.remove(ignore[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tclippedDuration = (typeof(timeOrLabel) === \"number\" && !offsetOrLabel) ? 0 : (this.duration() > 99999999999) ? this.recent().endTime(false) : this._duration; //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n\t\t\tif (typeof(offsetOrLabel) === \"string\") {\n\t\t\t\treturn this._parseTimeOrLabel(offsetOrLabel, (appendIfAbsent && typeof(timeOrLabel) === \"number\" && this._labels[offsetOrLabel] == null) ? timeOrLabel - clippedDuration : 0, appendIfAbsent);\n\t\t\t}\n\t\t\toffsetOrLabel = offsetOrLabel || 0;\n\t\t\tif (typeof(timeOrLabel) === \"string\" && (isNaN(timeOrLabel) || this._labels[timeOrLabel] != null)) { //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n\t\t\t\ti = timeOrLabel.indexOf(\"=\");\n\t\t\t\tif (i === -1) {\n\t\t\t\t\tif (this._labels[timeOrLabel] == null) {\n\t\t\t\t\t\treturn appendIfAbsent ? (this._labels[timeOrLabel] = clippedDuration + offsetOrLabel) : offsetOrLabel;\n\t\t\t\t\t}\n\t\t\t\t\treturn this._labels[timeOrLabel] + offsetOrLabel;\n\t\t\t\t}\n\t\t\t\toffsetOrLabel = parseInt(timeOrLabel.charAt(i-1) + \"1\", 10) * Number(timeOrLabel.substr(i+1));\n\t\t\t\ttimeOrLabel = (i > 1) ? this._parseTimeOrLabel(timeOrLabel.substr(0, i-1), 0, appendIfAbsent) : clippedDuration;\n\t\t\t} else if (timeOrLabel == null) {\n\t\t\t\ttimeOrLabel = clippedDuration;\n\t\t\t}\n\t\t\treturn Number(timeOrLabel) + offsetOrLabel;\n\t\t};\n\n\t\tp.seek = function(position, suppressEvents) {\n\t\t\treturn this.totalTime((typeof(position) === \"number\") ? position : this._parseTimeOrLabel(position), (suppressEvents !== false));\n\t\t};\n\n\t\tp.stop = function() {\n\t\t\treturn this.paused(true);\n\t\t};\n\n\t\tp.gotoAndPlay = function(position, suppressEvents) {\n\t\t\treturn this.play(position, suppressEvents);\n\t\t};\n\n\t\tp.gotoAndStop = function(position, suppressEvents) {\n\t\t\treturn this.pause(position, suppressEvents);\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\tif (this._gc) {\n\t\t\t\tthis._enabled(true, false);\n\t\t\t}\n\t\t\tvar self = this,\n\t\t\t\tprevTime = self._time,\n\t\t\t\ttotalDur = (!self._dirty) ? self._totalDuration : self.totalDuration(),\n\t\t\t\tprevStart = self._startTime,\n\t\t\t\tprevTimeScale = self._timeScale,\n\t\t\t\tprevPaused = self._paused,\n\t\t\t\ttween, isComplete, next, callback, internalForce, pauseTween, curTime, pauseTime;\n\t\t\tif (prevTime !== self._time) { //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n\t\t\t\ttime += self._time - prevTime;\n\t\t\t}\n\t\t\tif (self._hasPause && !self._forcingPlayhead && !suppressEvents) {\n\t\t\t\tif (time > prevTime) {\n\t\t\t\t\ttween = self._first;\n\t\t\t\t\twhile (tween && tween._startTime <= time && !pauseTween) {\n\t\t\t\t\t\tif (!tween._duration) if (tween.data === \"isPause\" && !tween.ratio && !(tween._startTime === 0 && self._rawPrevTime === 0)) {\n\t\t\t\t\t\t\tpauseTween = tween;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttween = tween._next;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttween = self._last;\n\t\t\t\t\twhile (tween && tween._startTime >= time && !pauseTween) {\n\t\t\t\t\t\tif (!tween._duration) if (tween.data === \"isPause\" && tween._rawPrevTime > 0) {\n\t\t\t\t\t\t\tpauseTween = tween;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttween = tween._prev;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pauseTween) {\n\t\t\t\t\tself._time = self._totalTime = time = pauseTween._startTime;\n\t\t\t\t\tpauseTime = self._startTime + (self._reversed ? self._duration - time : time) / self._timeScale;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= totalDur - _tinyNum && time >= 0) { //to work around occasional floating point math artifacts.\n\t\t\t\tself._totalTime = self._time = totalDur;\n\t\t\t\tif (!self._reversed) if (!self._hasPausedChild()) {\n\t\t\t\t\tisComplete = true;\n\t\t\t\t\tcallback = \"onComplete\";\n\t\t\t\t\tinternalForce = !!self._timeline.autoRemoveChildren; //otherwise, if the animation is unpaused/activated after it's already finished, it doesn't get removed from the parent timeline.\n\t\t\t\t\tif (self._duration === 0) if ((time <= 0 && time >= -_tinyNum) || self._rawPrevTime < 0 || self._rawPrevTime === _tinyNum) if (self._rawPrevTime !== time && self._first) {\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t\tif (self._rawPrevTime > _tinyNum) {\n\t\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself._rawPrevTime = (self._duration || !suppressEvents || time || self._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\ttime = totalDur + 0.0001; //to avoid occasional floating point rounding errors - sometimes child tweens/timelines were not being fully completed (their progress might be 0.999999999999998 instead of 1 because when _time - tween._startTime is performed, floating point errors would return a value that was SLIGHTLY off). Try (999999999999.7 - 999999999999) * 1 = 0.699951171875 instead of 0.7.\n\n\t\t\t} else if (time < _tinyNum) { //to work around occasional floating point math artifacts, round super small values to 0.\n\t\t\t\tself._totalTime = self._time = 0;\n\t\t\t\tif (time > -_tinyNum) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tif (prevTime !== 0 || (self._duration === 0 && self._rawPrevTime !== _tinyNum && (self._rawPrevTime > 0 || (time < 0 && self._rawPrevTime >= 0)))) {\n\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\tisComplete = self._reversed;\n\t\t\t\t}\n\t\t\t\tif (time < 0) {\n\t\t\t\t\tself._active = false;\n\t\t\t\t\tif (self._timeline.autoRemoveChildren && self._reversed) { //ensures proper GC if a timeline is resumed after it's finished reversing.\n\t\t\t\t\t\tinternalForce = isComplete = true;\n\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t} else if (self._rawPrevTime >= 0 && self._first) { //when going back beyond the start, force a render so that zero-duration tweens that sit at the very beginning render their start values properly. Otherwise, if the parent timeline's playhead lands exactly at this timeline's startTime, and then moves backwards, the zero-duration tweens at the beginning would still be at their end state.\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t}\n\t\t\t\t\tself._rawPrevTime = time;\n\t\t\t\t} else {\n\t\t\t\t\tself._rawPrevTime = (self._duration || !suppressEvents || time || self._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t\tif (time === 0 && isComplete) { //if there's a zero-duration tween at the very beginning of a timeline and the playhead lands EXACTLY at time 0, that tween will correctly render its end values, but we need to keep the timeline alive for one more render so that the beginning values render properly as the parent's playhead keeps moving beyond the begining. Imagine obj.x starts at 0 and then we do tl.set(obj, {x:100}).to(obj, 1, {x:200}) and then later we tl.reverse()...the goal is to have obj.x revert to 0. If the playhead happens to land on exactly 0, without this chunk of code, it'd complete the timeline and remove it from the rendering queue (not good).\n\t\t\t\t\t\ttween = self._first;\n\t\t\t\t\t\twhile (tween && tween._startTime === 0) {\n\t\t\t\t\t\t\tif (!tween._duration) {\n\t\t\t\t\t\t\t\tisComplete = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttween = tween._next;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttime = 0; //to avoid occasional floating point rounding errors (could cause problems especially with zero-duration tweens at the very beginning of the timeline)\n\t\t\t\t\tif (!self._initted) {\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tself._totalTime = self._time = self._rawPrevTime = time;\n\t\t\t}\n\t\t\tif ((self._time === prevTime || !self._first) && !force && !internalForce && !pauseTween) {\n\t\t\t\treturn;\n\t\t\t} else if (!self._initted) {\n\t\t\t\tself._initted = true;\n\t\t\t}\n\n\t\t\tif (!self._active) if (!self._paused && self._time !== prevTime && time > 0) {\n\t\t\t\tself._active = true;  //so that if the user renders the timeline (as opposed to the parent timeline rendering it), it is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the timeline already finished but the user manually re-renders it as halfway done, for example.\n\t\t\t}\n\n\t\t\tif (prevTime === 0) if (self.vars.onStart) if (self._time !== 0 || !self._duration) if (!suppressEvents) {\n\t\t\t\tself._callback(\"onStart\");\n\t\t\t}\n\n\t\t\tcurTime = self._time;\n\t\t\tif (curTime >= prevTime) {\n\t\t\t\ttween = self._first;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tnext = tween._next; //record it here because the value could change after rendering...\n\t\t\t\t\tif (curTime !== self._time || (self._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (tween._active || (tween._startTime <= curTime && !tween._paused && !tween._gc)) {\n\t\t\t\t\t\tif (pauseTween === tween) {\n\t\t\t\t\t\t\tself.pause();\n\t\t\t\t\t\t\tself._pauseTime = pauseTime; //so that when we resume(), it's starting from exactly the right spot (the pause() method uses the rawTime for the parent, but that may be a bit too far ahead)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!tween._reversed) {\n\t\t\t\t\t\t\ttween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttween = next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttween = self._last;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tnext = tween._prev; //record it here because the value could change after rendering...\n\t\t\t\t\tif (curTime !== self._time || (self._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (tween._active || (tween._startTime <= prevTime && !tween._paused && !tween._gc)) {\n\t\t\t\t\t\tif (pauseTween === tween) {\n\t\t\t\t\t\t\tpauseTween = tween._prev; //the linked list is organized by _startTime, thus it's possible that a tween could start BEFORE the pause and end after it, in which case it would be positioned before the pause tween in the linked list, but we should render it before we pause() the timeline and cease rendering. This is only a concern when going in reverse.\n\t\t\t\t\t\t\twhile (pauseTween && pauseTween.endTime() > self._time) {\n\t\t\t\t\t\t\t\tpauseTween.render( (pauseTween._reversed ? pauseTween.totalDuration() - ((time - pauseTween._startTime) * pauseTween._timeScale) : (time - pauseTween._startTime) * pauseTween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t\t\tpauseTween = pauseTween._prev;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpauseTween = null;\n\t\t\t\t\t\t\tself.pause();\n\t\t\t\t\t\t\tself._pauseTime = pauseTime; //so that when we resume(), it's starting from exactly the right spot (the pause() method uses the rawTime for the parent, but that may be a bit too far ahead)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!tween._reversed) {\n\t\t\t\t\t\t\ttween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttween = next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self._onUpdate) if (!suppressEvents) {\n\t\t\t\tif (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\t\t\t\t\t_lazyRender();\n\t\t\t\t}\n\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t}\n\n\t\t\tif (callback) if (!self._gc) if (prevStart === self._startTime || prevTimeScale !== self._timeScale) if (self._time === 0 || totalDur >= self.totalDuration()) { //if one of the tweens that was rendered altered this timeline's startTime (like if an onComplete reversed the timeline), it probably isn't complete. If it is, don't worry, because whatever call altered the startTime would complete if it was necessary at the new time. The only exception is the timeScale property. Also check _gc because there's a chance that kill() could be called in an onUpdate\n\t\t\t\tif (isComplete) {\n\t\t\t\t\tif (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onComplete on a timeline that reports/checks tweened values.\n\t\t\t\t\t\t_lazyRender();\n\t\t\t\t\t}\n\t\t\t\t\tif (self._timeline.autoRemoveChildren) {\n\t\t\t\t\t\tself._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t\tself._active = false;\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents && self.vars[callback]) {\n\t\t\t\t\tself._callback(callback);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp._hasPausedChild = function() {\n\t\t\tvar tween = this._first;\n\t\t\twhile (tween) {\n\t\t\t\tif (tween._paused || ((tween instanceof TimelineLite) && tween._hasPausedChild())) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\ttween = tween._next;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tp.getChildren = function(nested, tweens, timelines, ignoreBeforeTime) {\n\t\t\tignoreBeforeTime = ignoreBeforeTime || -9999999999;\n\t\t\tvar a = [],\n\t\t\t\ttween = this._first,\n\t\t\t\tcnt = 0;\n\t\t\twhile (tween) {\n\t\t\t\tif (tween._startTime < ignoreBeforeTime) {\n\t\t\t\t\t//do nothing\n\t\t\t\t} else if (tween instanceof TweenLite) {\n\t\t\t\t\tif (tweens !== false) {\n\t\t\t\t\t\ta[cnt++] = tween;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (timelines !== false) {\n\t\t\t\t\t\ta[cnt++] = tween;\n\t\t\t\t\t}\n\t\t\t\t\tif (nested !== false) {\n\t\t\t\t\t\ta = a.concat(tween.getChildren(true, tweens, timelines));\n\t\t\t\t\t\tcnt = a.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttween = tween._next;\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\n\t\tp.getTweensOf = function(target, nested) {\n\t\t\tvar disabled = this._gc,\n\t\t\t\ta = [],\n\t\t\t\tcnt = 0,\n\t\t\t\ttweens, i;\n\t\t\tif (disabled) {\n\t\t\t\tthis._enabled(true, true); //getTweensOf() filters out disabled tweens, and we have to mark them as _gc = true when the timeline completes in order to allow clean garbage collection, so temporarily re-enable the timeline here.\n\t\t\t}\n\t\t\ttweens = TweenLite.getTweensOf(target);\n\t\t\ti = tweens.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\tif (tweens[i].timeline === this || (nested && this._contains(tweens[i]))) {\n\t\t\t\t\ta[cnt++] = tweens[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (disabled) {\n\t\t\t\tthis._enabled(false, true);\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\n\t\tp.recent = function() {\n\t\t\treturn this._recent;\n\t\t};\n\n\t\tp._contains = function(tween) {\n\t\t\tvar tl = tween.timeline;\n\t\t\twhile (tl) {\n\t\t\t\tif (tl === this) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\ttl = tl.timeline;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tp.shiftChildren = function(amount, adjustLabels, ignoreBeforeTime) {\n\t\t\tignoreBeforeTime = ignoreBeforeTime || 0;\n\t\t\tvar tween = this._first,\n\t\t\t\tlabels = this._labels,\n\t\t\t\tp;\n\t\t\twhile (tween) {\n\t\t\t\tif (tween._startTime >= ignoreBeforeTime) {\n\t\t\t\t\ttween._startTime += amount;\n\t\t\t\t}\n\t\t\t\ttween = tween._next;\n\t\t\t}\n\t\t\tif (adjustLabels) {\n\t\t\t\tfor (p in labels) {\n\t\t\t\t\tif (labels[p] >= ignoreBeforeTime) {\n\t\t\t\t\t\tlabels[p] += amount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp._kill = function(vars, target) {\n\t\t\tif (!vars && !target) {\n\t\t\t\treturn this._enabled(false, false);\n\t\t\t}\n\t\t\tvar tweens = (!target) ? this.getChildren(true, true, false) : this.getTweensOf(target),\n\t\t\t\ti = tweens.length,\n\t\t\t\tchanged = false;\n\t\t\twhile (--i > -1) {\n\t\t\t\tif (tweens[i]._kill(vars, target)) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn changed;\n\t\t};\n\n\t\tp.clear = function(labels) {\n\t\t\tvar tweens = this.getChildren(false, true, true),\n\t\t\t\ti = tweens.length;\n\t\t\tthis._time = this._totalTime = 0;\n\t\t\twhile (--i > -1) {\n\t\t\t\ttweens[i]._enabled(false, false);\n\t\t\t}\n\t\t\tif (labels !== false) {\n\t\t\t\tthis._labels = {};\n\t\t\t}\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp.invalidate = function() {\n\t\t\tvar tween = this._first;\n\t\t\twhile (tween) {\n\t\t\t\ttween.invalidate();\n\t\t\t\ttween = tween._next;\n\t\t\t}\n\t\t\treturn Animation.prototype.invalidate.call(this);;\n\t\t};\n\n\t\tp._enabled = function(enabled, ignoreTimeline) {\n\t\t\tif (enabled === this._gc) {\n\t\t\t\tvar tween = this._first;\n\t\t\t\twhile (tween) {\n\t\t\t\t\ttween._enabled(enabled, true);\n\t\t\t\t\ttween = tween._next;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn SimpleTimeline.prototype._enabled.call(this, enabled, ignoreTimeline);\n\t\t};\n\n\t\tp.totalTime = function(time, suppressEvents, uncapped) {\n\t\t\tthis._forcingPlayhead = true;\n\t\t\tvar val = Animation.prototype.totalTime.apply(this, arguments);\n\t\t\tthis._forcingPlayhead = false;\n\t\t\treturn val;\n\t\t};\n\n\t\tp.duration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (this._dirty) {\n\t\t\t\t\tthis.totalDuration(); //just triggers recalculation\n\t\t\t\t}\n\t\t\t\treturn this._duration;\n\t\t\t}\n\t\t\tif (this.duration() !== 0 && value !== 0) {\n\t\t\t\tthis.timeScale(this._duration / value);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.totalDuration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (this._dirty) {\n\t\t\t\t\tvar max = 0,\n\t\t\t\t\t\tself = this,\n\t\t\t\t\t\ttween = self._last,\n\t\t\t\t\t\tprevStart = 999999999999,\n\t\t\t\t\t\tprev, end;\n\t\t\t\t\twhile (tween) {\n\t\t\t\t\t\tprev = tween._prev; //record it here in case the tween changes position in the sequence...\n\t\t\t\t\t\tif (tween._dirty) {\n\t\t\t\t\t\t\ttween.totalDuration(); //could change the tween._startTime, so make sure the tween's cache is clean before analyzing it.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tween._startTime > prevStart && self._sortChildren && !tween._paused && !self._calculatingDuration) { //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n\t\t\t\t\t\t\tself._calculatingDuration = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add(), like _parseTimeOrLabel().\n\t\t\t\t\t\t\tself.add(tween, tween._startTime - tween._delay);\n\t\t\t\t\t\t\tself._calculatingDuration = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprevStart = tween._startTime;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tween._startTime < 0 && !tween._paused) { //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n\t\t\t\t\t\t\tmax -= tween._startTime;\n\t\t\t\t\t\t\tif (self._timeline.smoothChildTiming) {\n\t\t\t\t\t\t\t\tself._startTime += tween._startTime / self._timeScale;\n\t\t\t\t\t\t\t\tself._time -= tween._startTime;\n\t\t\t\t\t\t\t\tself._totalTime -= tween._startTime;\n\t\t\t\t\t\t\t\tself._rawPrevTime -= tween._startTime;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.shiftChildren(-tween._startTime, false, -9999999999);\n\t\t\t\t\t\t\tprevStart = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tend = tween._startTime + (tween._totalDuration / tween._timeScale);\n\t\t\t\t\t\tif (end > max) {\n\t\t\t\t\t\t\tmax = end;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttween = prev;\n\t\t\t\t\t}\n\t\t\t\t\tself._duration = self._totalDuration = max;\n\t\t\t\t\tself._dirty = false;\n\t\t\t\t}\n\t\t\t\treturn this._totalDuration;\n\t\t\t}\n\t\t\treturn (value && this.totalDuration()) ? this.timeScale(this._totalDuration / value) : this;\n\t\t};\n\n\t\tp.paused = function(value) {\n\t\t\tif (value === false && this._paused) { //if there's a pause directly at the spot from where we're unpausing, skip it.\n\t\t\t\tvar tween = this._first;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tif (tween._startTime === this._time && tween.data === \"isPause\") {\n\t\t\t\t\t\ttween._rawPrevTime = 0; //remember, _rawPrevTime is how zero-duration tweens/callbacks sense directionality and determine whether or not to fire. If _rawPrevTime is the same as _startTime on the next render, it won't fire.\n\t\t\t\t\t}\n\t\t\t\t\ttween = tween._next;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Animation.prototype.paused.apply(this, arguments);\n\t\t};\n\n\t\tp.usesFrames = function() {\n\t\t\tvar tl = this._timeline;\n\t\t\twhile (tl._timeline) {\n\t\t\t\ttl = tl._timeline;\n\t\t\t}\n\t\t\treturn (tl === Animation._rootFramesTimeline);\n\t\t};\n\n\t\tp.rawTime = function(wrapRepeats) {\n\t\t\treturn (wrapRepeats && (this._paused || (this._repeat && this.time() > 0 && this.totalProgress() < 1))) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(wrapRepeats) - this._startTime) * this._timeScale;\n\t\t};\n\n\t\treturn TimelineLite;\n\n\t}, true);\n\nexport var TimelineLite = globals.TimelineLite;\nexport { TimelineLite as default };\n","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n\nimport TweenLite, { _gsScope, globals, Ease, Animation } from \"./TweenLite.js\";\nimport TimelineLite from \"./TimelineLite.js\";\n\n_gsScope._gsDefine(\"TimelineMax\", [\"TimelineLite\",\"TweenLite\",\"easing.Ease\"], function() {\n\t\t\n\t\tvar TimelineMax = function(vars) {\n\t\t\t\tTimelineLite.call(this, vars);\n\t\t\t\tthis._repeat = this.vars.repeat || 0;\n\t\t\t\tthis._repeatDelay = this.vars.repeatDelay || 0;\n\t\t\t\tthis._cycle = 0;\n\t\t\t\tthis._yoyo = !!this.vars.yoyo;\n\t\t\t\tthis._dirty = true;\n\t\t\t},\n\t\t\t_tinyNum = 0.00000001,\n\t\t\tTweenLiteInternals = TweenLite._internals,\n\t\t\t_lazyTweens = TweenLiteInternals.lazyTweens,\n\t\t\t_lazyRender = TweenLiteInternals.lazyRender,\n\t\t\t_globals = _gsScope._gsDefine.globals,\n\t\t\t_easeNone = new Ease(null, null, 1, 0),\n\t\t\tp = TimelineMax.prototype = new TimelineLite();\n\n\t\tp.constructor = TimelineMax;\n\t\tp.kill()._gc = false;\n\t\tTimelineMax.version = \"2.1.3\";\n\n\t\tp.invalidate = function() {\n\t\t\tthis._yoyo = !!this.vars.yoyo;\n\t\t\tthis._repeat = this.vars.repeat || 0;\n\t\t\tthis._repeatDelay = this.vars.repeatDelay || 0;\n\t\t\tthis._uncache(true);\n\t\t\treturn TimelineLite.prototype.invalidate.call(this);\n\t\t};\n\n\t\tp.addCallback = function(callback, position, params, scope) {\n\t\t\treturn this.add( TweenLite.delayedCall(0, callback, params, scope), position);\n\t\t};\n\n\t\tp.removeCallback = function(callback, position) {\n\t\t\tif (callback) {\n\t\t\t\tif (position == null) {\n\t\t\t\t\tthis._kill(null, callback);\n\t\t\t\t} else {\n\t\t\t\t\tvar a = this.getTweensOf(callback, false),\n\t\t\t\t\t\ti = a.length,\n\t\t\t\t\t\ttime = this._parseTimeOrLabel(position);\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif (a[i]._startTime === time) {\n\t\t\t\t\t\t\ta[i]._enabled(false, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tp.removePause = function(position) {\n\t\t\treturn this.removeCallback(TimelineLite._internals.pauseCallback, position);\n\t\t};\n\n\t\tp.tweenTo = function(position, vars) {\n\t\t\tvars = vars || {};\n\t\t\tvar copy = {ease:_easeNone, useFrames:this.usesFrames(), immediateRender:false, lazy:false},\n\t\t\t\tEngine = (vars.repeat && _globals.TweenMax) || TweenLite,\n\t\t\t\tduration, p, t;\n\t\t\tfor (p in vars) {\n\t\t\t\tcopy[p] = vars[p];\n\t\t\t}\n\t\t\tcopy.time = this._parseTimeOrLabel(position);\n\t\t\tduration = (Math.abs(Number(copy.time) - this._time) / this._timeScale) || 0.001;\n\t\t\tt = new Engine(this, duration, copy);\n\t\t\tcopy.onStart = function() {\n\t\t\t\tt.target.paused(true);\n\t\t\t\tif (t.vars.time !== t.target.time() && duration === t.duration() && !t.isFromTo) { //don't make the duration zero - if it's supposed to be zero, don't worry because it's already initting the tween and will complete immediately, effectively making the duration zero anyway. If we make duration zero, the tween won't run at all.\n\t\t\t\t\tt.duration( Math.abs( t.vars.time - t.target.time()) / t.target._timeScale ).render(t.time(), true, true); //render() right away to ensure that things look right, especially in the case of .tweenTo(0).\n\t\t\t\t}\n\t\t\t\tif (vars.onStart) { //in case the user had an onStart in the vars - we don't want to overwrite it.\n\t\t\t\t\tvars.onStart.apply(vars.onStartScope || vars.callbackScope || t, vars.onStartParams || []); //don't use t._callback(\"onStart\") or it'll point to the copy.onStart and we'll get a recursion error.\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn t;\n\t\t};\n\n\t\tp.tweenFromTo = function(fromPosition, toPosition, vars) {\n\t\t\tvars = vars || {};\n\t\t\tfromPosition = this._parseTimeOrLabel(fromPosition);\n\t\t\tvars.startAt = {onComplete:this.seek, onCompleteParams:[fromPosition], callbackScope:this};\n\t\t\tvars.immediateRender = (vars.immediateRender !== false);\n\t\t\tvar t = this.tweenTo(toPosition, vars);\n\t\t\tt.isFromTo = 1; //to ensure we don't mess with the duration in the onStart (we've got the start and end values here, so lock it in)\n\t\t\treturn t.duration((Math.abs( t.vars.time - fromPosition) / this._timeScale) || 0.001);\n\t\t};\n\n\t\tp.render = function(time, suppressEvents, force) {\n\t\t\tif (this._gc) {\n\t\t\t\tthis._enabled(true, false);\n\t\t\t}\n\t\t\tvar self = this,\n\t\t\t\tprevTime = self._time,\n\t\t\t\ttotalDur = (!self._dirty) ? self._totalDuration : self.totalDuration(),\n\t\t\t\tdur = self._duration,\n\t\t\t\tprevTotalTime = self._totalTime,\n\t\t\t\tprevStart = self._startTime,\n\t\t\t\tprevTimeScale = self._timeScale,\n\t\t\t\tprevRawPrevTime = self._rawPrevTime,\n\t\t\t\tprevPaused = self._paused,\n\t\t\t\tprevCycle = self._cycle,\n\t\t\t\ttween, isComplete, next, callback, internalForce, cycleDuration, pauseTween, curTime, pauseTime;\n\t\t\tif (prevTime !== self._time) { //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n\t\t\t\ttime += self._time - prevTime;\n\t\t\t}\n\t\t\tif (time >= totalDur - _tinyNum && time >= 0) { //to work around occasional floating point math artifacts.\n\t\t\t\tif (!self._locked) {\n\t\t\t\t\tself._totalTime = totalDur;\n\t\t\t\t\tself._cycle = self._repeat;\n\t\t\t\t}\n\t\t\t\tif (!self._reversed) if (!self._hasPausedChild()) {\n\t\t\t\t\tisComplete = true;\n\t\t\t\t\tcallback = \"onComplete\";\n\t\t\t\t\tinternalForce = !!self._timeline.autoRemoveChildren; //otherwise, if the animation is unpaused/activated after it's already finished, it doesn't get removed from the parent timeline.\n\t\t\t\t\tif (self._duration === 0) if ((time <= 0 && time >= -_tinyNum) || prevRawPrevTime < 0 || prevRawPrevTime === _tinyNum) if (prevRawPrevTime !== time && self._first) {\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t\tif (prevRawPrevTime > _tinyNum) {\n\t\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself._rawPrevTime = (self._duration || !suppressEvents || time || self._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\tif (self._yoyo && (self._cycle & 1)) {\n\t\t\t\t\tself._time = time = 0;\n\t\t\t\t} else {\n\t\t\t\t\tself._time = dur;\n\t\t\t\t\ttime = dur + 0.0001; //to avoid occasional floating point rounding errors - sometimes child tweens/timelines were not being fully completed (their progress might be 0.999999999999998 instead of 1 because when _time - tween._startTime is performed, floating point errors would return a value that was SLIGHTLY off). Try (999999999999.7 - 999999999999) * 1 = 0.699951171875 instead of 0.7. We cannot do less then 0.0001 because the same issue can occur when the duration is extremely large like 999999999999 in which case adding 0.00000001, for example, causes it to act like nothing was added.\n\t\t\t\t}\n\n\t\t\t} else if (time < _tinyNum) { //to work around occasional floating point math artifacts, round super small values to 0.\n\t\t\t\tif (!self._locked) {\n\t\t\t\t\tself._totalTime = self._cycle = 0;\n\t\t\t\t}\n\t\t\t\tself._time = 0;\n\t\t\t\tif (time > -_tinyNum) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tif (prevTime !== 0 || (dur === 0 && prevRawPrevTime !== _tinyNum && (prevRawPrevTime > 0 || (time < 0 && prevRawPrevTime >= 0)) && !self._locked)) { //edge case for checking time < 0 && prevRawPrevTime >= 0: a zero-duration fromTo() tween inside a zero-duration timeline (yeah, very rare)\n\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\tisComplete = self._reversed;\n\t\t\t\t}\n\t\t\t\tif (time < 0) {\n\t\t\t\t\tself._active = false;\n\t\t\t\t\tif (self._timeline.autoRemoveChildren && self._reversed) {\n\t\t\t\t\t\tinternalForce = isComplete = true;\n\t\t\t\t\t\tcallback = \"onReverseComplete\";\n\t\t\t\t\t} else if (prevRawPrevTime >= 0 && self._first) { //when going back beyond the start, force a render so that zero-duration tweens that sit at the very beginning render their start values properly. Otherwise, if the parent timeline's playhead lands exactly at this timeline's startTime, and then moves backwards, the zero-duration tweens at the beginning would still be at their end state.\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t}\n\t\t\t\t\tself._rawPrevTime = time;\n\t\t\t\t} else {\n\t\t\t\t\tself._rawPrevTime = (dur || !suppressEvents || time || self._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\n\t\t\t\t\tif (time === 0 && isComplete) { //if there's a zero-duration tween at the very beginning of a timeline and the playhead lands EXACTLY at time 0, that tween will correctly render its end values, but we need to keep the timeline alive for one more render so that the beginning values render properly as the parent's playhead keeps moving beyond the begining. Imagine obj.x starts at 0 and then we do tl.set(obj, {x:100}).to(obj, 1, {x:200}) and then later we tl.reverse()...the goal is to have obj.x revert to 0. If the playhead happens to land on exactly 0, without this chunk of code, it'd complete the timeline and remove it from the rendering queue (not good).\n\t\t\t\t\t\ttween = self._first;\n\t\t\t\t\t\twhile (tween && tween._startTime === 0) {\n\t\t\t\t\t\t\tif (!tween._duration) {\n\t\t\t\t\t\t\t\tisComplete = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttween = tween._next;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttime = 0; //to avoid occasional floating point rounding errors (could cause problems especially with zero-duration tweens at the very beginning of the timeline)\n\t\t\t\t\tif (!self._initted) {\n\t\t\t\t\t\tinternalForce = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (dur === 0 && prevRawPrevTime < 0) { //without this, zero-duration repeating timelines (like with a simple callback nested at the very beginning and a repeatDelay) wouldn't render the first time through.\n\t\t\t\t\tinternalForce = true;\n\t\t\t\t}\n\t\t\t\tself._time = self._rawPrevTime = time;\n\t\t\t\tif (!self._locked) {\n\t\t\t\t\tself._totalTime = time;\n\t\t\t\t\tif (self._repeat !== 0) {\n\t\t\t\t\t\tcycleDuration = dur + self._repeatDelay;\n\t\t\t\t\t\tself._cycle = (self._totalTime / cycleDuration) >> 0; //originally _totalTime % cycleDuration but floating point errors caused problems, so I normalized it. (4 % 0.8 should be 0 but it gets reported as 0.79999999!)\n\t\t\t\t\t\tif (self._cycle) if (self._cycle === self._totalTime / cycleDuration && prevTotalTime <= time) {\n\t\t\t\t\t\t\tself._cycle--; //otherwise when rendered exactly at the end time, it will act as though it is repeating (at the beginning)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._time = self._totalTime - (self._cycle * cycleDuration);\n\t\t\t\t\t\tif (self._yoyo) if (self._cycle & 1) {\n\t\t\t\t\t\t\tself._time = dur - self._time;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self._time > dur) {\n\t\t\t\t\t\t\tself._time = dur;\n\t\t\t\t\t\t\ttime = dur + 0.0001; //to avoid occasional floating point rounding error\n\t\t\t\t\t\t} else if (self._time < 0) {\n\t\t\t\t\t\t\tself._time = time = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttime = self._time;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self._hasPause && !self._forcingPlayhead && !suppressEvents) {\n\t\t\t\ttime = self._time;\n\t\t\t\tif (time > prevTime || (self._repeat && prevCycle !== self._cycle)) {\n\t\t\t\t\ttween = self._first;\n\t\t\t\t\twhile (tween && tween._startTime <= time && !pauseTween) {\n\t\t\t\t\t\tif (!tween._duration) if (tween.data === \"isPause\" && !tween.ratio && !(tween._startTime === 0 && self._rawPrevTime === 0)) {\n\t\t\t\t\t\t\tpauseTween = tween;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttween = tween._next;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttween = self._last;\n\t\t\t\t\twhile (tween && tween._startTime >= time && !pauseTween) {\n\t\t\t\t\t\tif (!tween._duration) if (tween.data === \"isPause\" && tween._rawPrevTime > 0) {\n\t\t\t\t\t\t\tpauseTween = tween;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttween = tween._prev;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pauseTween) {\n\t\t\t\t\tpauseTime = self._startTime + (self._reversed ? self._duration - pauseTween._startTime : pauseTween._startTime) / self._timeScale;\n\t\t\t\t\tif (pauseTween._startTime < dur) {\n\t\t\t\t\t\tself._time = self._rawPrevTime = time = pauseTween._startTime;\n\t\t\t\t\t\tself._totalTime = time + (self._cycle * (self._totalDuration + self._repeatDelay));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self._cycle !== prevCycle) if (!self._locked) {\n\t\t\t\t/*\n\t\t\t\tmake sure children at the end/beginning of the timeline are rendered properly. If, for example,\n\t\t\t\ta 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n\t\t\t\twould get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n\t\t\t\tcould be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n\t\t\t\twe need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n\t\t\t\tensure that zero-duration tweens at the very beginning or end of the TimelineMax work.\n\t\t\t\t*/\n\t\t\t\tvar backwards = (self._yoyo && (prevCycle & 1) !== 0),\n\t\t\t\t\twrap = (backwards === (self._yoyo && (self._cycle & 1) !== 0)),\n\t\t\t\t\trecTotalTime = self._totalTime,\n\t\t\t\t\trecCycle = self._cycle,\n\t\t\t\t\trecRawPrevTime = self._rawPrevTime,\n\t\t\t\t\trecTime = self._time;\n\n\t\t\t\tself._totalTime = prevCycle * dur;\n\t\t\t\tif (self._cycle < prevCycle) {\n\t\t\t\t\tbackwards = !backwards;\n\t\t\t\t} else {\n\t\t\t\t\tself._totalTime += dur;\n\t\t\t\t}\n\t\t\t\tself._time = prevTime; //temporarily revert _time so that render() renders the children in the correct order. Without this, tweens won't rewind correctly. We could arhictect things in a \"cleaner\" way by splitting out the rendering queue into a separate method but for performance reasons, we kept it all inside this method.\n\n\t\t\t\tself._rawPrevTime = (dur === 0) ? prevRawPrevTime - 0.0001 : prevRawPrevTime;\n\t\t\t\tself._cycle = prevCycle;\n\t\t\t\tself._locked = true; //prevents changes to totalTime and skips repeat/yoyo behavior when we recursively call render()\n\t\t\t\tprevTime = (backwards) ? 0 : dur;\n\t\t\t\tself.render(prevTime, suppressEvents, (dur === 0));\n\t\t\t\tif (!suppressEvents) if (!self._gc) {\n\t\t\t\t\tif (self.vars.onRepeat) {\n\t\t\t\t\t\tself._cycle = recCycle; //in case the onRepeat alters the playhead or invalidates(), we shouldn't stay locked or use the previous cycle.\n\t\t\t\t\t\tself._locked = false;\n\t\t\t\t\t\tself._callback(\"onRepeat\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevTime !== self._time) { //in case there's a callback like onComplete in a nested tween/timeline that changes the playhead position, like via seek(), we should just abort.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (wrap) {\n\t\t\t\t\tself._cycle = prevCycle; //if there's an onRepeat, we reverted this above, so make sure it's set properly again. We also unlocked in that scenario, so reset that too.\n\t\t\t\t\tself._locked = true;\n\t\t\t\t\tprevTime = (backwards) ? dur + 0.0001 : -0.0001;\n\t\t\t\t\tself.render(prevTime, true, false);\n\t\t\t\t}\n\t\t\t\tself._locked = false;\n\t\t\t\tif (self._paused && !prevPaused) { //if the render() triggered callback that paused this timeline, we should abort (very rare, but possible)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself._time = recTime;\n\t\t\t\tself._totalTime = recTotalTime;\n\t\t\t\tself._cycle = recCycle;\n\t\t\t\tself._rawPrevTime = recRawPrevTime;\n\t\t\t}\n\n\t\t\tif ((self._time === prevTime || !self._first) && !force && !internalForce && !pauseTween) {\n\t\t\t\tif (prevTotalTime !== self._totalTime) if (self._onUpdate) if (!suppressEvents) { //so that onUpdate fires even during the repeatDelay - as long as the totalTime changed, we should trigger onUpdate.\n\t\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t} else if (!self._initted) {\n\t\t\t\tself._initted = true;\n\t\t\t}\n\n\t\t\tif (!self._active) if (!self._paused && self._totalTime !== prevTotalTime && time > 0) {\n\t\t\t\tself._active = true;  //so that if the user renders the timeline (as opposed to the parent timeline rendering it), it is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the timeline already finished but the user manually re-renders it as halfway done, for example.\n\t\t\t}\n\n\t\t\tif (prevTotalTime === 0) if (self.vars.onStart) if (self._totalTime !== 0 || !self._totalDuration) if (!suppressEvents) {\n\t\t\t\tself._callback(\"onStart\");\n\t\t\t}\n\n\t\t\tcurTime = self._time;\n\t\t\tif (curTime >= prevTime) {\n\t\t\t\ttween = self._first;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tnext = tween._next; //record it here because the value could change after rendering...\n\t\t\t\t\tif (curTime !== self._time || (self._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (tween._active || (tween._startTime <= self._time && !tween._paused && !tween._gc)) {\n\t\t\t\t\t\tif (pauseTween === tween) {\n\t\t\t\t\t\t\tself.pause();\n\t\t\t\t\t\t\tself._pauseTime = pauseTime; //so that when we resume(), it's starting from exactly the right spot (the pause() method uses the rawTime for the parent, but that may be a bit too far ahead)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!tween._reversed) {\n\t\t\t\t\t\t\ttween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttween = next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttween = self._last;\n\t\t\t\twhile (tween) {\n\t\t\t\t\tnext = tween._prev; //record it here because the value could change after rendering...\n\t\t\t\t\tif (curTime !== self._time || (self._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (tween._active || (tween._startTime <= prevTime && !tween._paused && !tween._gc)) {\n\t\t\t\t\t\tif (pauseTween === tween) {\n\t\t\t\t\t\t\tpauseTween = tween._prev; //the linked list is organized by _startTime, thus it's possible that a tween could start BEFORE the pause and end after it, in which case it would be positioned before the pause tween in the linked list, but we should render it before we pause() the timeline and cease rendering. This is only a concern when going in reverse.\n\t\t\t\t\t\t\twhile (pauseTween && pauseTween.endTime() > self._time) {\n\t\t\t\t\t\t\t\tpauseTween.render( (pauseTween._reversed ? pauseTween.totalDuration() - ((time - pauseTween._startTime) * pauseTween._timeScale) : (time - pauseTween._startTime) * pauseTween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t\t\tpauseTween = pauseTween._prev;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpauseTween = null;\n\t\t\t\t\t\t\tself.pause();\n\t\t\t\t\t\t\tself._pauseTime = pauseTime; //so that when we resume(), it's starting from exactly the right spot (the pause() method uses the rawTime for the parent, but that may be a bit too far ahead)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!tween._reversed) {\n\t\t\t\t\t\t\ttween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttween = next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self._onUpdate) if (!suppressEvents) {\n\t\t\t\tif (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\t\t\t\t\t_lazyRender();\n\t\t\t\t}\n\t\t\t\tself._callback(\"onUpdate\");\n\t\t\t}\n\t\t\tif (callback) if (!self._locked) if (!self._gc) if (prevStart === self._startTime || prevTimeScale !== self._timeScale) if (self._time === 0 || totalDur >= self.totalDuration()) { //if one of the tweens that was rendered altered this timeline's startTime (like if an onComplete reversed the timeline), it probably isn't complete. If it is, don't worry, because whatever call altered the startTime would complete if it was necessary at the new time. The only exception is the timeScale property. Also check _gc because there's a chance that kill() could be called in an onUpdate\n\t\t\t\tif (isComplete) {\n\t\t\t\t\tif (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onComplete on a timeline that reports/checks tweened values.\n\t\t\t\t\t\t_lazyRender();\n\t\t\t\t\t}\n\t\t\t\t\tif (self._timeline.autoRemoveChildren) {\n\t\t\t\t\t\tself._enabled(false, false);\n\t\t\t\t\t}\n\t\t\t\t\tself._active = false;\n\t\t\t\t}\n\t\t\t\tif (!suppressEvents && self.vars[callback]) {\n\t\t\t\t\tself._callback(callback);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp.getActive = function(nested, tweens, timelines) {\n\t\t\tvar a = [],\n\t\t\t\tall = this.getChildren(nested || (nested == null), tweens || (nested == null), !!timelines),\n\t\t\t\tcnt = 0,\n\t\t\t\tl = all.length,\n\t\t\t\ti, tween;\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\ttween = all[i];\n\t\t\t\tif (tween.isActive()) {\n\t\t\t\t\ta[cnt++] = tween;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\n\n\t\tp.getLabelAfter = function(time) {\n\t\t\tif (!time) if (time !== 0) { //faster than isNan()\n\t\t\t\ttime = this._time;\n\t\t\t}\n\t\t\tvar labels = this.getLabelsArray(),\n\t\t\t\tl = labels.length,\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\tif (labels[i].time > time) {\n\t\t\t\t\treturn labels[i].name;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tp.getLabelBefore = function(time) {\n\t\t\tif (time == null) {\n\t\t\t\ttime = this._time;\n\t\t\t}\n\t\t\tvar labels = this.getLabelsArray(),\n\t\t\t\ti = labels.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\tif (labels[i].time < time) {\n\t\t\t\t\treturn labels[i].name;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tp.getLabelsArray = function() {\n\t\t\tvar a = [],\n\t\t\t\tcnt = 0,\n\t\t\t\tp;\n\t\t\tfor (p in this._labels) {\n\t\t\t\ta[cnt++] = {time:this._labels[p], name:p};\n\t\t\t}\n\t\t\ta.sort(function(a,b) {\n\t\t\t\treturn a.time - b.time;\n\t\t\t});\n\t\t\treturn a;\n\t\t};\n\n\t\tp.invalidate = function() {\n\t\t\tthis._locked = false; //unlock and set cycle in case invalidate() is called from inside an onRepeat\n\t\t\treturn TimelineLite.prototype.invalidate.call(this);\n\t\t};\n\n\n//---- GETTERS / SETTERS -------------------------------------------------------------------------------------------------------\n\n\t\tp.progress = function(value, suppressEvents) {\n\t\t\treturn (!arguments.length) ? (this._time / this.duration()) || 0 : this.totalTime( this.duration() * ((this._yoyo && (this._cycle & 1) !== 0) ? 1 - value : value) + (this._cycle * (this._duration + this._repeatDelay)), suppressEvents);\n\t\t};\n\n\t\tp.totalProgress = function(value, suppressEvents) {\n\t\t\treturn (!arguments.length) ? (this._totalTime / this.totalDuration()) || 0 : this.totalTime( this.totalDuration() * value, suppressEvents);\n\t\t};\n\n\t\tp.totalDuration = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (this._dirty) {\n\t\t\t\t\tTimelineLite.prototype.totalDuration.call(this); //just forces refresh\n\t\t\t\t\t//Instead of Infinity, we use 999999999999 so that we can accommodate reverses.\n\t\t\t\t\tthis._totalDuration = (this._repeat === -1) ? 999999999999 : this._duration * (this._repeat + 1) + (this._repeatDelay * this._repeat);\n\t\t\t\t}\n\t\t\t\treturn this._totalDuration;\n\t\t\t}\n\t\t\treturn (this._repeat === -1 || !value) ? this : this.timeScale( this.totalDuration() / value );\n\t\t};\n\n\t\tp.time = function(value, suppressEvents) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._time;\n\t\t\t}\n\t\t\tif (this._dirty) {\n\t\t\t\tthis.totalDuration();\n\t\t\t}\n\t\t\tvar duration = this._duration,\n\t\t\t\tcycle = this._cycle,\n\t\t\t\tcycleDur = cycle * (duration + this._repeatDelay);\n\t\t\tif (value > duration) {\n\t\t\t\tvalue = duration;\n\t\t\t}\n\t\t\treturn this.totalTime((this._yoyo && (cycle & 1)) ? duration - value + cycleDur : this._repeat ? value + cycleDur : value, suppressEvents);\n\t\t};\n\n\t\tp.repeat = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._repeat;\n\t\t\t}\n\t\t\tthis._repeat = value;\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp.repeatDelay = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._repeatDelay;\n\t\t\t}\n\t\t\tthis._repeatDelay = value;\n\t\t\treturn this._uncache(true);\n\t\t};\n\n\t\tp.yoyo = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this._yoyo;\n\t\t\t}\n\t\t\tthis._yoyo = value;\n\t\t\treturn this;\n\t\t};\n\n\t\tp.currentLabel = function(value) {\n\t\t\tif (!arguments.length) {\n\t\t\t\treturn this.getLabelBefore(this._time + _tinyNum);\n\t\t\t}\n\t\t\treturn this.seek(value, true);\n\t\t};\n\t\t\n\t\treturn TimelineMax;\n\t\t\n\t}, true);\n\nexport var TimelineMax = globals.TimelineMax;\nexport { TimelineLite, TimelineMax as default };","/*!\n * VERSION: 1.3.9\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\nimport { _gsScope } from \"./TweenLite.js\";\n\n\t\tvar _RAD2DEG = 180 / Math.PI,\n\t\t\t_r1 = [],\n\t\t\t_r2 = [],\n\t\t\t_r3 = [],\n\t\t\t_corProps = {},\n\t\t\t_globals = _gsScope._gsDefine.globals,\n\t\t\tSegment = function(a, b, c, d) {\n\t\t\t\tif (c === d) { //if c and d match, the final autoRotate value could lock at -90 degrees, so differentiate them slightly.\n\t\t\t\t\tc = d - (d - b) / 1000000;\n\t\t\t\t}\n\t\t\t\tif (a === b) { //if a and b match, the starting autoRotate value could lock at -90 degrees, so differentiate them slightly.\n\t\t\t\t\tb = a + (c - a) / 1000000;\n\t\t\t\t}\n\t\t\t\tthis.a = a;\n\t\t\t\tthis.b = b;\n\t\t\t\tthis.c = c;\n\t\t\t\tthis.d = d;\n\t\t\t\tthis.da = d - a;\n\t\t\t\tthis.ca = c - a;\n\t\t\t\tthis.ba = b - a;\n\t\t\t},\n\t\t\t_correlate = \",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,\",\n\t\t\tcubicToQuadratic = function(a, b, c, d) {\n\t\t\t\tvar q1 = {a:a},\n\t\t\t\t\tq2 = {},\n\t\t\t\t\tq3 = {},\n\t\t\t\t\tq4 = {c:d},\n\t\t\t\t\tmab = (a + b) / 2,\n\t\t\t\t\tmbc = (b + c) / 2,\n\t\t\t\t\tmcd = (c + d) / 2,\n\t\t\t\t\tmabc = (mab + mbc) / 2,\n\t\t\t\t\tmbcd = (mbc + mcd) / 2,\n\t\t\t\t\tm8 = (mbcd - mabc) / 8;\n\t\t\t\tq1.b = mab + (a - mab) / 4;\n\t\t\t\tq2.b = mabc + m8;\n\t\t\t\tq1.c = q2.a = (q1.b + q2.b) / 2;\n\t\t\t\tq2.c = q3.a = (mabc + mbcd) / 2;\n\t\t\t\tq3.b = mbcd - m8;\n\t\t\t\tq4.b = mcd + (d - mcd) / 4;\n\t\t\t\tq3.c = q4.a = (q3.b + q4.b) / 2;\n\t\t\t\treturn [q1, q2, q3, q4];\n\t\t\t},\n\t\t\t_calculateControlPoints = function(a, curviness, quad, basic, correlate) {\n\t\t\t\tvar l = a.length - 1,\n\t\t\t\t\tii = 0,\n\t\t\t\t\tcp1 = a[0].a,\n\t\t\t\t\ti, p1, p2, p3, seg, m1, m2, mm, cp2, qb, r1, r2, tl;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tseg = a[ii];\n\t\t\t\t\tp1 = seg.a;\n\t\t\t\t\tp2 = seg.d;\n\t\t\t\t\tp3 = a[ii+1].d;\n\n\t\t\t\t\tif (correlate) {\n\t\t\t\t\t\tr1 = _r1[i];\n\t\t\t\t\t\tr2 = _r2[i];\n\t\t\t\t\t\ttl = ((r2 + r1) * curviness * 0.25) / (basic ? 0.5 : _r3[i] || 0.5);\n\t\t\t\t\t\tm1 = p2 - (p2 - p1) * (basic ? curviness * 0.5 : (r1 !== 0 ? tl / r1 : 0));\n\t\t\t\t\t\tm2 = p2 + (p3 - p2) * (basic ? curviness * 0.5 : (r2 !== 0 ? tl / r2 : 0));\n\t\t\t\t\t\tmm = p2 - (m1 + (((m2 - m1) * ((r1 * 3 / (r1 + r2)) + 0.5) / 4) || 0));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm1 = p2 - (p2 - p1) * curviness * 0.5;\n\t\t\t\t\t\tm2 = p2 + (p3 - p2) * curviness * 0.5;\n\t\t\t\t\t\tmm = p2 - (m1 + m2) / 2;\n\t\t\t\t\t}\n\t\t\t\t\tm1 += mm;\n\t\t\t\t\tm2 += mm;\n\n\t\t\t\t\tseg.c = cp2 = m1;\n\t\t\t\t\tif (i !== 0) {\n\t\t\t\t\t\tseg.b = cp1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tseg.b = cp1 = seg.a + (seg.c - seg.a) * 0.6; //instead of placing b on a exactly, we move it inline with c so that if the user specifies an ease like Back.easeIn or Elastic.easeIn which goes BEYOND the beginning, it will do so smoothly.\n\t\t\t\t\t}\n\n\t\t\t\t\tseg.da = p2 - p1;\n\t\t\t\t\tseg.ca = cp2 - p1;\n\t\t\t\t\tseg.ba = cp1 - p1;\n\n\t\t\t\t\tif (quad) {\n\t\t\t\t\t\tqb = cubicToQuadratic(p1, cp1, cp2, p2);\n\t\t\t\t\t\ta.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]);\n\t\t\t\t\t\tii += 4;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tii++;\n\t\t\t\t\t}\n\n\t\t\t\t\tcp1 = m2;\n\t\t\t\t}\n\t\t\t\tseg = a[ii];\n\t\t\t\tseg.b = cp1;\n\t\t\t\tseg.c = cp1 + (seg.d - cp1) * 0.4; //instead of placing c on d exactly, we move it inline with b so that if the user specifies an ease like Back.easeOut or Elastic.easeOut which goes BEYOND the end, it will do so smoothly.\n\t\t\t\tseg.da = seg.d - seg.a;\n\t\t\t\tseg.ca = seg.c - seg.a;\n\t\t\t\tseg.ba = cp1 - seg.a;\n\t\t\t\tif (quad) {\n\t\t\t\t\tqb = cubicToQuadratic(seg.a, cp1, seg.c, seg.d);\n\t\t\t\t\ta.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_parseAnchors = function(values, p, correlate, prepend) {\n\t\t\t\tvar a = [],\n\t\t\t\t\tl, i, p1, p2, p3, tmp;\n\t\t\t\tif (prepend) {\n\t\t\t\t\tvalues = [prepend].concat(values);\n\t\t\t\t\ti = values.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif (typeof( (tmp = values[i][p]) ) === \"string\") if (tmp.charAt(1) === \"=\") {\n\t\t\t\t\t\t\tvalues[i][p] = prepend[p] + Number(tmp.charAt(0) + tmp.substr(2)); //accommodate relative values. Do it inline instead of breaking it out into a function for speed reasons\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tl = values.length - 2;\n\t\t\t\tif (l < 0) {\n\t\t\t\t\ta[0] = new Segment(values[0][p], 0, 0, values[0][p]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tp1 = values[i][p];\n\t\t\t\t\tp2 = values[i+1][p];\n\t\t\t\t\ta[i] = new Segment(p1, 0, 0, p2);\n\t\t\t\t\tif (correlate) {\n\t\t\t\t\t\tp3 = values[i+2][p];\n\t\t\t\t\t\t_r1[i] = (_r1[i] || 0) + (p2 - p1) * (p2 - p1);\n\t\t\t\t\t\t_r2[i] = (_r2[i] || 0) + (p3 - p2) * (p3 - p2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ta[i] = new Segment(values[i][p], 0, 0, values[i+1][p]);\n\t\t\t\treturn a;\n\t\t\t},\n\t\t\tbezierThrough = function(values, curviness, quadratic, basic, correlate, prepend) {\n\t\t\t\tvar obj = {},\n\t\t\t\t\tprops = [],\n\t\t\t\t\tfirst = prepend || values[0],\n\t\t\t\t\ti, p, a, j, r, l, seamless, last;\n\t\t\t\tcorrelate = (typeof(correlate) === \"string\") ? \",\"+correlate+\",\" : _correlate;\n\t\t\t\tif (curviness == null) {\n\t\t\t\t\tcurviness = 1;\n\t\t\t\t}\n\t\t\t\tfor (p in values[0]) {\n\t\t\t\t\tprops.push(p);\n\t\t\t\t}\n\t\t\t\t//check to see if the last and first values are identical (well, within 0.05). If so, make seamless by appending the second element to the very end of the values array and the 2nd-to-last element to the very beginning (we'll remove those segments later)\n\t\t\t\tif (values.length > 1) {\n\t\t\t\t\tlast = values[values.length - 1];\n\t\t\t\t\tseamless = true;\n\t\t\t\t\ti = props.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tp = props[i];\n\t\t\t\t\t\tif (Math.abs(first[p] - last[p]) > 0.05) { //build in a tolerance of +/-0.05 to accommodate rounding errors.\n\t\t\t\t\t\t\tseamless = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (seamless) {\n\t\t\t\t\t\tvalues = values.concat(); //duplicate the array to avoid contaminating the original which the user may be reusing for other tweens\n\t\t\t\t\t\tif (prepend) {\n\t\t\t\t\t\t\tvalues.unshift(prepend);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalues.push(values[1]);\n\t\t\t\t\t\tprepend = values[values.length - 3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_r1.length = _r2.length = _r3.length = 0;\n\t\t\t\ti = props.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tp = props[i];\n\t\t\t\t\t_corProps[p] = (correlate.indexOf(\",\"+p+\",\") !== -1);\n\t\t\t\t\tobj[p] = _parseAnchors(values, p, _corProps[p], prepend);\n\t\t\t\t}\n\t\t\t\ti = _r1.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t_r1[i] = Math.sqrt(_r1[i]);\n\t\t\t\t\t_r2[i] = Math.sqrt(_r2[i]);\n\t\t\t\t}\n\t\t\t\tif (!basic) {\n\t\t\t\t\ti = props.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif (_corProps[p]) {\n\t\t\t\t\t\t\ta = obj[props[i]];\n\t\t\t\t\t\t\tl = a.length - 1;\n\t\t\t\t\t\t\tfor (j = 0; j < l; j++) {\n\t\t\t\t\t\t\t\tr = (a[j+1].da / _r2[j] + a[j].da / _r1[j]) || 0;\n\t\t\t\t\t\t\t\t_r3[j] = (_r3[j] || 0) + r * r;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ti = _r3.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t_r3[i] = Math.sqrt(_r3[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti = props.length;\n\t\t\t\tj = quadratic ? 4 : 1;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tp = props[i];\n\t\t\t\t\ta = obj[p];\n\t\t\t\t\t_calculateControlPoints(a, curviness, quadratic, basic, _corProps[p]); //this method requires that _parseAnchors() and _setSegmentRatios() ran first so that _r1, _r2, and _r3 values are populated for all properties\n\t\t\t\t\tif (seamless) {\n\t\t\t\t\t\ta.splice(0, j);\n\t\t\t\t\t\ta.splice(a.length - j, j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\t_parseBezierData = function(values, type, prepend) {\n\t\t\t\ttype = type || \"soft\";\n\t\t\t\tvar obj = {},\n\t\t\t\t\tinc = (type === \"cubic\") ? 3 : 2,\n\t\t\t\t\tsoft = (type === \"soft\"),\n\t\t\t\t\tprops = [],\n\t\t\t\t\ta, b, c, d, cur, i, j, l, p, cnt, tmp;\n\t\t\t\tif (soft && prepend) {\n\t\t\t\t\tvalues = [prepend].concat(values);\n\t\t\t\t}\n\t\t\t\tif (values == null || values.length < inc + 1) { throw \"invalid Bezier data\"; }\n\t\t\t\tfor (p in values[0]) {\n\t\t\t\t\tprops.push(p);\n\t\t\t\t}\n\t\t\t\ti = props.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tp = props[i];\n\t\t\t\t\tobj[p] = cur = [];\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\tl = values.length;\n\t\t\t\t\tfor (j = 0; j < l; j++) {\n\t\t\t\t\t\ta = (prepend == null) ? values[j][p] : (typeof( (tmp = values[j][p]) ) === \"string\" && tmp.charAt(1) === \"=\") ? prepend[p] + Number(tmp.charAt(0) + tmp.substr(2)) : Number(tmp);\n\t\t\t\t\t\tif (soft) if (j > 1) if (j < l - 1) {\n\t\t\t\t\t\t\tcur[cnt++] = (a + cur[cnt-2]) / 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcur[cnt++] = a;\n\t\t\t\t\t}\n\t\t\t\t\tl = cnt - inc + 1;\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\tfor (j = 0; j < l; j += inc) {\n\t\t\t\t\t\ta = cur[j];\n\t\t\t\t\t\tb = cur[j+1];\n\t\t\t\t\t\tc = cur[j+2];\n\t\t\t\t\t\td = (inc === 2) ? 0 : cur[j+3];\n\t\t\t\t\t\tcur[cnt++] = tmp = (inc === 3) ? new Segment(a, b, c, d) : new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c);\n\t\t\t\t\t}\n\t\t\t\t\tcur.length = cnt;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\t_addCubicLengths = function(a, steps, resolution) {\n\t\t\t\tvar inc = 1 / resolution,\n\t\t\t\t\tj = a.length,\n\t\t\t\t\td, d1, s, da, ca, ba, p, i, inv, bez, index;\n\t\t\t\twhile (--j > -1) {\n\t\t\t\t\tbez = a[j];\n\t\t\t\t\ts = bez.a;\n\t\t\t\t\tda = bez.d - s;\n\t\t\t\t\tca = bez.c - s;\n\t\t\t\t\tba = bez.b - s;\n\t\t\t\t\td = d1 = 0;\n\t\t\t\t\tfor (i = 1; i <= resolution; i++) {\n\t\t\t\t\t\tp = inc * i;\n\t\t\t\t\t\tinv = 1 - p;\n\t\t\t\t\t\td = d1 - (d1 = (p * p * da + 3 * inv * (p * ca + inv * ba)) * p);\n\t\t\t\t\t\tindex = j * resolution + i - 1;\n\t\t\t\t\t\tsteps[index] = (steps[index] || 0) + d * d;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t_parseLengthData = function(obj, resolution) {\n\t\t\t\tresolution = resolution >> 0 || 6;\n\t\t\t\tvar a = [],\n\t\t\t\t\tlengths = [],\n\t\t\t\t\td = 0,\n\t\t\t\t\ttotal = 0,\n\t\t\t\t\tthreshold = resolution - 1,\n\t\t\t\t\tsegments = [],\n\t\t\t\t\tcurLS = [], //current length segments array\n\t\t\t\t\tp, i, l, index;\n\t\t\t\tfor (p in obj) {\n\t\t\t\t\t_addCubicLengths(obj[p], a, resolution);\n\t\t\t\t}\n\t\t\t\tl = a.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\td += Math.sqrt(a[i]);\n\t\t\t\t\tindex = i % resolution;\n\t\t\t\t\tcurLS[index] = d;\n\t\t\t\t\tif (index === threshold) {\n\t\t\t\t\t\ttotal += d;\n\t\t\t\t\t\tindex = (i / resolution) >> 0;\n\t\t\t\t\t\tsegments[index] = curLS;\n\t\t\t\t\t\tlengths[index] = total;\n\t\t\t\t\t\td = 0;\n\t\t\t\t\t\tcurLS = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {length:total, lengths:lengths, segments:segments};\n\t\t\t},\n\n\n\n\t\t\tBezierPlugin = _gsScope._gsDefine.plugin({\n\t\t\t\t\tpropName: \"bezier\",\n\t\t\t\t\tpriority: -1,\n\t\t\t\t\tversion: \"1.3.9\",\n\t\t\t\t\tAPI: 2,\n\t\t\t\t\tglobal:true,\n\n\t\t\t\t\t//gets called when the tween renders for the first time. This is where initial values should be recorded and any setup routines should run.\n\t\t\t\t\tinit: function(target, vars, tween) {\n\t\t\t\t\t\tthis._target = target;\n\t\t\t\t\t\tif (vars instanceof Array) {\n\t\t\t\t\t\t\tvars = {values:vars};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._func = {};\n\t\t\t\t\t\tthis._mod = {};\n\t\t\t\t\t\tthis._props = [];\n\t\t\t\t\t\tthis._timeRes = (vars.timeResolution == null) ? 6 : parseInt(vars.timeResolution, 10);\n\t\t\t\t\t\tvar values = vars.values || [],\n\t\t\t\t\t\t\tfirst = {},\n\t\t\t\t\t\t\tsecond = values[0],\n\t\t\t\t\t\t\tautoRotate = vars.autoRotate || tween.vars.orientToBezier,\n\t\t\t\t\t\t\tp, isFunc, i, j, prepend;\n\n\t\t\t\t\t\tthis._autoRotate = autoRotate ? (autoRotate instanceof Array) ? autoRotate : [[\"x\",\"y\",\"rotation\",((autoRotate === true) ? 0 : Number(autoRotate) || 0)]] : null;\n\t\t\t\t\t\tfor (p in second) {\n\t\t\t\t\t\t\tthis._props.push(p);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ti = this._props.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\tp = this._props[i];\n\n\t\t\t\t\t\t\tthis._overwriteProps.push(p);\n\t\t\t\t\t\t\tisFunc = this._func[p] = (typeof(target[p]) === \"function\");\n\t\t\t\t\t\t\tfirst[p] = (!isFunc) ? parseFloat(target[p]) : target[ ((p.indexOf(\"set\") || typeof(target[\"get\" + p.substr(3)]) !== \"function\") ? p : \"get\" + p.substr(3)) ]();\n\t\t\t\t\t\t\tif (!prepend) if (first[p] !== values[0][p]) {\n\t\t\t\t\t\t\t\tprepend = first;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._beziers = (vars.type !== \"cubic\" && vars.type !== \"quadratic\" && vars.type !== \"soft\") ? bezierThrough(values, isNaN(vars.curviness) ? 1 : vars.curviness, false, (vars.type === \"thruBasic\"), vars.correlate, prepend) : _parseBezierData(values, vars.type, first);\n\t\t\t\t\t\tthis._segCount = this._beziers[p].length;\n\n\t\t\t\t\t\tif (this._timeRes) {\n\t\t\t\t\t\t\tvar ld = _parseLengthData(this._beziers, this._timeRes);\n\t\t\t\t\t\t\tthis._length = ld.length;\n\t\t\t\t\t\t\tthis._lengths = ld.lengths;\n\t\t\t\t\t\t\tthis._segments = ld.segments;\n\t\t\t\t\t\t\tthis._l1 = this._li = this._s1 = this._si = 0;\n\t\t\t\t\t\t\tthis._l2 = this._lengths[0];\n\t\t\t\t\t\t\tthis._curSeg = this._segments[0];\n\t\t\t\t\t\t\tthis._s2 = this._curSeg[0];\n\t\t\t\t\t\t\tthis._prec = 1 / this._curSeg.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((autoRotate = this._autoRotate)) {\n\t\t\t\t\t\t\tthis._initialRotations = [];\n\t\t\t\t\t\t\tif (!(autoRotate[0] instanceof Array)) {\n\t\t\t\t\t\t\t\tthis._autoRotate = autoRotate = [autoRotate];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ti = autoRotate.length;\n\t\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t\tfor (j = 0; j < 3; j++) {\n\t\t\t\t\t\t\t\t\tp = autoRotate[i][j];\n\t\t\t\t\t\t\t\t\tthis._func[p] = (typeof(target[p]) === \"function\") ? target[ ((p.indexOf(\"set\") || typeof(target[\"get\" + p.substr(3)]) !== \"function\") ? p : \"get\" + p.substr(3)) ] : false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tp = autoRotate[i][2];\n\t\t\t\t\t\t\t\tthis._initialRotations[i] = (this._func[p] ? this._func[p].call(this._target) : this._target[p]) || 0;\n\t\t\t\t\t\t\t\tthis._overwriteProps.push(p);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._startRatio = tween.vars.runBackwards ? 1 : 0; //we determine the starting ratio when the tween inits which is always 0 unless the tween has runBackwards:true (indicating it's a from() tween) in which case it's 1.\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\n\t\t\t\t\t//called each time the values should be updated, and the ratio gets passed as the only parameter (typically it's a value between 0 and 1, but it can exceed those when using an ease like Elastic.easeOut or Back.easeOut, etc.)\n\t\t\t\t\tset: function(v) {\n\t\t\t\t\t\tvar segments = this._segCount,\n\t\t\t\t\t\t\tfunc = this._func,\n\t\t\t\t\t\t\ttarget = this._target,\n\t\t\t\t\t\t\tnotStart = (v !== this._startRatio),\n\t\t\t\t\t\t\tcurIndex, inv, i, p, b, t, val, l, lengths, curSeg, v1;\n\t\t\t\t\t\tif (!this._timeRes) {\n\t\t\t\t\t\t\tcurIndex = (v < 0) ? 0 : (v >= 1) ? segments - 1 : (segments * v) >> 0;\n\t\t\t\t\t\t\tt = (v - (curIndex * (1 / segments))) * segments;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlengths = this._lengths;\n\t\t\t\t\t\t\tcurSeg = this._curSeg;\n\t\t\t\t\t\t\tv1 = v * this._length;\n\t\t\t\t\t\t\ti = this._li;\n\t\t\t\t\t\t\t//find the appropriate segment (if the currently cached one isn't correct)\n\t\t\t\t\t\t\tif (v1 > this._l2 && i < segments - 1) {\n\t\t\t\t\t\t\t\tl = segments - 1;\n\t\t\t\t\t\t\t\twhile (i < l && (this._l2 = lengths[++i]) <= v1) {\t}\n\t\t\t\t\t\t\t\tthis._l1 = lengths[i-1];\n\t\t\t\t\t\t\t\tthis._li = i;\n\t\t\t\t\t\t\t\tthis._curSeg = curSeg = this._segments[i];\n\t\t\t\t\t\t\t\tthis._s2 = curSeg[(this._s1 = this._si = 0)];\n\t\t\t\t\t\t\t} else if (v1 < this._l1 && i > 0) {\n\t\t\t\t\t\t\t\twhile (i > 0 && (this._l1 = lengths[--i]) >= v1) { }\n\t\t\t\t\t\t\t\tif (i === 0 && v1 < this._l1) {\n\t\t\t\t\t\t\t\t\tthis._l1 = 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis._l2 = lengths[i];\n\t\t\t\t\t\t\t\tthis._li = i;\n\t\t\t\t\t\t\t\tthis._curSeg = curSeg = this._segments[i];\n\t\t\t\t\t\t\t\tthis._s1 = curSeg[(this._si = curSeg.length - 1) - 1] || 0;\n\t\t\t\t\t\t\t\tthis._s2 = curSeg[this._si];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurIndex = i;\n\t\t\t\t\t\t\t//now find the appropriate sub-segment (we split it into the number of pieces that was defined by \"precision\" and measured each one)\n\t\t\t\t\t\t\tv1 -= this._l1;\n\t\t\t\t\t\t\ti = this._si;\n\t\t\t\t\t\t\tif (v1 > this._s2 && i < curSeg.length - 1) {\n\t\t\t\t\t\t\t\tl = curSeg.length - 1;\n\t\t\t\t\t\t\t\twhile (i < l && (this._s2 = curSeg[++i]) <= v1) {\t}\n\t\t\t\t\t\t\t\tthis._s1 = curSeg[i-1];\n\t\t\t\t\t\t\t\tthis._si = i;\n\t\t\t\t\t\t\t} else if (v1 < this._s1 && i > 0) {\n\t\t\t\t\t\t\t\twhile (i > 0 && (this._s1 = curSeg[--i]) >= v1) {\t}\n\t\t\t\t\t\t\t\tif (i === 0 && v1 < this._s1) {\n\t\t\t\t\t\t\t\t\tthis._s1 = 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis._s2 = curSeg[i];\n\t\t\t\t\t\t\t\tthis._si = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tt = (v === 1) ? 1 : ((i + (v1 - this._s1) / (this._s2 - this._s1)) * this._prec) || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinv = 1 - t;\n\n\t\t\t\t\t\ti = this._props.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\tp = this._props[i];\n\t\t\t\t\t\t\tb = this._beziers[p][curIndex];\n\t\t\t\t\t\t\tval = (t * t * b.da + 3 * inv * (t * b.ca + inv * b.ba)) * t + b.a;\n\t\t\t\t\t\t\tif (this._mod[p]) {\n\t\t\t\t\t\t\t\tval = this._mod[p](val, target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (func[p]) {\n\t\t\t\t\t\t\t\ttarget[p](val);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget[p] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this._autoRotate) {\n\t\t\t\t\t\t\tvar ar = this._autoRotate,\n\t\t\t\t\t\t\t\tb2, x1, y1, x2, y2, add, conv;\n\t\t\t\t\t\t\ti = ar.length;\n\t\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t\tp = ar[i][2];\n\t\t\t\t\t\t\t\tadd = ar[i][3] || 0;\n\t\t\t\t\t\t\t\tconv = (ar[i][4] === true) ? 1 : _RAD2DEG;\n\t\t\t\t\t\t\t\tb = this._beziers[ar[i][0]];\n\t\t\t\t\t\t\t\tb2 = this._beziers[ar[i][1]];\n\n\t\t\t\t\t\t\t\tif (b && b2) { //in case one of the properties got overwritten.\n\t\t\t\t\t\t\t\t\tb = b[curIndex];\n\t\t\t\t\t\t\t\t\tb2 = b2[curIndex];\n\n\t\t\t\t\t\t\t\t\tx1 = b.a + (b.b - b.a) * t;\n\t\t\t\t\t\t\t\t\tx2 = b.b + (b.c - b.b) * t;\n\t\t\t\t\t\t\t\t\tx1 += (x2 - x1) * t;\n\t\t\t\t\t\t\t\t\tx2 += ((b.c + (b.d - b.c) * t) - x2) * t;\n\n\t\t\t\t\t\t\t\t\ty1 = b2.a + (b2.b - b2.a) * t;\n\t\t\t\t\t\t\t\t\ty2 = b2.b + (b2.c - b2.b) * t;\n\t\t\t\t\t\t\t\t\ty1 += (y2 - y1) * t;\n\t\t\t\t\t\t\t\t\ty2 += ((b2.c + (b2.d - b2.c) * t) - y2) * t;\n\n\t\t\t\t\t\t\t\t\tval = notStart ? Math.atan2(y2 - y1, x2 - x1) * conv + add : this._initialRotations[i];\n\n\t\t\t\t\t\t\t\t\tif (this._mod[p]) {\n\t\t\t\t\t\t\t\t\t\tval = this._mod[p](val, target); //for modProps\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (func[p]) {\n\t\t\t\t\t\t\t\t\t\ttarget[p](val);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttarget[p] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}),\n\t\t\tp = BezierPlugin.prototype;\n\n\n\t\tBezierPlugin.bezierThrough = bezierThrough;\n\t\tBezierPlugin.cubicToQuadratic = cubicToQuadratic;\n\t\tBezierPlugin._autoCSS = true; //indicates that this plugin can be inserted into the \"css\" object using the autoCSS feature of TweenLite\n\t\tBezierPlugin.quadraticToCubic = function(a, b, c) {\n\t\t\treturn new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c);\n\t\t};\n\n\t\tBezierPlugin._cssRegister = function() {\n\t\t\tvar CSSPlugin = _globals.CSSPlugin;\n\t\t\tif (!CSSPlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _internals = CSSPlugin._internals,\n\t\t\t\t_parseToProxy = _internals._parseToProxy,\n\t\t\t\t_setPluginRatio = _internals._setPluginRatio,\n\t\t\t\tCSSPropTween = _internals.CSSPropTween;\n\t\t\t_internals._registerComplexSpecialProp(\"bezier\", {parser:function(t, e, prop, cssp, pt, plugin) {\n\t\t\t\tif (e instanceof Array) {\n\t\t\t\t\te = {values:e};\n\t\t\t\t}\n\t\t\t\tplugin = new BezierPlugin();\n\t\t\t\tvar values = e.values,\n\t\t\t\t\tl = values.length - 1,\n\t\t\t\t\tpluginValues = [],\n\t\t\t\t\tv = {},\n\t\t\t\t\ti, p, data;\n\t\t\t\tif (l < 0) {\n\t\t\t\t\treturn pt;\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i <= l; i++) {\n\t\t\t\t\tdata = _parseToProxy(t, values[i], cssp, pt, plugin, (l !== i));\n\t\t\t\t\tpluginValues[i] = data.end;\n\t\t\t\t}\n\t\t\t\tfor (p in e) {\n\t\t\t\t\tv[p] = e[p]; //duplicate the vars object because we need to alter some things which would cause problems if the user plans to reuse the same vars object for another tween.\n\t\t\t\t}\n\t\t\t\tv.values = pluginValues;\n\t\t\t\tpt = new CSSPropTween(t, \"bezier\", 0, 0, data.pt, 2);\n\t\t\t\tpt.data = data;\n\t\t\t\tpt.plugin = plugin;\n\t\t\t\tpt.setRatio = _setPluginRatio;\n\t\t\t\tif (v.autoRotate === 0) {\n\t\t\t\t\tv.autoRotate = true;\n\t\t\t\t}\n\t\t\t\tif (v.autoRotate && !(v.autoRotate instanceof Array)) {\n\t\t\t\t\ti = (v.autoRotate === true) ? 0 : Number(v.autoRotate);\n\t\t\t\t\tv.autoRotate = (data.end.left != null) ? [[\"left\",\"top\",\"rotation\",i,false]] : (data.end.x != null) ? [[\"x\",\"y\",\"rotation\",i,false]] : false;\n\t\t\t\t}\n\t\t\t\tif (v.autoRotate) {\n\t\t\t\t\tif (!cssp._transform) {\n\t\t\t\t\t\tcssp._enableTransforms(false);\n\t\t\t\t\t}\n\t\t\t\t\tdata.autoRotate = cssp._target._gsTransform;\n\t\t\t\t\tdata.proxy.rotation = data.autoRotate.rotation || 0;\n\t\t\t\t\tcssp._overwriteProps.push(\"rotation\");\n\t\t\t\t}\n\t\t\t\tplugin._onInitTween(data.proxy, v, cssp._tween);\n\t\t\t\treturn pt;\n\t\t\t}});\n\t\t};\n\n\t\tp._mod = function(lookup) {\n\t\t\tvar op = this._overwriteProps,\n\t\t\t\ti = op.length,\n\t\t\t\tval;\n\t\t\twhile (--i > -1) {\n\t\t\t\tval = lookup[op[i]];\n\t\t\t\tif (val && typeof(val) === \"function\") {\n\t\t\t\t\tthis._mod[op[i]] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp._kill = function(lookup) {\n\t\t\tvar a = this._props,\n\t\t\t\tp, i;\n\t\t\tfor (p in this._beziers) {\n\t\t\t\tif (p in lookup) {\n\t\t\t\t\tdelete this._beziers[p];\n\t\t\t\t\tdelete this._func[p];\n\t\t\t\t\ti = a.length;\n\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\tif (a[i] === p) {\n\t\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ta = this._autoRotate;\n\t\t\tif (a) {\n\t\t\t\ti = a.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (lookup[a[i][2]]) {\n\t\t\t\t\t\ta.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._super._kill.call(this, lookup);\n\t\t};\n\nexport { BezierPlugin, BezierPlugin as default };","/*!\n * VERSION: 1.16.1\n * DATE: 2018-08-27\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\n\nimport { _gsScope, globals, Ease, Linear, Power0, Power1, Power2, Power3, Power4 } from \"./TweenLite.js\";\n\n_gsScope._gsDefine(\"easing.Back\", [\"easing.Ease\"], function() {\n\t\t\n\t\tvar w = (_gsScope.GreenSockGlobals || _gsScope),\n\t\t\tgs = w.com.greensock,\n\t\t\t_2PI = Math.PI * 2,\n\t\t\t_HALF_PI = Math.PI / 2,\n\t\t\t_class = gs._class,\n\t\t\t_create = function(n, f) {\n\t\t\t\tvar C = _class(\"easing.\" + n, function(){}, true),\n\t\t\t\t\tp = C.prototype = new Ease();\n\t\t\t\tp.constructor = C;\n\t\t\t\tp.getRatio = f;\n\t\t\t\treturn C;\n\t\t\t},\n\t\t\t_easeReg = Ease.register || function(){}, //put an empty function in place just as a safety measure in case someone loads an OLD version of TweenLite.js where Ease.register doesn't exist.\n\t\t\t_wrap = function(name, EaseOut, EaseIn, EaseInOut, aliases) {\n\t\t\t\tvar C = _class(\"easing.\"+name, {\n\t\t\t\t\teaseOut:new EaseOut(),\n\t\t\t\t\teaseIn:new EaseIn(),\n\t\t\t\t\teaseInOut:new EaseInOut()\n\t\t\t\t}, true);\n\t\t\t\t_easeReg(C, name);\n\t\t\t\treturn C;\n\t\t\t},\n\t\t\tEasePoint = function(time, value, next) {\n\t\t\t\tthis.t = time;\n\t\t\t\tthis.v = value;\n\t\t\t\tif (next) {\n\t\t\t\t\tthis.next = next;\n\t\t\t\t\tnext.prev = this;\n\t\t\t\t\tthis.c = next.v - value;\n\t\t\t\t\tthis.gap = next.t - time;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t//Back\n\t\t\t_createBack = function(n, f) {\n\t\t\t\tvar C = _class(\"easing.\" + n, function(overshoot) {\n\t\t\t\t\t\tthis._p1 = (overshoot || overshoot === 0) ? overshoot : 1.70158;\n\t\t\t\t\t\tthis._p2 = this._p1 * 1.525;\n\t\t\t\t\t}, true), \n\t\t\t\t\tp = C.prototype = new Ease();\n\t\t\t\tp.constructor = C;\n\t\t\t\tp.getRatio = f;\n\t\t\t\tp.config = function(overshoot) {\n\t\t\t\t\treturn new C(overshoot);\n\t\t\t\t};\n\t\t\t\treturn C;\n\t\t\t},\n\n\t\t\tBack = _wrap(\"Back\",\n\t\t\t\t_createBack(\"BackOut\", function(p) {\n\t\t\t\t\treturn ((p = p - 1) * p * ((this._p1 + 1) * p + this._p1) + 1);\n\t\t\t\t}),\n\t\t\t\t_createBack(\"BackIn\", function(p) {\n\t\t\t\t\treturn p * p * ((this._p1 + 1) * p - this._p1);\n\t\t\t\t}),\n\t\t\t\t_createBack(\"BackInOut\", function(p) {\n\t\t\t\t\treturn ((p *= 2) < 1) ? 0.5 * p * p * ((this._p2 + 1) * p - this._p2) : 0.5 * ((p -= 2) * p * ((this._p2 + 1) * p + this._p2) + 2);\n\t\t\t\t})\n\t\t\t),\n\n\n\t\t\t//SlowMo\n\t\t\tSlowMo = _class(\"easing.SlowMo\", function(linearRatio, power, yoyoMode) {\n\t\t\t\tpower = (power || power === 0) ? power : 0.7;\n\t\t\t\tif (linearRatio == null) {\n\t\t\t\t\tlinearRatio = 0.7;\n\t\t\t\t} else if (linearRatio > 1) {\n\t\t\t\t\tlinearRatio = 1;\n\t\t\t\t}\n\t\t\t\tthis._p = (linearRatio !== 1) ? power : 0;\n\t\t\t\tthis._p1 = (1 - linearRatio) / 2;\n\t\t\t\tthis._p2 = linearRatio;\n\t\t\t\tthis._p3 = this._p1 + this._p2;\n\t\t\t\tthis._calcEnd = (yoyoMode === true);\n\t\t\t}, true),\n\t\t\tp = SlowMo.prototype = new Ease(),\n\t\t\tSteppedEase, ExpoScaleEase, RoughEase, _createElastic;\n\t\t\t\n\t\tp.constructor = SlowMo;\n\t\tp.getRatio = function(p) {\n\t\t\tvar r = p + (0.5 - p) * this._p;\n\t\t\tif (p < this._p1) {\n\t\t\t\treturn this._calcEnd ? 1 - ((p = 1 - (p / this._p1)) * p) : r - ((p = 1 - (p / this._p1)) * p * p * p * r);\n\t\t\t} else if (p > this._p3) {\n\t\t\t\treturn this._calcEnd ? (p === 1 ? 0 : 1 - (p = (p - this._p3) / this._p1) * p) : r + ((p - r) * (p = (p - this._p3) / this._p1) * p * p * p); //added p === 1 ? 0 to avoid floating point rounding errors from affecting the final value, like 1 - 0.7 = 0.30000000000000004 instead of 0.3\n\t\t\t}\n\t\t\treturn this._calcEnd ? 1 : r;\n\t\t};\n\t\tSlowMo.ease = new SlowMo(0.7, 0.7);\n\t\t\n\t\tp.config = SlowMo.config = function(linearRatio, power, yoyoMode) {\n\t\t\treturn new SlowMo(linearRatio, power, yoyoMode);\n\t\t};\n\n\n\t\t//SteppedEase\n\t\tSteppedEase = _class(\"easing.SteppedEase\", function(steps, immediateStart) {\n\t\t\t\tsteps = steps || 1;\n\t\t\t\tthis._p1 = 1 / steps;\n\t\t\t\tthis._p2 = steps + (immediateStart ? 0 : 1);\n\t\t\t\tthis._p3 = immediateStart ? 1 : 0;\n\t\t\t}, true);\n\t\tp = SteppedEase.prototype = new Ease();\t\n\t\tp.constructor = SteppedEase;\n\t\tp.getRatio = function(p) {\n\t\t\tif (p < 0) {\n\t\t\t\tp = 0;\n\t\t\t} else if (p >= 1) {\n\t\t\t\tp = 0.999999999;\n\t\t\t}\n\t\t\treturn (((this._p2 * p) | 0) + this._p3) * this._p1;\n\t\t};\n\t\tp.config = SteppedEase.config = function(steps, immediateStart) {\n\t\t\treturn new SteppedEase(steps, immediateStart);\n\t\t};\n\n\n\t\t//ExpoScaleEase\n\t\tExpoScaleEase = _class(\"easing.ExpoScaleEase\", function(start, end, ease) {\n\t\t\tthis._p1 = Math.log(end / start);\n\t\t\tthis._p2 = end - start;\n\t\t\tthis._p3 = start;\n\t\t\tthis._ease = ease;\n\t\t}, true);\n\t\tp = ExpoScaleEase.prototype = new Ease();\n\t\tp.constructor = ExpoScaleEase;\n\t\tp.getRatio = function(p) {\n\t\t\tif (this._ease) {\n\t\t\t\tp = this._ease.getRatio(p);\n\t\t\t}\n\t\t\treturn (this._p3 * Math.exp(this._p1 * p) - this._p3) / this._p2;\n\t\t};\n\t\tp.config = ExpoScaleEase.config = function(start, end, ease) {\n\t\t\treturn new ExpoScaleEase(start, end, ease);\n\t\t};\n\n\n\t\t//RoughEase\n\t\tRoughEase = _class(\"easing.RoughEase\", function(vars) {\n\t\t\tvars = vars || {};\n\t\t\tvar taper = vars.taper || \"none\",\n\t\t\t\ta = [],\n\t\t\t\tcnt = 0,\n\t\t\t\tpoints = (vars.points || 20) | 0,\n\t\t\t\ti = points,\n\t\t\t\trandomize = (vars.randomize !== false),\n\t\t\t\tclamp = (vars.clamp === true),\n\t\t\t\ttemplate = (vars.template instanceof Ease) ? vars.template : null,\n\t\t\t\tstrength = (typeof(vars.strength) === \"number\") ? vars.strength * 0.4 : 0.4,\n\t\t\t\tx, y, bump, invX, obj, pnt;\n\t\t\twhile (--i > -1) {\n\t\t\t\tx = randomize ? Math.random() : (1 / points) * i;\n\t\t\t\ty = template ? template.getRatio(x) : x;\n\t\t\t\tif (taper === \"none\") {\n\t\t\t\t\tbump = strength;\n\t\t\t\t} else if (taper === \"out\") {\n\t\t\t\t\tinvX = 1 - x;\n\t\t\t\t\tbump = invX * invX * strength;\n\t\t\t\t} else if (taper === \"in\") {\n\t\t\t\t\tbump = x * x * strength;\n\t\t\t\t} else if (x < 0.5) {  //\"both\" (start)\n\t\t\t\t\tinvX = x * 2;\n\t\t\t\t\tbump = invX * invX * 0.5 * strength;\n\t\t\t\t} else {\t\t\t\t//\"both\" (end)\n\t\t\t\t\tinvX = (1 - x) * 2;\n\t\t\t\t\tbump = invX * invX * 0.5 * strength;\n\t\t\t\t}\n\t\t\t\tif (randomize) {\n\t\t\t\t\ty += (Math.random() * bump) - (bump * 0.5);\n\t\t\t\t} else if (i % 2) {\n\t\t\t\t\ty += bump * 0.5;\n\t\t\t\t} else {\n\t\t\t\t\ty -= bump * 0.5;\n\t\t\t\t}\n\t\t\t\tif (clamp) {\n\t\t\t\t\tif (y > 1) {\n\t\t\t\t\t\ty = 1;\n\t\t\t\t\t} else if (y < 0) {\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ta[cnt++] = {x:x, y:y};\n\t\t\t}\n\t\t\ta.sort(function(a, b) {\n\t\t\t\treturn a.x - b.x;\n\t\t\t});\n\n\t\t\tpnt = new EasePoint(1, 1, null);\n\t\t\ti = points;\n\t\t\twhile (--i > -1) {\n\t\t\t\tobj = a[i];\n\t\t\t\tpnt = new EasePoint(obj.x, obj.y, pnt);\n\t\t\t}\n\n\t\t\tthis._prev = new EasePoint(0, 0, (pnt.t !== 0) ? pnt : pnt.next);\n\t\t}, true);\n\t\tp = RoughEase.prototype = new Ease();\n\t\tp.constructor = RoughEase;\n\t\tp.getRatio = function(p) {\n\t\t\tvar pnt = this._prev;\n\t\t\tif (p > pnt.t) {\n\t\t\t\twhile (pnt.next && p >= pnt.t) {\n\t\t\t\t\tpnt = pnt.next;\n\t\t\t\t}\n\t\t\t\tpnt = pnt.prev;\n\t\t\t} else {\n\t\t\t\twhile (pnt.prev && p <= pnt.t) {\n\t\t\t\t\tpnt = pnt.prev;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._prev = pnt;\n\t\t\treturn (pnt.v + ((p - pnt.t) / pnt.gap) * pnt.c);\n\t\t};\n\t\tp.config = function(vars) {\n\t\t\treturn new RoughEase(vars);\n\t\t};\n\t\tRoughEase.ease = new RoughEase();\n\n\n\t\t//Bounce\n\t\t_wrap(\"Bounce\",\n\t\t\t_create(\"BounceOut\", function(p) {\n\t\t\t\tif (p < 1 / 2.75) {\n\t\t\t\t\treturn 7.5625 * p * p;\n\t\t\t\t} else if (p < 2 / 2.75) {\n\t\t\t\t\treturn 7.5625 * (p -= 1.5 / 2.75) * p + 0.75;\n\t\t\t\t} else if (p < 2.5 / 2.75) {\n\t\t\t\t\treturn 7.5625 * (p -= 2.25 / 2.75) * p + 0.9375;\n\t\t\t\t}\n\t\t\t\treturn 7.5625 * (p -= 2.625 / 2.75) * p + 0.984375;\n\t\t\t}),\n\t\t\t_create(\"BounceIn\", function(p) {\n\t\t\t\tif ((p = 1 - p) < 1 / 2.75) {\n\t\t\t\t\treturn 1 - (7.5625 * p * p);\n\t\t\t\t} else if (p < 2 / 2.75) {\n\t\t\t\t\treturn 1 - (7.5625 * (p -= 1.5 / 2.75) * p + 0.75);\n\t\t\t\t} else if (p < 2.5 / 2.75) {\n\t\t\t\t\treturn 1 - (7.5625 * (p -= 2.25 / 2.75) * p + 0.9375);\n\t\t\t\t}\n\t\t\t\treturn 1 - (7.5625 * (p -= 2.625 / 2.75) * p + 0.984375);\n\t\t\t}),\n\t\t\t_create(\"BounceInOut\", function(p) {\n\t\t\t\tvar invert = (p < 0.5);\n\t\t\t\tif (invert) {\n\t\t\t\t\tp = 1 - (p * 2);\n\t\t\t\t} else {\n\t\t\t\t\tp = (p * 2) - 1;\n\t\t\t\t}\n\t\t\t\tif (p < 1 / 2.75) {\n\t\t\t\t\tp = 7.5625 * p * p;\n\t\t\t\t} else if (p < 2 / 2.75) {\n\t\t\t\t\tp = 7.5625 * (p -= 1.5 / 2.75) * p + 0.75;\n\t\t\t\t} else if (p < 2.5 / 2.75) {\n\t\t\t\t\tp = 7.5625 * (p -= 2.25 / 2.75) * p + 0.9375;\n\t\t\t\t} else {\n\t\t\t\t\tp = 7.5625 * (p -= 2.625 / 2.75) * p + 0.984375;\n\t\t\t\t}\n\t\t\t\treturn invert ? (1 - p) * 0.5 : p * 0.5 + 0.5;\n\t\t\t})\n\t\t);\n\n\n\t\t//CIRC\n\t\t_wrap(\"Circ\",\n\t\t\t_create(\"CircOut\", function(p) {\n\t\t\t\treturn Math.sqrt(1 - (p = p - 1) * p);\n\t\t\t}),\n\t\t\t_create(\"CircIn\", function(p) {\n\t\t\t\treturn -(Math.sqrt(1 - (p * p)) - 1);\n\t\t\t}),\n\t\t\t_create(\"CircInOut\", function(p) {\n\t\t\t\treturn ((p*=2) < 1) ? -0.5 * (Math.sqrt(1 - p * p) - 1) : 0.5 * (Math.sqrt(1 - (p -= 2) * p) + 1);\n\t\t\t})\n\t\t);\n\n\n\t\t//Elastic\n\t\t_createElastic = function(n, f, def) {\n\t\t\tvar C = _class(\"easing.\" + n, function(amplitude, period) {\n\t\t\t\t\tthis._p1 = (amplitude >= 1) ? amplitude : 1; //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n\t\t\t\t\tthis._p2 = (period || def) / (amplitude < 1 ? amplitude : 1);\n\t\t\t\t\tthis._p3 = this._p2 / _2PI * (Math.asin(1 / this._p1) || 0);\n\t\t\t\t\tthis._p2 = _2PI / this._p2; //precalculate to optimize\n\t\t\t\t}, true),\n\t\t\t\tp = C.prototype = new Ease();\n\t\t\tp.constructor = C;\n\t\t\tp.getRatio = f;\n\t\t\tp.config = function(amplitude, period) {\n\t\t\t\treturn new C(amplitude, period);\n\t\t\t};\n\t\t\treturn C;\n\t\t};\n\t\t_wrap(\"Elastic\",\n\t\t\t_createElastic(\"ElasticOut\", function(p) {\n\t\t\t\treturn this._p1 * Math.pow(2, -10 * p) * Math.sin( (p - this._p3) * this._p2 ) + 1;\n\t\t\t}, 0.3),\n\t\t\t_createElastic(\"ElasticIn\", function(p) {\n\t\t\t\treturn -(this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin( (p - this._p3) * this._p2 ));\n\t\t\t}, 0.3),\n\t\t\t_createElastic(\"ElasticInOut\", function(p) {\n\t\t\t\treturn ((p *= 2) < 1) ? -0.5 * (this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin( (p - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 *(p -= 1)) * Math.sin( (p - this._p3) * this._p2 ) * 0.5 + 1;\n\t\t\t}, 0.45)\n\t\t);\n\n\n\t\t//Expo\n\t\t_wrap(\"Expo\",\n\t\t\t_create(\"ExpoOut\", function(p) {\n\t\t\t\treturn 1 - Math.pow(2, -10 * p);\n\t\t\t}),\n\t\t\t_create(\"ExpoIn\", function(p) {\n\t\t\t\treturn Math.pow(2, 10 * (p - 1)) - 0.001;\n\t\t\t}),\n\t\t\t_create(\"ExpoInOut\", function(p) {\n\t\t\t\treturn ((p *= 2) < 1) ? 0.5 * Math.pow(2, 10 * (p - 1)) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\t\t\t})\n\t\t);\n\n\n\t\t//Sine\n\t\t_wrap(\"Sine\",\n\t\t\t_create(\"SineOut\", function(p) {\n\t\t\t\treturn Math.sin(p * _HALF_PI);\n\t\t\t}),\n\t\t\t_create(\"SineIn\", function(p) {\n\t\t\t\treturn -Math.cos(p * _HALF_PI) + 1;\n\t\t\t}),\n\t\t\t_create(\"SineInOut\", function(p) {\n\t\t\t\treturn -0.5 * (Math.cos(Math.PI * p) - 1);\n\t\t\t})\n\t\t);\n\n\t\t_class(\"easing.EaseLookup\", {\n\t\t\t\tfind:function(s) {\n\t\t\t\t\treturn Ease.map[s];\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t//register the non-standard eases\n\t\t_easeReg(w.SlowMo, \"SlowMo\", \"ease,\");\n\t\t_easeReg(RoughEase, \"RoughEase\", \"ease,\");\n\t\t_easeReg(SteppedEase, \"SteppedEase\", \"ease,\");\n\t\t\n\t\treturn Back;\n\t\t\n\t}, true);\n\nexport var Back = globals.Back;\nexport var Elastic = globals.Elastic;\nexport var Bounce = globals.Bounce;\nexport var RoughEase = globals.RoughEase;\nexport var SlowMo = globals.SlowMo;\nexport var SteppedEase = globals.SteppedEase;\nexport var Circ = globals.Circ;\nexport var Expo = globals.Expo;\nexport var Sine = globals.Sine;\nexport var ExpoScaleEase = globals.ExpoScaleEase;\nexport { Linear, Power0, Power1, Power2, Power3, Power4 };","/*!\n * VERSION: 2.1.3\n * DATE: 2019-05-17\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\n/* eslint-disable */\n\nimport TweenLite, { TweenPlugin, Ease, Power0, Power1, Power2, Power3, Power4, Linear } from \"./TweenLite.js\";\nimport TweenMaxBase from \"./TweenMaxBase.js\";\nimport CSSPlugin from \"./CSSPlugin.js\";\nimport AttrPlugin from \"./AttrPlugin.js\";\nimport RoundPropsPlugin from \"./RoundPropsPlugin.js\";\nimport DirectionalRotationPlugin from \"./DirectionalRotationPlugin.js\";\nimport TimelineLite from \"./TimelineLite.js\";\nimport TimelineMax from \"./TimelineMax.js\";\nimport BezierPlugin from \"./BezierPlugin.js\";\nimport { Back, Elastic, Bounce, RoughEase, SlowMo, SteppedEase, Circ, Expo, Sine, ExpoScaleEase } from \"./EasePack.js\";\n\n//the following two lines are designed to prevent tree shaking of the classes that were historically included with TweenMax (otherwise, folks would have to reference CSSPlugin, for example, to ensure their CSS-related animations worked)\nexport var TweenMax = TweenMaxBase;\nTweenMax._autoActivated = [TimelineLite, TimelineMax, CSSPlugin, AttrPlugin, BezierPlugin, RoundPropsPlugin, DirectionalRotationPlugin, Back, Elastic, Bounce, RoughEase, SlowMo, SteppedEase, Circ, Expo, Sine, ExpoScaleEase];\n\nexport { TweenMax as default };\nexport { TweenLite, TimelineLite, TimelineMax, CSSPlugin, AttrPlugin, BezierPlugin, DirectionalRotationPlugin, RoundPropsPlugin, TweenPlugin, Ease, Power0, Power1, Power2, Power3, Power4, Linear, Back, Elastic, Bounce, RoughEase, SlowMo, SteppedEase, Circ, Expo, Sine, ExpoScaleEase };\n","import * as THREE from 'three';\nimport TweenMax from 'gsap/TweenMax';\n\nexport default function (opts) {\n\n  var vertex = `\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\n\n  var fragment = `\nvarying vec2 vUv;\n\nuniform float dispFactor;\nuniform float dpr;\nuniform sampler2D disp;\n\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform float angle1;\nuniform float angle2;\nuniform float intensity1;\nuniform float intensity2;\nuniform vec4 res;\nuniform vec2 parent;\n\nmat2 getRotM(float angle) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat2(c, -s, s, c);\n}\n\nvoid main() {\n  vec4 disp = texture2D(disp, vUv);\n  vec2 dispVec = vec2(disp.r, disp.g);\n\n  vec2 uv = 0.5 * gl_FragCoord.xy / (res.xy) ;\n  vec2 myUV = (uv - vec2(0.5))*res.zw + vec2(0.5);\n\n\n  vec2 distortedPosition1 = myUV + getRotM(angle1) * dispVec * intensity1 * dispFactor;\n  vec2 distortedPosition2 = myUV + getRotM(angle2) * dispVec * intensity2 * (1.0 - dispFactor);\n  vec4 _texture1 = texture2D(texture1, distortedPosition1);\n  vec4 _texture2 = texture2D(texture2, distortedPosition2);\n  gl_FragColor = mix(_texture1, _texture2, dispFactor);\n}\n`;\n\n  // please respect authorship and do not remove\n  console.log('%c Hover effect by Robin Delaporte: https://github.com/robin-dela/hover-effect ', 'color: #bada55; font-size: 0.8rem');\n\n\n  function firstDefined() {\n    for (var i = 0; i < arguments.length; i++) {\n      if (arguments[i] !== undefined) return arguments[i];\n    }\n  }\n\n  var parent = opts.parent;\n  var dispImage = opts.displacementImage;\n  var image1 = opts.image1;\n  var image2 = opts.image2;\n  var imagesRatio = firstDefined(opts.imagesRatio, 1.0);\n  var intensity1 = firstDefined(opts.intensity1, opts.intensity, 1);\n  var intensity2 = firstDefined(opts.intensity2, opts.intensity, 1);\n  var commonAngle = firstDefined(opts.angle, Math.PI / 4); // 45 degrees by default, so grayscale images work correctly\n  var angle1 = firstDefined(opts.angle1, commonAngle);\n  var angle2 = firstDefined(opts.angle2, -commonAngle * 3);\n  var speedIn = firstDefined(opts.speedIn, opts.speed, 1.6);\n  var speedOut = firstDefined(opts.speedOut, opts.speed, 1.2);\n  var userHover = firstDefined(opts.hover, true);\n  var easing = firstDefined(opts.easing, Expo.easeOut);\n  var video = firstDefined(opts.video, false);\n\n  if (!parent) {\n    console.warn('Parent missing');\n    return;\n  }\n\n  if (!(image1 && image2 && dispImage)) {\n    console.warn('One or more images are missing');\n    return;\n  }\n\n  var scene = new THREE.Scene();\n  var camera = new THREE.OrthographicCamera(\n    parent.offsetWidth / -2,\n    parent.offsetWidth / 2,\n    parent.offsetHeight / 2,\n    parent.offsetHeight / -2,\n    1,\n    1000\n  );\n\n  camera.position.z = 1;\n\n  var renderer = new THREE.WebGLRenderer({\n    antialias: false,\n    alpha: true\n  });\n\n  renderer.setPixelRatio(2.0);\n  renderer.setClearColor(0xffffff, 0.0);\n  renderer.setSize(parent.offsetWidth, parent.offsetHeight);\n  parent.appendChild(renderer.domElement);\n\n  var render = function () {\n    // This will be called by the TextureLoader as well as TweenMax.\n    renderer.render(scene, camera);\n  };\n\n  var loader = new THREE.TextureLoader();\n  loader.crossOrigin = '';\n\n  var disp = loader.load(dispImage, render);\n  disp.magFilter = disp.minFilter = THREE.LinearFilter;\n\n  if (video) {\n    var animate = function() {\n        requestAnimationFrame(animate);\n\n        renderer.render(scene, camera);\n    };\n    animate();\n\n    var video = document.createElement('video');\n    video.autoplay = true;\n    video.loop = true;\n    video.src = image1;\n    video.load();\n\n    var video2 = document.createElement('video');\n    video2.autoplay = true;\n    video2.loop = true;\n    video2.src = image2;\n    video2.load();\n\n    var texture1 = new THREE.VideoTexture(video);\n    var texture2 = new THREE.VideoTexture(video2);\n    texture1.magFilter = texture2.magFilter = THREE.LinearFilter;\n    texture1.minFilter = texture2.minFilter = THREE.LinearFilter;\n\n    video2.addEventListener('loadeddata', function() {\n      video2.play();\n\n      texture2 = new THREE.VideoTexture(video2);\n      texture2.magFilter = THREE.LinearFilter;\n      texture2.minFilter = THREE.LinearFilter;\n\n      mat.uniforms.texture2.value = texture2;\n\n    }, false);\n\n    video.addEventListener('loadeddata', function() {\n      video.play();\n\n      texture1 = new THREE.VideoTexture(video);\n\n      texture1.magFilter = THREE.LinearFilter;\n      texture1.minFilter = THREE.LinearFilter;\n\n      mat.uniforms.texture1.value = texture1;\n    }, false);\n  } else {\n    var texture1 = loader.load(image1, render);\n    var texture2 = loader.load(image2, render);\n\n    texture1.magFilter = texture2.magFilter = THREE.LinearFilter;\n    texture1.minFilter = texture2.minFilter = THREE.LinearFilter;\n  }\n\n  let a1, a2;\n  var imageAspect = imagesRatio;\n  if (parent.offsetHeight / parent.offsetWidth < imageAspect) {\n    a1 = 1;\n    a2 = parent.offsetHeight / parent.offsetWidth / imageAspect;\n  } else {\n    a1 = (parent.offsetWidth / parent.offsetHeight) * imageAspect;\n    a2 = 1;\n  }\n\n  var mat = new THREE.ShaderMaterial({\n    uniforms: {\n      intensity1: {\n        type: 'f',\n        value: intensity1\n      },\n      intensity2: {\n        type: 'f',\n        value: intensity2\n      },\n      dispFactor: {\n        type: 'f',\n        value: 0.0\n      },\n      angle1: {\n        type: 'f',\n        value: angle1\n      },\n      angle2: {\n        type: 'f',\n        value: angle2\n      },\n      texture1: {\n        type: 't',\n        value: texture1\n      },\n      texture2: {\n        type: 't',\n        value: texture2\n      },\n      disp: {\n        type: 't',\n        value: disp\n      },\n      res: {\n        type: 'vec4',\n        value: new THREE.Vector4(parent.offsetWidth, parent.offsetHeight, a1, a2)\n      },\n      dpr: {\n        type: 'f',\n        value: window.devicePixelRatio\n      }\n    },\n\n    vertexShader: vertex,\n    fragmentShader: fragment,\n    transparent: true,\n    opacity: 1.0,\n  });\n\n  var geometry = new THREE.PlaneBufferGeometry(parent.offsetWidth, parent.offsetHeight, 1);\n  var object = new THREE.Mesh(geometry, mat);\n  scene.add(object);\n\n  function transitionIn() {\n    TweenMax.to(mat.uniforms.dispFactor, speedIn, {\n      value: 1,\n      ease: easing,\n      onUpdate: render,\n      onComplete: render,\n    });\n  }\n\n  function transitionOut() {\n    TweenMax.to(mat.uniforms.dispFactor, speedOut, {\n      value: 0,\n      ease: easing,\n      onUpdate: render,\n      onComplete: render,\n    });\n  }\n\n  if (userHover) {\n    parent.addEventListener('mouseenter', transitionIn);\n    parent.addEventListener('touchstart', transitionIn);\n    parent.addEventListener('mouseleave', transitionOut);\n    parent.addEventListener('touchend', transitionOut);\n  }\n\n  window.addEventListener('resize', function (e) {\n    if (parent.offsetHeight / parent.offsetWidth < imageAspect) {\n      a1 = 1;\n      a2 = parent.offsetHeight / parent.offsetWidth / imageAspect;\n    } else {\n      a1 = (parent.offsetWidth / parent.offsetHeight) * imageAspect;\n      a2 = 1;\n    }\n    object.material.uniforms.res.value = new THREE.Vector4(parent.offsetWidth, parent.offsetHeight, a1, a2);\n    renderer.setSize(parent.offsetWidth, parent.offsetHeight);\n\n    render()\n  });\n\n  this.next = transitionIn;\n  this.previous = transitionOut;\n};\n","import AOS from \"aos\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport \"aos/dist/aos.css\"; // You can also use <link> for styles\r\n// ..\r\nimport hoverEffect from \"hover-effect\";\r\nAOS.init();\r\nconst checkBox = document.querySelector(\".navigation_checkbox\");\r\nconst links = document.querySelectorAll(\".navigation_link\");\r\nconst linkarr = Array.from(links);\r\nlinkarr.forEach(el =>\r\n  el.addEventListener(\"click\", () => {\r\n    checkBox.checked = false;\r\n  })\r\n);\r\n\r\nlet stroke = anime({\r\n  targets: \"#svg-header path\",\r\n  strokeDashoffset: [anime.setDashoffset, 0],\r\n  easing: \"easeInOutQuad\",\r\n  duration: 5000,\r\n  direction: \"alternate\",\r\n  loop: true\r\n});\r\n\r\nlet fill = anime({\r\n  targets: \"#svg-header path\",\r\n  fill: \"#66fcf1\",\r\n  easing: \"easeInOutQuad\",\r\n  duration: 2000,\r\n  direction: \"alternate\",\r\n  loop: true\r\n});\r\n\r\nnew hoverEffect({\r\n  parent: document.querySelector(\".transition-image\"),\r\n  intensity1: 0.1,\r\n  intensity2: 0.1,\r\n  angle2: Math.PI / 2,\r\n  image1: require(\"../media/trans-1.jpg\"),\r\n  image2: require(\"../media/trans-2.jpg\"),\r\n  displacementImage:\r\n    \"https://cdn.rawgit.com/robin-dela/hover-effect/b6c6fd26/images/stripe1mul.png?raw=true\"\r\n});\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}